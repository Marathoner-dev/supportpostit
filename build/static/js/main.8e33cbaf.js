/*! For license information please see main.8e33cbaf.js.LICENSE.txt */
(()=>{"use strict";var e={4:(e,t,n)=>{var r=n(853),i=n(43),o=n(950);function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function u(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function c(e){if(31===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function h(e){if(l(e)!==e)throw Error(s(188))}function d(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=d(e)))return t;e=e.sibling}return null}var f=Object.assign,p=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),w=Symbol.for("react.consumer"),S=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),_=Symbol.for("react.lazy");Symbol.for("react.scope");var C=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var I=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var A=Symbol.iterator;function P(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=A&&e[A]||e["@@iterator"])?e:null}var N=Symbol.for("react.client.reference");function D(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===N?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case y:return"Fragment";case b:return"Profiler";case v:return"StrictMode";case x:return"Suspense";case T:return"SuspenseList";case C:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case g:return"Portal";case S:return e.displayName||"Context";case w:return(e._context.displayName||"Context")+".Consumer";case E:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case k:return null!==(t=e.displayName||null)?t:D(e.type)||"Memo";case _:t=e._payload,e=e._init;try{return D(e(t))}catch(Kr){}}return null}var R=Array.isArray,F=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L={pending:!1,data:null,method:null,action:null},M=[],V=-1;function j(e){return{current:e}}function U(e){0>V||(e.current=M[V],M[V]=null,V--)}function z(e,t){V++,M[V]=e.current,e.current=t}var B,H,q=j(null),W=j(null),K=j(null),G=j(null);function Q(e,t){switch(z(K,t),z(W,e),z(q,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?vh(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=bh(t=vh(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}U(q),z(q,e)}function Y(){U(q),U(W),U(K)}function X(e){null!==e.memoizedState&&z(G,e);var t=q.current,n=bh(t,e.type);t!==n&&(z(W,e),z(q,n))}function $(e){W.current===e&&(U(q),U(W)),G.current===e&&(U(G),hd._currentValue=L)}function J(e){if(void 0===B)try{throw Error()}catch(Kr){var t=Kr.stack.trim().match(/\n( *(at )?)/);B=t&&t[1]||"",H=-1<Kr.stack.indexOf("\n    at")?" (<anonymous>)":-1<Kr.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+B+e+H}var Z=!1;function ee(e,t){if(!e||Z)return"";Z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(Kr){var r=Kr}Reflect.construct(e,[],n)}else{try{n.call()}catch(i){r=i}e.call(n.prototype)}}else{try{throw Error()}catch(o){r=o}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(s){if(s&&r&&"string"===typeof s.stack)return[s.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=r.DetermineComponentFrameRoot(),s=o[0],a=o[1];if(s&&a){var l=s.split("\n"),u=a.split("\n");for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===u.length)for(r=l.length-1,i=u.length-1;1<=r&&0<=i&&l[r]!==u[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==u[i]){if(1!==r||1!==i)do{if(r--,0>--i||l[r]!==u[i]){var c="\n"+l[r].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}}while(1<=r&&0<=i);break}}}finally{Z=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?J(n):""}function te(e,t){switch(e.tag){case 26:case 27:case 5:return J(e.type);case 16:return J("Lazy");case 13:return e.child!==t&&null!==t?J("Suspense Fallback"):J("Suspense");case 19:return J("SuspenseList");case 0:case 15:return ee(e.type,!1);case 11:return ee(e.type.render,!1);case 1:return ee(e.type,!0);case 31:return J("Activity");default:return""}}function ne(e){try{var t="",n=null;do{t+=te(e,n),n=e,e=e.return}while(e);return t}catch(Kr){return"\nError generating stack: "+Kr.message+"\n"+Kr.stack}}var re=Object.prototype.hasOwnProperty,ie=r.unstable_scheduleCallback,oe=r.unstable_cancelCallback,se=r.unstable_shouldYield,ae=r.unstable_requestPaint,le=r.unstable_now,ue=r.unstable_getCurrentPriorityLevel,ce=r.unstable_ImmediatePriority,he=r.unstable_UserBlockingPriority,de=r.unstable_NormalPriority,fe=r.unstable_LowPriority,pe=r.unstable_IdlePriority,me=r.log,ge=r.unstable_setDisableYieldValue,ye=null,ve=null;function be(e){if("function"===typeof me&&ge(e),ve&&"function"===typeof ve.setStrictMode)try{ve.setStrictMode(ye,e)}catch(t){}}var we=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(Se(e)/Ee|0)|0},Se=Math.log,Ee=Math.LN2;var xe=256,Te=262144,ke=4194304;function _e(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ce(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var i=0,o=e.suspendedLanes,s=e.pingedLanes;e=e.warmLanes;var a=134217727&r;return 0!==a?0!==(r=a&~o)?i=_e(r):0!==(s&=a)?i=_e(s):n||0!==(n=a&~e)&&(i=_e(n)):0!==(a=r&~o)?i=_e(a):0!==s?i=_e(s):n||0!==(n=r&~e)&&(i=_e(n)),0===i?0:0!==t&&t!==i&&0===(t&o)&&((o=i&-i)>=(n=t&-t)||32===o&&0!==(4194048&n))?t:i}function Ie(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Ae(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Pe(){var e=ke;return 0===(62914560&(ke<<=1))&&(ke=4194304),e}function Ne(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function De(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Re(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-we(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|261930&n}function Fe(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-we(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function Oe(e,t){var n=t&-t;return 0!==((n=0!==(42&n)?1:Le(n))&(e.suspendedLanes|t))?0:n}function Le(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Me(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Ve(){var e=O.p;return 0!==e?e:void 0===(e=window.event)?32:Cd(e.type)}function je(e,t){var n=O.p;try{return O.p=e,t()}finally{O.p=n}}var Ue=Math.random().toString(36).slice(2),ze="__reactFiber$"+Ue,Be="__reactProps$"+Ue,He="__reactContainer$"+Ue,qe="__reactEvents$"+Ue,We="__reactListeners$"+Ue,Ke="__reactHandles$"+Ue,Ge="__reactResources$"+Ue,Qe="__reactMarker$"+Ue;function Ye(e){delete e[ze],delete e[Be],delete e[qe],delete e[We],delete e[Ke]}function Xe(e){var t=e[ze];if(t)return t;for(var n=e.parentNode;n;){if(t=n[He]||n[ze]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Mh(e);null!==e;){if(n=e[ze])return n;e=Mh(e)}return t}n=(e=n).parentNode}return null}function $e(e){if(e=e[ze]||e[He]){var t=e.tag;if(5===t||6===t||13===t||31===t||26===t||27===t||3===t)return e}return null}function Je(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(s(33))}function Ze(e){var t=e[Ge];return t||(t=e[Ge]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function et(e){e[Qe]=!0}var tt=new Set,nt={};function rt(e,t){it(e,t),it(e+"Capture",t)}function it(e,t){for(nt[e]=t,e=0;e<t.length;e++)tt.add(t[e])}var ot=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),st={},at={};function lt(e,t,n){if(i=t,re.call(at,i)||!re.call(st,i)&&(ot.test(i)?at[i]=!0:(st[i]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var i}function ut(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function ct(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function ht(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function dt(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ft(e){if(!e._valueTracker){var t=dt(e)?"checked":"value";e._valueTracker=function(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var i=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e,t,""+e[t])}}function pt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=dt(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function mt(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var gt=/[\n"\\]/g;function yt(e){return e.replace(gt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function vt(e,t,n,r,i,o,s,a){e.name="",null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.type=s:e.removeAttribute("type"),null!=t?"number"===s?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ht(t)):e.value!==""+ht(t)&&(e.value=""+ht(t)):"submit"!==s&&"reset"!==s||e.removeAttribute("value"),null!=t?wt(e,s,ht(t)):null!=n?wt(e,s,ht(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=o&&(e.defaultChecked=!!o),null!=i&&(e.checked=i&&"function"!==typeof i&&"symbol"!==typeof i),null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a?e.name=""+ht(a):e.removeAttribute("name")}function bt(e,t,n,r,i,o,s,a){if(null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o&&(e.type=o),null!=t||null!=n){if(!("submit"!==o&&"reset"!==o||void 0!==t&&null!==t))return void ft(e);n=null!=n?""+ht(n):"",t=null!=t?""+ht(t):n,a||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:i)&&"symbol"!==typeof r&&!!r,e.checked=a?e.checked:!!r,e.defaultChecked=!!r,null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.name=s),ft(e)}function wt(e,t,n){"number"===t&&mt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function St(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ht(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Et(e,t,n){null==t||((t=""+ht(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ht(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function xt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(s(92));if(R(r)){if(1<r.length)throw Error(s(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ht(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r),ft(e)}function Tt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var kt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function _t(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||kt.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Ct(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(s(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&_t(e,i,r)}else for(var o in t)t.hasOwnProperty(o)&&_t(e,o,t[o])}function It(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var At=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Pt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Nt(e){return Pt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Dt(){}var Rt=null;function Ft(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ot=null,Lt=null;function Mt(e){var t=$e(e);if(t&&(e=t.stateNode)){var n=e[Be]||null;e:switch(e=t.stateNode,t.type){case"input":if(vt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+yt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[Be]||null;if(!i)throw Error(s(90));vt(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&pt(r)}break e;case"textarea":Et(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&St(e,!!n.multiple,t,!1)}}}var Vt=!1;function jt(e,t,n){if(Vt)return e(t,n);Vt=!0;try{return e(t)}finally{if(Vt=!1,(null!==Ot||null!==Lt)&&(ec(),Ot&&(t=Ot,e=Lt,Lt=Ot=null,Mt(t),e)))for(t=0;t<e.length;t++)Mt(e[t])}}function Ut(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Be]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var zt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Bt=!1;if(zt)try{var Ht={};Object.defineProperty(Ht,"passive",{get:function(){Bt=!0}}),window.addEventListener("test",Ht,Ht),window.removeEventListener("test",Ht,Ht)}catch(Jd){Bt=!1}var qt=null,Wt=null,Kt=null;function Gt(){if(Kt)return Kt;var e,t,n=Wt,r=n.length,i="value"in qt?qt.value:qt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[o-t];t++);return Kt=i.slice(e,1<t?1-t:void 0)}function Qt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Yt(){return!0}function Xt(){return!1}function $t(e){function t(t,n,r,i,o){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Yt:Xt,this.isPropagationStopped=Xt,this}return f(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Yt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Yt)},persist:function(){},isPersistent:Yt}),t}var Jt,Zt,en,tn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nn=$t(tn),rn=f({},tn,{view:0,detail:0}),on=$t(rn),sn=f({},rn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==en&&(en&&"mousemove"===e.type?(Jt=e.screenX-en.screenX,Zt=e.screenY-en.screenY):Zt=Jt=0,en=e),Jt)},movementY:function(e){return"movementY"in e?e.movementY:Zt}}),an=$t(sn),ln=$t(f({},sn,{dataTransfer:0})),un=$t(f({},rn,{relatedTarget:0})),cn=$t(f({},tn,{animationName:0,elapsedTime:0,pseudoElement:0})),hn=$t(f({},tn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),dn=$t(f({},tn,{data:0})),fn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=mn[e])&&!!t[e]}function yn(){return gn}var vn=$t(f({},rn,{key:function(e){if(e.key){var t=fn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Qt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?pn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yn,charCode:function(e){return"keypress"===e.type?Qt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Qt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),bn=$t(f({},sn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),wn=$t(f({},rn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yn})),Sn=$t(f({},tn,{propertyName:0,elapsedTime:0,pseudoElement:0})),En=$t(f({},sn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),xn=$t(f({},tn,{newState:0,oldState:0})),Tn=[9,13,27,32],kn=zt&&"CompositionEvent"in window,_n=null;zt&&"documentMode"in document&&(_n=document.documentMode);var Cn=zt&&"TextEvent"in window&&!_n,In=zt&&(!kn||_n&&8<_n&&11>=_n),An=String.fromCharCode(32),Pn=!1;function Nn(e,t){switch(e){case"keyup":return-1!==Tn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Rn=!1;var Fn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function On(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Fn[e.type]:"textarea"===t}function Ln(e,t,n,r){Ot?Lt?Lt.push(r):Lt=[r]:Ot=r,0<(t=ih(t,"onChange")).length&&(n=new nn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Mn=null,Vn=null;function jn(e){Xc(e,0)}function Un(e){if(pt(Je(e)))return e}function zn(e,t){if("change"===e)return t}var Bn=!1;if(zt){var Hn;if(zt){var qn="oninput"in document;if(!qn){var Wn=document.createElement("div");Wn.setAttribute("oninput","return;"),qn="function"===typeof Wn.oninput}Hn=qn}else Hn=!1;Bn=Hn&&(!document.documentMode||9<document.documentMode)}function Kn(){Mn&&(Mn.detachEvent("onpropertychange",Gn),Vn=Mn=null)}function Gn(e){if("value"===e.propertyName&&Un(Vn)){var t=[];Ln(t,Vn,e,Ft(e)),jt(jn,t)}}function Qn(e,t,n){"focusin"===e?(Kn(),Vn=n,(Mn=t).attachEvent("onpropertychange",Gn)):"focusout"===e&&Kn()}function Yn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Un(Vn)}function Xn(e,t){if("click"===e)return Un(t)}function $n(e,t){if("input"===e||"change"===e)return Un(t)}var Jn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Zn(e,t){if(Jn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!re.call(t,i)||!Jn(e[i],t[i]))return!1}return!0}function er(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function tr(e,t){var n,r=er(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=er(r)}}function nr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?nr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function rr(e){for(var t=mt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=mt((e=t.contentWindow).document)}return t}function ir(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var or=zt&&"documentMode"in document&&11>=document.documentMode,sr=null,ar=null,lr=null,ur=!1;function cr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ur||null==sr||sr!==mt(r)||("selectionStart"in(r=sr)&&ir(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},lr&&Zn(lr,r)||(lr=r,0<(r=ih(ar,"onSelect")).length&&(t=new nn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=sr)))}function hr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var dr={animationend:hr("Animation","AnimationEnd"),animationiteration:hr("Animation","AnimationIteration"),animationstart:hr("Animation","AnimationStart"),transitionrun:hr("Transition","TransitionRun"),transitionstart:hr("Transition","TransitionStart"),transitioncancel:hr("Transition","TransitionCancel"),transitionend:hr("Transition","TransitionEnd")},fr={},pr={};function mr(e){if(fr[e])return fr[e];if(!dr[e])return e;var t,n=dr[e];for(t in n)if(n.hasOwnProperty(t)&&t in pr)return fr[e]=n[t];return e}zt&&(pr=document.createElement("div").style,"AnimationEvent"in window||(delete dr.animationend.animation,delete dr.animationiteration.animation,delete dr.animationstart.animation),"TransitionEvent"in window||delete dr.transitionend.transition);var gr=mr("animationend"),yr=mr("animationiteration"),vr=mr("animationstart"),br=mr("transitionrun"),wr=mr("transitionstart"),Sr=mr("transitioncancel"),Er=mr("transitionend"),xr=new Map,Tr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kr(e,t){xr.set(e,t),rt(t,[e])}Tr.push("scrollEnd");var _r="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},Cr=[],Ir=0,Ar=0;function Pr(){for(var e=Ir,t=Ar=Ir=0;t<e;){var n=Cr[t];Cr[t++]=null;var r=Cr[t];Cr[t++]=null;var i=Cr[t];Cr[t++]=null;var o=Cr[t];if(Cr[t++]=null,null!==r&&null!==i){var s=r.pending;null===s?i.next=i:(i.next=s.next,s.next=i),r.pending=i}0!==o&&Fr(n,i,o)}}function Nr(e,t,n,r){Cr[Ir++]=e,Cr[Ir++]=t,Cr[Ir++]=n,Cr[Ir++]=r,Ar|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Dr(e,t,n,r){return Nr(e,t,n,r),Or(e)}function Rr(e,t){return Nr(e,null,null,t),Or(e)}function Fr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,o=e.return;null!==o;)o.childLanes|=n,null!==(r=o.alternate)&&(r.childLanes|=n),22===o.tag&&(null===(e=o.stateNode)||1&e._visibility||(i=!0)),e=o,o=o.return;return 3===e.tag?(o=e.stateNode,i&&null!==t&&(i=31-we(n),null===(r=(e=o.hiddenUpdates)[i])?e[i]=[t]:r.push(t),t.lane=536870912|n),o):null}function Or(e){if(50<Wu)throw Wu=0,Ku=null,Error(s(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Lr={};function Mr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vr(e,t,n,r){return new Mr(e,t,n,r)}function jr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ur(e,t){var n=e.alternate;return null===n?((n=Vr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function zr(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Br(e,t,n,r,i,o){var a=0;if(r=e,"function"===typeof e)jr(e)&&(a=1);else if("string"===typeof e)a=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,q.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case C:return(e=Vr(31,n,t,i)).elementType=C,e.lanes=o,e;case y:return Hr(n.children,i,o,t);case v:a=8,i|=24;break;case b:return(e=Vr(12,n,t,2|i)).elementType=b,e.lanes=o,e;case x:return(e=Vr(13,n,t,i)).elementType=x,e.lanes=o,e;case T:return(e=Vr(19,n,t,i)).elementType=T,e.lanes=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:a=10;break e;case w:a=9;break e;case E:a=11;break e;case k:a=14;break e;case _:a=16,r=null;break e}a=29,n=Error(s(130,null===e?"null":typeof e,"")),r=null}return(t=Vr(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Hr(e,t,n,r){return(e=Vr(7,e,r,t)).lanes=n,e}function qr(e,t,n){return(e=Vr(6,e,null,t)).lanes=n,e}function Wr(e){var t=Vr(18,null,null,0);return t.stateNode=e,t}function Gr(e,t,n){return(t=Vr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Qr=new WeakMap;function Yr(e,t){if("object"===typeof e&&null!==e){var n=Qr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:ne(t)},Qr.set(e,t),t)}return{value:e,source:t,stack:ne(t)}}var Xr=[],$r=0,Jr=null,Zr=0,ei=[],ti=0,ni=null,ri=1,ii="";function oi(e,t){Xr[$r++]=Zr,Xr[$r++]=Jr,Jr=e,Zr=t}function si(e,t,n){ei[ti++]=ri,ei[ti++]=ii,ei[ti++]=ni,ni=e;var r=ri;e=ii;var i=32-we(r)-1;r&=~(1<<i),n+=1;var o=32-we(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,ri=1<<32-we(t)+i|n<<i|r,ii=o+e}else ri=1<<o|n<<i|r,ii=e}function ai(e){null!==e.return&&(oi(e,1),si(e,1,0))}function li(e){for(;e===Jr;)Jr=Xr[--$r],Xr[$r]=null,Zr=Xr[--$r],Xr[$r]=null;for(;e===ni;)ni=ei[--ti],ei[ti]=null,ii=ei[--ti],ei[ti]=null,ri=ei[--ti],ei[ti]=null}function ui(e,t){ei[ti++]=ri,ei[ti++]=ii,ei[ti++]=ni,ri=t.id,ii=t.overflow,ni=e}var ci=null,hi=null,di=!1,fi=null,pi=!1,mi=Error(s(519));function gi(e){throw Ei(Yr(Error(s(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),e)),mi}function yi(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[ze]=e,t[Be]=r,n){case"dialog":$c("cancel",t),$c("close",t);break;case"iframe":case"object":case"embed":$c("load",t);break;case"video":case"audio":for(n=0;n<Qc.length;n++)$c(Qc[n],t);break;case"source":$c("error",t);break;case"img":case"image":case"link":$c("error",t),$c("load",t);break;case"details":$c("toggle",t);break;case"input":$c("invalid",t),bt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":$c("invalid",t);break;case"textarea":$c("invalid",t),xt(t,r.value,r.defaultValue,r.children)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||ch(t.textContent,n)?(null!=r.popover&&($c("beforetoggle",t),$c("toggle",t)),null!=r.onScroll&&$c("scroll",t),null!=r.onScrollEnd&&$c("scrollend",t),null!=r.onClick&&(t.onclick=Dt),t=!0):t=!1,t||gi(e,!0)}function vi(e){for(ci=e.return;ci;)switch(ci.tag){case 5:case 31:case 13:return void(pi=!1);case 27:case 3:return void(pi=!0);default:ci=ci.return}}function bi(e){if(e!==ci)return!1;if(!di)return vi(e),di=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||wh(e.type,e.memoizedProps)),t=!t),t&&hi&&gi(e),vi(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));hi=Lh(e)}else if(31===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));hi=Lh(e)}else 27===n?(n=hi,Ch(e.type)?(e=Oh,Oh=null,hi=e):hi=n):hi=ci?Fh(e.stateNode.nextSibling):null;return!0}function wi(){hi=ci=null,di=!1}function Si(){var e=fi;return null!==e&&(null===Nu?Nu=e:Nu.push.apply(Nu,e),fi=null),e}function Ei(e){null===fi?fi=[e]:fi.push(e)}var xi=j(null),Ti=null,ki=null;function _i(e,t,n){z(xi,t._currentValue),t._currentValue=n}function Ci(e){e._currentValue=xi.current,U(xi)}function Ii(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ai(e,t,n,r){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var o=i.dependencies;if(null!==o){var a=i.child;o=o.firstContext;e:for(;null!==o;){var l=o;o=i;for(var u=0;u<t.length;u++)if(l.context===t[u]){o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Ii(o.return,n,e),r||(a=null);break e}o=l.next}}else if(18===i.tag){if(null===(a=i.return))throw Error(s(341));a.lanes|=n,null!==(o=a.alternate)&&(o.lanes|=n),Ii(a,n,e),a=null}else a=i.child;if(null!==a)a.return=i;else for(a=i;null!==a;){if(a===e){a=null;break}if(null!==(i=a.sibling)){i.return=a.return,a=i;break}a=a.return}i=a}}function Pi(e,t,n,r){e=null;for(var i=t,o=!1;null!==i;){if(!o)if(0!==(524288&i.flags))o=!0;else if(0!==(262144&i.flags))break;if(10===i.tag){var a=i.alternate;if(null===a)throw Error(s(387));if(null!==(a=a.memoizedProps)){var l=i.type;Jn(i.pendingProps.value,a.value)||(null!==e?e.push(l):e=[l])}}else if(i===G.current){if(null===(a=i.alternate))throw Error(s(387));a.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(hd):e=[hd])}i=i.return}null!==e&&Ai(t,e,n,r),t.flags|=262144}function Ni(e){for(e=e.firstContext;null!==e;){if(!Jn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Di(e){Ti=e,ki=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Ri(e){return Oi(Ti,e)}function Fi(e,t){return null===Ti&&Di(e),Oi(e,t)}function Oi(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===ki){if(null===e)throw Error(s(308));ki=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ki=ki.next=t;return n}var Li="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Mi=r.unstable_scheduleCallback,Vi=r.unstable_NormalPriority,ji={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ui(){return{controller:new Li,data:new Map,refCount:0}}function zi(e){e.refCount--,0===e.refCount&&Mi(Vi,function(){e.controller.abort()})}var Bi=null,Hi=0,qi=0,Wi=null;function Ki(){if(0===--Hi&&null!==Bi){null!==Wi&&(Wi.status="fulfilled");var e=Bi;Bi=null,qi=0,Wi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Gi=F.S;F.S=function(e,t){Fu=le(),"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Bi){var n=Bi=[];Hi=0,qi=Hc(),Wi={status:"pending",value:void 0,then:function(e){n.push(e)}}}Hi++,t.then(Ki,Ki)}(0,t),null!==Gi&&Gi(e,t)};var Qi=j(null);function Yi(){var e=Qi.current;return null!==e?e:mu.pooledCache}function Xi(e,t){z(Qi,null===t?Qi.current:t.pool)}function $i(){var e=Yi();return null===e?null:{parent:ji._currentValue,pool:e}}var Ji=Error(s(460)),Zi=Error(s(474)),eo=Error(s(542)),to={then:function(){}};function no(e){return"fulfilled"===(e=e.status)||"rejected"===e}function ro(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Dt,Dt),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw ao(e=t.reason),e;default:if("string"===typeof t.status)t.then(Dt,Dt);else{if(null!==(e=mu)&&100<e.shellSuspendCounter)throw Error(s(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw ao(e=t.reason),e}throw oo=t,Ji}}function io(e){try{return(0,e._init)(e._payload)}catch(Kr){if(null!==Kr&&"object"===typeof Kr&&"function"===typeof Kr.then)throw oo=Kr,Ji;throw Kr}}var oo=null;function so(){if(null===oo)throw Error(s(459));var e=oo;return oo=null,e}function ao(e){if(e===Ji||e===eo)throw Error(s(483))}var lo=null,uo=0;function co(e){var t=uo;return uo+=1,null===lo&&(lo=[]),ro(lo,e,t)}function ho(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function fo(e,t){if(t.$$typeof===p)throw Error(s(525));throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function po(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=Ur(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=qr(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){var o=n.type;return o===y?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===_&&io(o)===t.type)?(ho(t=i(t,n.props),n),t.return=e,t):(ho(t=Br(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Gr(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,o){return null===t||7!==t.tag?((t=Hr(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=qr(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case m:return ho(n=Br(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case g:return(t=Gr(t,e.mode,n)).return=e,t;case _:return d(e,t=io(t),n)}if(R(t)||P(t))return(t=Hr(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return d(e,co(t),n);if(t.$$typeof===S)return d(e,Fi(e,t),n);fo(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case m:return n.key===i?u(e,t,n,r):null;case g:return n.key===i?c(e,t,n,r):null;case _:return f(e,t,n=io(n),r)}if(R(n)||P(n))return null!==i?null:h(e,t,n,r,null);if("function"===typeof n.then)return f(e,t,co(n),r);if(n.$$typeof===S)return f(e,t,Fi(e,n),r);fo(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case m:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case g:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return p(e,t,n,r=io(r),i)}if(R(r)||P(r))return h(t,e=e.get(n)||null,r,i,null);if("function"===typeof r.then)return p(e,t,n,co(r),i);if(r.$$typeof===S)return p(e,t,n,Fi(t,r),i);fo(t,r)}return null}function v(l,u,c,h){if("object"===typeof c&&null!==c&&c.type===y&&null===c.key&&(c=c.props.children),"object"===typeof c&&null!==c){switch(c.$$typeof){case m:e:{for(var b=c.key;null!==u;){if(u.key===b){if((b=c.type)===y){if(7===u.tag){n(l,u.sibling),(h=i(u,c.props.children)).return=l,l=h;break e}}else if(u.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===_&&io(b)===u.type){n(l,u.sibling),ho(h=i(u,c.props),c),h.return=l,l=h;break e}n(l,u);break}t(l,u),u=u.sibling}c.type===y?((h=Hr(c.props.children,l.mode,h,c.key)).return=l,l=h):(ho(h=Br(c.type,c.key,c.props,null,l.mode,h),c),h.return=l,l=h)}return a(l);case g:e:{for(b=c.key;null!==u;){if(u.key===b){if(4===u.tag&&u.stateNode.containerInfo===c.containerInfo&&u.stateNode.implementation===c.implementation){n(l,u.sibling),(h=i(u,c.children||[])).return=l,l=h;break e}n(l,u);break}t(l,u),u=u.sibling}(h=Gr(c,l.mode,h)).return=l,l=h}return a(l);case _:return v(l,u,c=io(c),h)}if(R(c))return function(i,s,a,l){for(var u=null,c=null,h=s,m=s=0,g=null;null!==h&&m<a.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var y=f(i,h,a[m],l);if(null===y){null===h&&(h=g);break}e&&h&&null===y.alternate&&t(i,h),s=o(y,s,m),null===c?u=y:c.sibling=y,c=y,h=g}if(m===a.length)return n(i,h),di&&oi(i,m),u;if(null===h){for(;m<a.length;m++)null!==(h=d(i,a[m],l))&&(s=o(h,s,m),null===c?u=h:c.sibling=h,c=h);return di&&oi(i,m),u}for(h=r(h);m<a.length;m++)null!==(g=p(h,i,m,a[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),s=o(g,s,m),null===c?u=g:c.sibling=g,c=g);return e&&h.forEach(function(e){return t(i,e)}),di&&oi(i,m),u}(l,u,c,h);if(P(c)){if("function"!==typeof(b=P(c)))throw Error(s(150));return function(i,a,l,u){if(null==l)throw Error(s(151));for(var c=null,h=null,m=a,g=a=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var b=f(i,m,v.value,u);if(null===b){null===m&&(m=y);break}e&&m&&null===b.alternate&&t(i,m),a=o(b,a,g),null===h?c=b:h.sibling=b,h=b,m=y}if(v.done)return n(i,m),di&&oi(i,g),c;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=d(i,v.value,u))&&(a=o(v,a,g),null===h?c=v:h.sibling=v,h=v);return di&&oi(i,g),c}for(m=r(m);!v.done;g++,v=l.next())null!==(v=p(m,i,g,v.value,u))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),a=o(v,a,g),null===h?c=v:h.sibling=v,h=v);return e&&m.forEach(function(e){return t(i,e)}),di&&oi(i,g),c}(l,u,c=b.call(c),h)}if("function"===typeof c.then)return v(l,u,co(c),h);if(c.$$typeof===S)return v(l,u,Fi(l,c),h);fo(l,c)}return"string"===typeof c&&""!==c||"number"===typeof c||"bigint"===typeof c?(c=""+c,null!==u&&6===u.tag?(n(l,u.sibling),(h=i(u,c)).return=l,l=h):(n(l,u),(h=qr(c,l.mode,h)).return=l,l=h),a(l)):n(l,u)}return function(e,t,n,r){try{uo=0;var i=v(e,t,n,r);return lo=null,i}catch(Kr){if(Kr===Ji||Kr===eo)throw Kr;var o=Vr(29,Kr,null,e.mode);return o.lanes=r,o.return=e,o}}}var mo=po(!0),go=po(!1),yo=!1;function vo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function bo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function wo(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function So(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&pu)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Or(e),Fr(e,null,n),t}return Nr(e,r,t,n),Or(e)}function Eo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Fe(e,n)}}function xo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===o?i=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var To=!1;function ko(){if(To){if(null!==Wi)throw Wi}}function _o(e,t,n,r){To=!1;var i=e.updateQueue;yo=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,u=l.next;l.next=null,null===s?o=u:s.next=u,s=l;var c=e.alternate;null!==c&&((a=(c=c.updateQueue).lastBaseUpdate)!==s&&(null===a?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(null!==o){var h=i.baseState;for(s=0,c=u=l=null,a=o;;){var d=-536870913&a.lane,p=d!==a.lane;if(p?(yu&d)===d:(r&d)===d){0!==d&&d===qi&&(To=!0),null!==c&&(c=c.next={lane:0,tag:a.tag,payload:a.payload,callback:null,next:null});e:{var m=e,g=a;d=t;var y=n;switch(g.tag){case 1:if("function"===typeof(m=g.payload)){h=m.call(y,h,d);break e}h=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(d="function"===typeof(m=g.payload)?m.call(y,h,d):m)||void 0===d)break e;h=f({},h,d);break e;case 2:yo=!0}}null!==(d=a.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=i.callbacks)?i.callbacks=[d]:p.push(d))}else p={lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===c?(u=c=p,l=h):c=c.next=p,s|=d;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(p=a).next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}null===c&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null===o&&(i.shared.lanes=0),ku|=s,e.lanes=s,e.memoizedState=h}}function Co(e,t){if("function"!==typeof e)throw Error(s(191,e));e.call(t)}function Io(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)Co(n[e],t)}var Ao=j(null),Po=j(0);function No(e,t){z(Po,e=xu),z(Ao,t),xu=e|t.baseLanes}function Do(){z(Po,xu),z(Ao,Ao.current)}function Ro(){xu=Po.current,U(Ao),U(Po)}var Fo=j(null),Oo=null;function Lo(e){var t=e.alternate;z(zo,1&zo.current),z(Fo,e),null===Oo&&(null===t||null!==Ao.current||null!==t.memoizedState)&&(Oo=e)}function Mo(e){z(zo,zo.current),z(Fo,e),null===Oo&&(Oo=e)}function Vo(e){22===e.tag?(z(zo,zo.current),z(Fo,e),null===Oo&&(Oo=e)):jo()}function jo(){z(zo,zo.current),z(Fo,Fo.current)}function Uo(e){U(Fo),Oo===e&&(Oo=null),U(zo)}var zo=j(0);function Bo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||Dh(n)||Rh(n)))return t}else if(19!==t.tag||"forwards"!==t.memoizedProps.revealOrder&&"backwards"!==t.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==t.memoizedProps.revealOrder&&"together"!==t.memoizedProps.revealOrder){if(null!==t.child){t.child.return=t,t=t.child;continue}}else if(0!==(128&t.flags))return t;if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ho=0,qo=null,Wo=null,Ko=null,Go=!1,Qo=!1,Yo=!1,Xo=0,$o=0,Jo=null,Zo=0;function es(){throw Error(s(321))}function ts(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Jn(e[n],t[n]))return!1;return!0}function ns(e,t,n,r,i,o){return Ho=o,qo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,F.H=null===e||null===e.memoizedState?ya:va,Yo=!1,o=n(r,i),Yo=!1,Qo&&(o=is(t,n,r,i)),rs(e),o}function rs(e){F.H=ga;var t=null!==Wo&&null!==Wo.next;if(Ho=0,Ko=Wo=qo=null,Go=!1,$o=0,Jo=null,t)throw Error(s(300));null===e||Fa||null!==(e=e.dependencies)&&Ni(e)&&(Fa=!0)}function is(e,t,n,r){qo=e;var i=0;do{if(Qo&&(Jo=null),$o=0,Qo=!1,25<=i)throw Error(s(301));if(i+=1,Ko=Wo=null,null!=e.updateQueue){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,null!=o.memoCache&&(o.memoCache.index=0)}F.H=ba,o=t(n,r)}while(Qo);return o}function os(){var e=F.H,t=e.useState()[0];return t="function"===typeof t.then?hs(t):t,e=e.useState()[0],(null!==Wo?Wo.memoizedState:null)!==e&&(qo.flags|=1024),t}function ss(){var e=0!==Xo;return Xo=0,e}function as(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function ls(e){if(Go){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Go=!1}Ho=0,Ko=Wo=qo=null,Qo=!1,$o=Xo=0,Jo=null}function us(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Ko?qo.memoizedState=Ko=e:Ko=Ko.next=e,Ko}function cs(){if(null===Wo){var e=qo.alternate;e=null!==e?e.memoizedState:null}else e=Wo.next;var t=null===Ko?qo.memoizedState:Ko.next;if(null!==t)Ko=t,Wo=e;else{if(null===e){if(null===qo.alternate)throw Error(s(467));throw Error(s(310))}e={memoizedState:(Wo=e).memoizedState,baseState:Wo.baseState,baseQueue:Wo.baseQueue,queue:Wo.queue,next:null},null===Ko?qo.memoizedState=Ko=e:Ko=Ko.next=e}return Ko}function hs(e){var t=$o;return $o+=1,null===Jo&&(Jo=[]),e=ro(Jo,e,t),t=qo,null===(null===Ko?t.memoizedState:Ko.next)&&(t=t.alternate,F.H=null===t||null===t.memoizedState?ya:va),e}function ds(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return hs(e);if(e.$$typeof===S)return Ri(e)}throw Error(s(438,String(e)))}function fs(e){var t=null,n=qo.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=qo.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},qo.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=I;return t.index++,n}function ps(e,t){return"function"===typeof t?t(e):t}function ms(e){return gs(cs(),Wo,e)}function gs(e,t,n){var r=e.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=n;var i=e.baseQueue,o=r.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}t.baseQueue=i=o,r.pending=null}if(o=e.baseState,null===i)e.memoizedState=o;else{var l=a=null,u=null,c=t=i.next,h=!1;do{var d=-536870913&c.lane;if(d!==c.lane?(yu&d)===d:(Ho&d)===d){var f=c.revertLane;if(0===f)null!==u&&(u=u.next={lane:0,revertLane:0,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),d===qi&&(h=!0);else{if((Ho&f)===f){c=c.next,f===qi&&(h=!0);continue}d={lane:0,revertLane:c.revertLane,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===u?(l=u=d,a=o):u=u.next=d,qo.lanes|=f,ku|=f}d=c.action,Yo&&n(o,d),o=c.hasEagerState?c.eagerState:n(o,d)}else f={lane:d,revertLane:c.revertLane,gesture:c.gesture,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===u?(l=u=f,a=o):u=u.next=f,qo.lanes|=d,ku|=d;c=c.next}while(null!==c&&c!==t);if(null===u?a=o:u.next=l,!Jn(o,e.memoizedState)&&(Fa=!0,h&&null!==(n=Wi)))throw n;e.memoizedState=o,e.baseState=a,e.baseQueue=u,r.lastRenderedState=o}return null===i&&(r.lanes=0),[e.memoizedState,r.dispatch]}function ys(e){var t=cs(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);Jn(o,t.memoizedState)||(Fa=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function vs(e,t,n){var r=qo,i=cs(),o=di;if(o){if(void 0===n)throw Error(s(407));n=n()}else n=t();var a=!Jn((Wo||i).memoizedState,n);if(a&&(i.memoizedState=n,Fa=!0),i=i.queue,Hs(Ss.bind(null,r,i,e),[e]),i.getSnapshot!==t||a||null!==Ko&&1&Ko.memoizedState.tag){if(r.flags|=2048,Vs(9,{destroy:void 0},ws.bind(null,r,i,n,t),null),null===mu)throw Error(s(349));o||0!==(127&Ho)||bs(r,t,n)}return n}function bs(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=qo.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},qo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function ws(e,t,n,r){t.value=n,t.getSnapshot=r,Es(t)&&xs(e)}function Ss(e,t,n){return n(function(){Es(t)&&xs(e)})}function Es(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Jn(e,n)}catch(r){return!0}}function xs(e){var t=Rr(e,2);null!==t&&Yu(t,e,2)}function Ts(e){var t=us();if("function"===typeof e){var n=e;if(e=n(),Yo){be(!0);try{n()}finally{be(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:e},t}function ks(e,t,n,r){return e.baseState=n,gs(e,Wo,"function"===typeof r?r:ps)}function _s(e,t,n,r,i){if(fa(e))throw Error(s(485));if(null!==(e=t.action)){var o={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){o.listeners.push(e)}};null!==F.T?n(!0):o.isTransition=!1,r(o),null===(n=t.pending)?(o.next=t.pending=o,Cs(t,o)):(o.next=n.next,t.pending=n.next=o)}}function Cs(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var o=F.T,s={};F.T=s;try{var a=n(i,r),l=F.S;null!==l&&l(s,a),Is(e,t,a)}catch(u){Ps(e,t,u)}finally{null!==o&&null!==s.types&&(o.types=s.types),F.T=o}}else try{Is(e,t,o=n(i,r))}catch(c){Ps(e,t,c)}}function Is(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){As(e,t,n)},function(n){return Ps(e,t,n)}):As(e,t,n)}function As(e,t,n){t.status="fulfilled",t.value=n,Ns(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,Cs(e,n)))}function Ps(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,Ns(t),t=t.next}while(t!==r)}e.action=null}function Ns(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Ds(e,t){return t}function Rs(e,t){if(di){var n=mu.formState;if(null!==n){e:{var r=qo;if(di){if(hi){t:{for(var i=hi,o=pi;8!==i.nodeType;){if(!o){i=null;break t}if(null===(i=Fh(i.nextSibling))){i=null;break t}}i="F!"===(o=i.data)||"F"===o?i:null}if(i){hi=Fh(i.nextSibling),r="F!"===i.data;break e}}gi(r)}r=!1}r&&(t=n[0])}}return(n=us()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ds,lastRenderedState:t},n.queue=r,n=ca.bind(null,qo,r),r.dispatch=n,r=Ts(!1),o=da.bind(null,qo,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=us()).queue=i,n=_s.bind(null,qo,i,o,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function Fs(e){return Os(cs(),Wo,e)}function Os(e,t,n){if(t=gs(e,t,Ds)[0],e=ms(ps)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=hs(t)}catch(Kr){if(Kr===Ji)throw eo;throw Kr}else r=t;var i=(t=cs()).queue,o=i.dispatch;return n!==t.memoizedState&&(qo.flags|=2048,Vs(9,{destroy:void 0},Ls.bind(null,i,n),null)),[r,o,e]}function Ls(e,t){e.action=t}function Ms(e){var t=cs(),n=Wo;if(null!==n)return Os(t,n,e);cs(),t=t.memoizedState;var r=(n=cs()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Vs(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=qo.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},qo.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function js(){return cs().memoizedState}function Us(e,t,n,r){var i=us();qo.flags|=e,i.memoizedState=Vs(1|t,{destroy:void 0},n,void 0===r?null:r)}function zs(e,t,n,r){var i=cs();r=void 0===r?null:r;var o=i.memoizedState.inst;null!==Wo&&null!==r&&ts(r,Wo.memoizedState.deps)?i.memoizedState=Vs(t,o,n,r):(qo.flags|=e,i.memoizedState=Vs(1|t,o,n,r))}function Bs(e,t){Us(8390656,8,e,t)}function Hs(e,t){zs(2048,8,e,t)}function qs(e){var t=cs().memoizedState;return function(e){qo.flags|=4;var t=qo.updateQueue;if(null===t)t={lastEffect:null,events:null,stores:null,memoCache:null},qo.updateQueue=t,t.events=[e];else{var n=t.events;null===n?t.events=[e]:n.push(e)}}({ref:t,nextImpl:e}),function(){if(0!==(2&pu))throw Error(s(440));return t.impl.apply(void 0,arguments)}}function Ws(e,t){return zs(4,2,e,t)}function Ks(e,t){return zs(4,4,e,t)}function Gs(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function Qs(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,zs(4,4,Gs.bind(null,t,e),n)}function Ys(){}function Xs(e,t){var n=cs();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&ts(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function $s(e,t){var n=cs();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&ts(t,r[1]))return r[0];if(r=e(),Yo){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[r,t],r}function Js(e,t,n){return void 0===n||0!==(1073741824&Ho)&&0===(261930&yu)?e.memoizedState=t:(e.memoizedState=n,e=Qu(),qo.lanes|=e,ku|=e,n)}function Zs(e,t,n,r){return Jn(n,t)?n:null!==Ao.current?(e=Js(e,n,r),Jn(e,t)||(Fa=!0),e):0===(42&Ho)||0!==(1073741824&Ho)&&0===(261930&yu)?(Fa=!0,e.memoizedState=n):(e=Qu(),qo.lanes|=e,ku|=e,t)}function ea(e,t,n,r,i){var o=O.p;O.p=0!==o&&8>o?o:8;var s=F.T,a={};F.T=a,da(e,!1,t,n);try{var l=i(),u=F.S;if(null!==u&&u(a,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)ha(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}(l,r),Gu());else ha(e,t,r,Gu())}catch(c){ha(e,t,{then:function(){},status:"rejected",reason:c},Gu())}finally{O.p=o,null!==s&&null!==a.types&&(s.types=a.types),F.T=s}}function ta(){}function na(e,t,n,r){if(5!==e.tag)throw Error(s(476));var i=ra(e).queue;ea(e,i,t,L,null===n?ta:function(){return ia(e),n(r)})}function ra(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:L,baseState:L,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:L},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function ia(e){var t=ra(e);null===t.next&&(t=e.alternate.memoizedState),ha(e,t.next.queue,{},Gu())}function oa(){return Ri(hd)}function sa(){return cs().memoizedState}function aa(){return cs().memoizedState}function la(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Gu(),r=So(t,e=wo(n),n);return null!==r&&(Yu(r,t,n),Eo(r,t,n)),t={cache:Ui()},void(e.payload=t)}t=t.return}}function ua(e,t,n){var r=Gu();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},fa(e)?pa(t,n):null!==(n=Dr(e,t,n,r))&&(Yu(n,e,r),ma(n,t,r))}function ca(e,t,n){ha(e,t,n,Gu())}function ha(e,t,n,r){var i={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(fa(e))pa(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Jn(a,s))return Nr(e,t,i,0),null===mu&&Pr(),!1}catch(l){}if(null!==(n=Dr(e,t,i,r)))return Yu(n,e,r),ma(n,t,r),!0}return!1}function da(e,t,n,r){if(r={lane:2,revertLane:Hc(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},fa(e)){if(t)throw Error(s(479))}else null!==(t=Dr(e,n,r,2))&&Yu(t,e,2)}function fa(e){var t=e.alternate;return e===qo||null!==t&&t===qo}function pa(e,t){Qo=Go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ma(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Fe(e,n)}}var ga={readContext:Ri,use:ds,useCallback:es,useContext:es,useEffect:es,useImperativeHandle:es,useLayoutEffect:es,useInsertionEffect:es,useMemo:es,useReducer:es,useRef:es,useState:es,useDebugValue:es,useDeferredValue:es,useTransition:es,useSyncExternalStore:es,useId:es,useHostTransitionStatus:es,useFormState:es,useActionState:es,useOptimistic:es,useMemoCache:es,useCacheRefresh:es};ga.useEffectEvent=es;var ya={readContext:Ri,use:ds,useCallback:function(e,t){return us().memoizedState=[e,void 0===t?null:t],e},useContext:Ri,useEffect:Bs,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Us(4194308,4,Gs.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Us(4194308,4,e,t)},useInsertionEffect:function(e,t){Us(4,2,e,t)},useMemo:function(e,t){var n=us();t=void 0===t?null:t;var r=e();if(Yo){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=us();if(void 0!==n){var i=n(t);if(Yo){be(!0);try{n(t)}finally{be(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=ua.bind(null,qo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},us().memoizedState=e},useState:function(e){var t=(e=Ts(e)).queue,n=ca.bind(null,qo,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Ys,useDeferredValue:function(e,t){return Js(us(),e,t)},useTransition:function(){var e=Ts(!1);return e=ea.bind(null,qo,e.queue,!0,!1),us().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=qo,i=us();if(di){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===mu)throw Error(s(349));0!==(127&yu)||bs(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Bs(Ss.bind(null,r,o,e),[e]),r.flags|=2048,Vs(9,{destroy:void 0},ws.bind(null,r,o,n,t),null),n},useId:function(){var e=us(),t=mu.identifierPrefix;if(di){var n=ii;t="_"+t+"R_"+(n=(ri&~(1<<32-we(ri)-1)).toString(32)+n),0<(n=Xo++)&&(t+="H"+n.toString(32)),t+="_"}else t="_"+t+"r_"+(n=Zo++).toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:oa,useFormState:Rs,useActionState:Rs,useOptimistic:function(e){var t=us();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=da.bind(null,qo,!0,n),n.dispatch=t,[e,t]},useMemoCache:fs,useCacheRefresh:function(){return us().memoizedState=la.bind(null,qo)},useEffectEvent:function(e){var t=us(),n={impl:e};return t.memoizedState=n,function(){if(0!==(2&pu))throw Error(s(440));return n.impl.apply(void 0,arguments)}}},va={readContext:Ri,use:ds,useCallback:Xs,useContext:Ri,useEffect:Hs,useImperativeHandle:Qs,useInsertionEffect:Ws,useLayoutEffect:Ks,useMemo:$s,useReducer:ms,useRef:js,useState:function(){return ms(ps)},useDebugValue:Ys,useDeferredValue:function(e,t){return Zs(cs(),Wo.memoizedState,e,t)},useTransition:function(){var e=ms(ps)[0],t=cs().memoizedState;return["boolean"===typeof e?e:hs(e),t]},useSyncExternalStore:vs,useId:sa,useHostTransitionStatus:oa,useFormState:Fs,useActionState:Fs,useOptimistic:function(e,t){return ks(cs(),0,e,t)},useMemoCache:fs,useCacheRefresh:aa};va.useEffectEvent=qs;var ba={readContext:Ri,use:ds,useCallback:Xs,useContext:Ri,useEffect:Hs,useImperativeHandle:Qs,useInsertionEffect:Ws,useLayoutEffect:Ks,useMemo:$s,useReducer:ys,useRef:js,useState:function(){return ys(ps)},useDebugValue:Ys,useDeferredValue:function(e,t){var n=cs();return null===Wo?Js(n,e,t):Zs(n,Wo.memoizedState,e,t)},useTransition:function(){var e=ys(ps)[0],t=cs().memoizedState;return["boolean"===typeof e?e:hs(e),t]},useSyncExternalStore:vs,useId:sa,useHostTransitionStatus:oa,useFormState:Ms,useActionState:Ms,useOptimistic:function(e,t){var n=cs();return null!==Wo?ks(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:fs,useCacheRefresh:aa};function wa(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:f({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}ba.useEffectEvent=qs;var Sa={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Gu(),i=wo(r);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=So(e,i,r))&&(Yu(t,e,r),Eo(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Gu(),i=wo(r);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=So(e,i,r))&&(Yu(t,e,r),Eo(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Gu(),r=wo(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=So(e,r,n))&&(Yu(t,e,n),Eo(t,e,n))}};function Ea(e,t,n,r,i,o,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!Zn(n,r)||!Zn(i,o))}function xa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Sa.enqueueReplaceState(t,t.state,null)}function Ta(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=f({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}function ka(e){_r(e)}function _a(e){console.error(e)}function Ca(e){_r(e)}function Ia(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Aa(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Pa(e,t,n){return(n=wo(n)).tag=3,n.payload={element:null},n.callback=function(){Ia(e,t)},n}function Na(e){return(e=wo(e)).tag=3,e}function Da(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"===typeof i){var o=r.value;e.payload=function(){return i(o)},e.callback=function(){Aa(t,n,r)}}var s=n.stateNode;null!==s&&"function"===typeof s.componentDidCatch&&(e.callback=function(){Aa(t,n,r),"function"!==typeof i&&(null===Mu?Mu=new Set([this]):Mu.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Ra=Error(s(461)),Fa=!1;function Oa(e,t,n,r){t.child=null===e?go(t,null,n,r):mo(t,e.child,n,r)}function La(e,t,n,r,i){n=n.render;var o=t.ref;if("ref"in r){var s={};for(var a in r)"ref"!==a&&(s[a]=r[a])}else s=r;return Di(t),r=ns(e,t,n,s,o,i),a=ss(),null===e||Fa?(di&&a&&ai(t),t.flags|=1,Oa(e,t,r,i),t.child):(as(e,t,i),ol(e,t,i))}function Ma(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||jr(o)||void 0!==o.defaultProps||null!==n.compare?((e=Br(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Va(e,t,o,r,i))}if(o=e.child,!sl(e,i)){var s=o.memoizedProps;if((n=null!==(n=n.compare)?n:Zn)(s,r)&&e.ref===t.ref)return ol(e,t,i)}return t.flags|=1,(e=Ur(o,r)).ref=t.ref,e.return=t,t.child=e}function Va(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(Zn(o,r)&&e.ref===t.ref){if(Fa=!1,t.pendingProps=r=o,!sl(e,i))return t.lanes=e.lanes,ol(e,t,i);0!==(131072&e.flags)&&(Fa=!0)}}return Wa(e,t,n,r,i)}function ja(e,t,n,r){var i=r.children,o=null!==e?e.memoizedState:null;if(null===e&&null===t.stateNode&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===r.mode){if(0!==(128&t.flags)){if(o=null!==o?o.baseLanes|n:n,null!==e){for(r=t.child=e.child,i=0;null!==r;)i=i|r.lanes|r.childLanes,r=r.sibling;r=i&~o}else r=0,t.child=null;return za(e,t,o,n,r)}if(0===(536870912&n))return r=t.lanes=536870912,za(e,t,null!==o?o.baseLanes|n:n,n,r);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Xi(0,null!==o?o.cachePool:null),null!==o?No(t,o):Do(),Vo(t)}else null!==o?(Xi(0,o.cachePool),No(t,o),jo(),t.memoizedState=null):(null!==e&&Xi(0,null),Do(),jo());return Oa(e,t,i,n),t.child}function Ua(e,t){return null!==e&&22===e.tag||null!==t.stateNode||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function za(e,t,n,r,i){var o=Yi();return o=null===o?null:{parent:ji._currentValue,pool:o},t.memoizedState={baseLanes:n,cachePool:o},null!==e&&Xi(0,null),Do(),Vo(t),null!==e&&Pi(e,t,r,!0),t.childLanes=i,null}function Ba(e,t){return(t=el({mode:t.mode,children:t.children},e.mode)).ref=e.ref,e.child=t,t.return=e,t}function Ha(e,t,n){return mo(t,e.child,null,n),(e=Ba(t,t.pendingProps)).flags|=2,Uo(t),t.memoizedState=null,e}function qa(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(s(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Wa(e,t,n,r,i){return Di(t),n=ns(e,t,n,r,void 0,i),r=ss(),null===e||Fa?(di&&r&&ai(t),t.flags|=1,Oa(e,t,n,i),t.child):(as(e,t,i),ol(e,t,i))}function Ka(e,t,n,r,i,o){return Di(t),t.updateQueue=null,n=is(t,r,n,i),rs(e),r=ss(),null===e||Fa?(di&&r&&ai(t),t.flags|=1,Oa(e,t,n,o),t.child):(as(e,t,o),ol(e,t,o))}function Ga(e,t,n,r,i){if(Di(t),null===t.stateNode){var o=Lr,s=n.contextType;"object"===typeof s&&null!==s&&(o=Ri(s)),o=new n(r,o),t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,o.updater=Sa,t.stateNode=o,o._reactInternals=t,(o=t.stateNode).props=r,o.state=t.memoizedState,o.refs={},vo(t),s=n.contextType,o.context="object"===typeof s&&null!==s?Ri(s):Lr,o.state=t.memoizedState,"function"===typeof(s=n.getDerivedStateFromProps)&&(wa(t,n,s,r),o.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(s=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),s!==o.state&&Sa.enqueueReplaceState(o,o.state,null),_o(t,r,o,i),ko(),o.state=t.memoizedState),"function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){o=t.stateNode;var a=t.memoizedProps,l=Ta(n,a);o.props=l;var u=o.context,c=n.contextType;s=Lr,"object"===typeof c&&null!==c&&(s=Ri(c));var h=n.getDerivedStateFromProps;c="function"===typeof h||"function"===typeof o.getSnapshotBeforeUpdate,a=t.pendingProps!==a,c||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a||u!==s)&&xa(t,o,r,s),yo=!1;var d=t.memoizedState;o.state=d,_o(t,r,o,i),ko(),u=t.memoizedState,a||d!==u||yo?("function"===typeof h&&(wa(t,n,h,r),u=t.memoizedState),(l=yo||Ea(t,n,l,r,d,u,s))?(c||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=s,r=l):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,bo(e,t),c=Ta(n,s=t.memoizedProps),o.props=c,h=t.pendingProps,d=o.context,u=n.contextType,l=Lr,"object"===typeof u&&null!==u&&(l=Ri(u)),(u="function"===typeof(a=n.getDerivedStateFromProps)||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==h||d!==l)&&xa(t,o,r,l),yo=!1,d=t.memoizedState,o.state=d,_o(t,r,o,i),ko();var f=t.memoizedState;s!==h||d!==f||yo||null!==e&&null!==e.dependencies&&Ni(e.dependencies)?("function"===typeof a&&(wa(t,n,a,r),f=t.memoizedState),(c=yo||Ea(t,n,c,r,d,f,l)||null!==e&&null!==e.dependencies&&Ni(e.dependencies))?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,f,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),o.props=r,o.state=f,o.context=l,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return o=r,qa(e,t),r=0!==(128&t.flags),o||r?(o=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:o.render(),t.flags|=1,null!==e&&r?(t.child=mo(t,e.child,null,i),t.child=mo(t,null,n,i)):Oa(e,t,n,i),t.memoizedState=o.state,e=t.child):e=ol(e,t,i),e}function Qa(e,t,n,r){return wi(),t.flags|=256,Oa(e,t,n,r),t.child}var Ya={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Xa(e){return{baseLanes:e,cachePool:$i()}}function $a(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=Iu),e}function Ja(e,t,n){var r,i=t.pendingProps,o=!1,a=0!==(128&t.flags);if((r=a)||(r=(null===e||null!==e.memoizedState)&&0!==(2&zo.current)),r&&(o=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(di){if(o?Lo(t):jo(),(e=hi)?null!==(e=null!==(e=Nh(e,pi))&&"&"!==e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ni?{id:ri,overflow:ii}:null,retryLane:536870912,hydrationErrors:null},(n=Wr(e)).return=t,t.child=n,ci=t,hi=null):e=null,null===e)throw gi(t);return Rh(e)?t.lanes=32:t.lanes=536870912,null}var l=i.children;return i=i.fallback,o?(jo(),l=el({mode:"hidden",children:l},o=t.mode),i=Hr(i,o,n,null),l.return=t,i.return=t,l.sibling=i,t.child=l,(i=t.child).memoizedState=Xa(n),i.childLanes=$a(e,r,n),t.memoizedState=Ya,Ua(null,i)):(Lo(t),Za(t,l))}var u=e.memoizedState;if(null!==u&&null!==(l=u.dehydrated)){if(a)256&t.flags?(Lo(t),t.flags&=-257,t=tl(e,t,n)):null!==t.memoizedState?(jo(),t.child=e.child,t.flags|=128,t=null):(jo(),l=i.fallback,o=t.mode,i=el({mode:"visible",children:i.children},o),(l=Hr(l,o,n,null)).flags|=2,i.return=t,l.return=t,i.sibling=l,t.child=i,mo(t,e.child,null,n),(i=t.child).memoizedState=Xa(n),i.childLanes=$a(e,r,n),t.memoizedState=Ya,t=Ua(null,i));else if(Lo(t),Rh(l)){if(r=l.nextSibling&&l.nextSibling.dataset)var c=r.dgst;r=c,(i=Error(s(419))).stack="",i.digest=r,Ei({value:i,source:null,stack:null}),t=tl(e,t,n)}else if(Fa||Pi(e,t,n,!1),r=0!==(n&e.childLanes),Fa||r){if(null!==(r=mu)&&(0!==(i=Oe(r,n))&&i!==u.retryLane))throw u.retryLane=i,Rr(e,i),Yu(r,e,i),Ra;Dh(l)||ac(),t=tl(e,t,n)}else Dh(l)?(t.flags|=192,t.child=e.child,t=null):(e=u.treeContext,hi=Fh(l.nextSibling),ci=t,di=!0,fi=null,pi=!1,null!==e&&ui(t,e),(t=Za(t,i.children)).flags|=4096);return t}return o?(jo(),l=i.fallback,o=t.mode,c=(u=e.child).sibling,(i=Ur(u,{mode:"hidden",children:i.children})).subtreeFlags=65011712&u.subtreeFlags,null!==c?l=Ur(c,l):(l=Hr(l,o,n,null)).flags|=2,l.return=t,i.return=t,i.sibling=l,t.child=i,Ua(null,i),i=t.child,null===(l=e.child.memoizedState)?l=Xa(n):(null!==(o=l.cachePool)?(u=ji._currentValue,o=o.parent!==u?{parent:u,pool:u}:o):o=$i(),l={baseLanes:l.baseLanes|n,cachePool:o}),i.memoizedState=l,i.childLanes=$a(e,r,n),t.memoizedState=Ya,Ua(e.child,i)):(Lo(t),e=(n=e.child).sibling,(n=Ur(n,{mode:"visible",children:i.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Za(e,t){return(t=el({mode:"visible",children:t},e.mode)).return=e,e.child=t}function el(e,t){return(e=Vr(22,e,null,t)).lanes=0,e}function tl(e,t,n){return mo(t,e.child,null,n),(e=Za(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function nl(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ii(e.return,t,n)}function rl(e,t,n,r,i,o){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,treeForkCount:o}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i,s.treeForkCount=o)}function il(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;r=r.children;var s=zo.current,a=0!==(2&s);if(a?(s=1&s|2,t.flags|=128):s&=1,z(zo,s),Oa(e,t,r,n),r=di?Zr:0,!a&&null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&nl(e,n,t);else if(19===e.tag)nl(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Bo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),rl(t,!1,i,n,o,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Bo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}rl(t,!0,n,null,o,r);break;case"together":rl(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function ol(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),ku|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Pi(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Ur(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ur(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function sl(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Ni(e))}function al(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Fa=!0;else{if(!sl(e,n)&&0===(128&t.flags))return Fa=!1,function(e,t,n){switch(t.tag){case 3:Q(t,t.stateNode.containerInfo),_i(0,ji,e.memoizedState.cache),wi();break;case 27:case 5:X(t);break;case 4:Q(t,t.stateNode.containerInfo);break;case 10:_i(0,t.type,t.memoizedProps.value);break;case 31:if(null!==t.memoizedState)return t.flags|=128,Mo(t),null;break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(Lo(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Ja(e,t,n):(Lo(t),null!==(e=ol(e,t,n))?e.sibling:null);Lo(t);break;case 19:var i=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(Pi(e,t,n,!1),r=0!==(n&t.childLanes)),i){if(r)return il(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),z(zo,zo.current),r)break;return null;case 22:return t.lanes=0,ja(e,t,n,t.pendingProps);case 24:_i(0,ji,e.memoizedState.cache)}return ol(e,t,n)}(e,t,n);Fa=0!==(131072&e.flags)}else Fa=!1,di&&0!==(1048576&t.flags)&&si(t,Zr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=io(t.elementType),t.type=e,"function"!==typeof e){if(void 0!==e&&null!==e){var i=e.$$typeof;if(i===E){t.tag=11,t=La(null,t,e,r,n);break e}if(i===k){t.tag=14,t=Ma(null,t,e,r,n);break e}}throw t=D(e)||e,Error(s(306,t,""))}jr(e)?(r=Ta(e,r),t.tag=1,t=Ga(null,t,e,r,n)):(t.tag=0,t=Wa(null,t,e,r,n))}return t;case 0:return Wa(e,t,t.type,t.pendingProps,n);case 1:return Ga(e,t,r=t.type,i=Ta(r,t.pendingProps),n);case 3:e:{if(Q(t,t.stateNode.containerInfo),null===e)throw Error(s(387));r=t.pendingProps;var o=t.memoizedState;i=o.element,bo(e,t),_o(t,r,null,n);var a=t.memoizedState;if(r=a.cache,_i(0,ji,r),r!==o.cache&&Ai(t,[ji],n,!0),ko(),r=a.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Qa(e,t,r,n);break e}if(r!==i){Ei(i=Yr(Error(s(424)),t)),t=Qa(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(hi=Fh(e.firstChild),ci=t,di=!0,fi=null,pi=!0,n=go(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(wi(),r===i){t=ol(e,t,n);break e}Oa(e,t,r,n)}t=t.child}return t;case 26:return qa(e,t),null===e?(n=Kh(t.type,null,t.pendingProps,null))?t.memoizedState=n:di||(n=t.type,e=t.pendingProps,(r=yh(K.current).createElement(n))[ze]=t,r[Be]=e,fh(r,n,e),et(r),t.stateNode=r):t.memoizedState=Kh(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return X(t),null===e&&di&&(r=t.stateNode=Vh(t.type,t.pendingProps,K.current),ci=t,pi=!0,i=hi,Ch(t.type)?(Oh=i,hi=Fh(r.firstChild)):hi=i),Oa(e,t,t.pendingProps.children,n),qa(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&di&&((i=r=hi)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Qe])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(o=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(o!==i.rel||e.getAttribute("href")!==(null==i.href||""===i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((o=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var o=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===o)return e}if(null===(e=Fh(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,pi))?(t.stateNode=r,ci=t,hi=Fh(r.firstChild),pi=!1,i=!0):i=!1),i||gi(t)),X(t),i=t.type,o=t.pendingProps,a=null!==e?e.memoizedProps:null,r=o.children,wh(i,o)?r=null:null!==a&&wh(i,a)&&(t.flags|=32),null!==t.memoizedState&&(i=ns(e,t,os,null,null,n),hd._currentValue=i),qa(e,t),Oa(e,t,r,n),t.child;case 6:return null===e&&di&&((e=n=hi)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=Fh(e.nextSibling)))return null}return e}(n,t.pendingProps,pi))?(t.stateNode=n,ci=t,hi=null,e=!0):e=!1),e||gi(t)),null;case 13:return Ja(e,t,n);case 4:return Q(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=mo(t,null,r,n):Oa(e,t,r,n),t.child;case 11:return La(e,t,t.type,t.pendingProps,n);case 7:return Oa(e,t,t.pendingProps,n),t.child;case 8:case 12:return Oa(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,_i(0,t.type,r.value),Oa(e,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,Di(t),r=r(i=Ri(i)),t.flags|=1,Oa(e,t,r,n),t.child;case 14:return Ma(e,t,t.type,t.pendingProps,n);case 15:return Va(e,t,t.type,t.pendingProps,n);case 19:return il(e,t,n);case 31:return function(e,t,n){var r=t.pendingProps,i=0!==(128&t.flags);if(t.flags&=-129,null===e){if(di){if("hidden"===r.mode)return e=Ba(t,r),t.lanes=536870912,Ua(null,e);if(Mo(t),(e=hi)?null!==(e=null!==(e=Nh(e,pi))&&"&"===e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ni?{id:ri,overflow:ii}:null,retryLane:536870912,hydrationErrors:null},(n=Wr(e)).return=t,t.child=n,ci=t,hi=null):e=null,null===e)throw gi(t);return t.lanes=536870912,null}return Ba(t,r)}var o=e.memoizedState;if(null!==o){var a=o.dehydrated;if(Mo(t),i)if(256&t.flags)t.flags&=-257,t=Ha(e,t,n);else{if(null===t.memoizedState)throw Error(s(558));t.child=e.child,t.flags|=128,t=null}else if(Fa||Pi(e,t,n,!1),i=0!==(n&e.childLanes),Fa||i){if(null!==(r=mu)&&0!==(a=Oe(r,n))&&a!==o.retryLane)throw o.retryLane=a,Rr(e,a),Yu(r,e,a),Ra;ac(),t=Ha(e,t,n)}else e=o.treeContext,hi=Fh(a.nextSibling),ci=t,di=!0,fi=null,pi=!1,null!==e&&ui(t,e),(t=Ba(t,r)).flags|=4096;return t}return(e=Ur(e.child,{mode:r.mode,children:r.children})).ref=t.ref,t.child=e,e.return=t,e}(e,t,n);case 22:return ja(e,t,n,t.pendingProps);case 24:return Di(t),r=Ri(ji),null===e?(null===(i=Yi())&&(i=mu,o=Ui(),i.pooledCache=o,o.refCount++,null!==o&&(i.pooledCacheLanes|=n),i=o),t.memoizedState={parent:r,cache:i},vo(t),_i(0,ji,i)):(0!==(e.lanes&n)&&(bo(e,t),_o(t,null,null,n),ko()),i=e.memoizedState,o=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),_i(0,ji,r)):(r=o.cache,_i(0,ji,r),r!==i.cache&&Ai(t,[ji],n,!0))),Oa(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function ll(e){e.flags|=4}function ul(e,t,n,r,i){if((t=0!==(32&e.mode))&&(t=!1),t){if(e.flags|=16777216,(335544128&i)===i)if(e.stateNode.complete)e.flags|=8192;else{if(!ic())throw oo=to,Zi;e.flags|=8192}}else e.flags&=-16777217}function cl(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!od(t)){if(!ic())throw oo=to,Zi;e.flags|=8192}}function hl(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Pe():536870912,e.lanes|=t,Au|=t)}function dl(e,t){if(!di)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function fl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=65011712&i.subtreeFlags,r|=65011712&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function pl(e,t,n){var r=t.pendingProps;switch(li(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return fl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Ci(ji),Y(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(bi(t)?ll(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,Si())),fl(t),null;case 26:var i=t.type,o=t.memoizedState;return null===e?(ll(t),null!==o?(fl(t),cl(t,o)):(fl(t),ul(t,i,0,0,n))):o?o!==e.memoizedState?(ll(t),fl(t),cl(t,o)):(fl(t),t.flags&=-16777217):((e=e.memoizedProps)!==r&&ll(t),fl(t),ul(t,i,0,0,n)),null;case 27:if($(t),n=K.current,i=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&ll(t);else{if(!r){if(null===t.stateNode)throw Error(s(166));return fl(t),null}e=q.current,bi(t)?yi(t):(e=Vh(i,r,n),t.stateNode=e,ll(t))}return fl(t),null;case 5:if($(t),i=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&ll(t);else{if(!r){if(null===t.stateNode)throw Error(s(166));return fl(t),null}if(o=q.current,bi(t))yi(t);else{var a=yh(K.current);switch(o){case 1:o=a.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:o=a.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":o=a.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":o=a.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":(o=a.createElement("div")).innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o="string"===typeof r.is?a.createElement("select",{is:r.is}):a.createElement("select"),r.multiple?o.multiple=!0:r.size&&(o.size=r.size);break;default:o="string"===typeof r.is?a.createElement(i,{is:r.is}):a.createElement(i)}}o[ze]=t,o[Be]=r;e:for(a=t.child;null!==a;){if(5===a.tag||6===a.tag)o.appendChild(a.stateNode);else if(4!==a.tag&&27!==a.tag&&null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;null===a.sibling;){if(null===a.return||a.return===t)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}t.stateNode=o;e:switch(fh(o,i,r),i){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&ll(t)}}return fl(t),ul(t,t.type,null===e||e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&ll(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(e=K.current,bi(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(i=ci))switch(i.tag){case 27:case 5:r=i.memoizedProps}e[ze]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||ch(e.nodeValue,n)))||gi(t,!0)}else(e=yh(e).createTextNode(r))[ze]=t,t.stateNode=e}return fl(t),null;case 31:if(n=t.memoizedState,null===e||null!==e.memoizedState){if(r=bi(t),null!==n){if(null===e){if(!r)throw Error(s(318));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(s(557));e[ze]=t}else wi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;fl(t),e=!1}else n=Si(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return 256&t.flags?(Uo(t),t):(Uo(t),null);if(0!==(128&t.flags))throw Error(s(558))}return fl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=bi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(s(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(s(317));i[ze]=t}else wi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;fl(t),i=!1}else i=Si(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return 256&t.flags?(Uo(t),t):(Uo(t),null)}return Uo(t),0!==(128&t.flags)?(t.lanes=n,t):(n=null!==r,e=null!==e&&null!==e.memoizedState,n&&(i=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(i=r.alternate.memoizedState.cachePool.pool),o=null,null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(o=r.memoizedState.cachePool.pool),o!==i&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),hl(t,t.updateQueue),fl(t),null);case 4:return Y(),null===e&&eh(t.stateNode.containerInfo),fl(t),null;case 10:return Ci(t.type),fl(t),null;case 19:if(U(zo),null===(r=t.memoizedState))return fl(t),null;if(i=0!==(128&t.flags),null===(o=r.rendering))if(i)dl(r,!1);else{if(0!==Tu||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(o=Bo(e))){for(t.flags|=128,dl(r,!1),e=o.updateQueue,t.updateQueue=e,hl(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)zr(n,e),n=n.sibling;return z(zo,1&zo.current|2),di&&oi(t,r.treeForkCount),t.child}e=e.sibling}null!==r.tail&&le()>Ou&&(t.flags|=128,i=!0,dl(r,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=Bo(o))){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,hl(t,e),dl(r,!0),null===r.tail&&"hidden"===r.tailMode&&!o.alternate&&!di)return fl(t),null}else 2*le()-r.renderingStartTime>Ou&&536870912!==n&&(t.flags|=128,i=!0,dl(r,!1),t.lanes=4194304);r.isBackwards?(o.sibling=t.child,t.child=o):(null!==(e=r.last)?e.sibling=o:t.child=o,r.last=o)}return null!==r.tail?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=le(),e.sibling=null,n=zo.current,z(zo,i?1&n|2:1&n),di&&oi(t,r.treeForkCount),e):(fl(t),null);case 22:case 23:return Uo(t),Ro(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(fl(t),6&t.subtreeFlags&&(t.flags|=8192)):fl(t),null!==(n=t.updateQueue)&&hl(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&U(Qi),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Ci(ji),fl(t),null;case 25:case 30:return null}throw Error(s(156,t.tag))}function ml(e,t){switch(li(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ci(ji),Y(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return $(t),null;case 31:if(null!==t.memoizedState){if(Uo(t),null===t.alternate)throw Error(s(340));wi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 13:if(Uo(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));wi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return U(zo),null;case 4:return Y(),null;case 10:return Ci(t.type),null;case 22:case 23:return Uo(t),Ro(),null!==e&&U(Qi),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return Ci(ji),null;default:return null}}function gl(e,t){switch(li(t),t.tag){case 3:Ci(ji),Y();break;case 26:case 27:case 5:$(t);break;case 4:Y();break;case 31:null!==t.memoizedState&&Uo(t);break;case 13:Uo(t);break;case 19:U(zo);break;case 10:Ci(t.type);break;case 22:case 23:Uo(t),Ro(),null!==e&&U(Qi);break;case 24:Ci(ji)}}function yl(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var o=n.create,s=n.inst;r=o(),s.destroy=r}n=n.next}while(n!==i)}}catch(a){Tc(t,t.return,a)}}function vl(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var o=i.next;r=o;do{if((r.tag&e)===e){var s=r.inst,a=s.destroy;if(void 0!==a){s.destroy=void 0,i=t;var l=n,u=a;try{u()}catch(c){Tc(i,l,c)}}}r=r.next}while(r!==o)}}catch(c){Tc(t,t.return,c)}}function bl(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{Io(t,n)}catch(r){Tc(e,e.return,r)}}}function wl(e,t,n){n.props=Ta(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){Tc(e,t,r)}}function Sl(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(i){Tc(e,t,i)}}function El(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(i){Tc(e,t,i)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(o){Tc(e,t,o)}else n.current=null}function xl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){Tc(e,e.return,i)}}function Tl(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,o=null,a=null,l=null,u=null,c=null,h=null;for(p in n){var d=n[p];if(n.hasOwnProperty(p)&&null!=d)switch(p){case"checked":case"value":break;case"defaultValue":u=d;default:r.hasOwnProperty(p)||hh(e,t,p,null,r,d)}}for(var f in r){var p=r[f];if(d=n[f],r.hasOwnProperty(f)&&(null!=p||null!=d))switch(f){case"type":o=p;break;case"name":i=p;break;case"checked":c=p;break;case"defaultChecked":h=p;break;case"value":a=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(s(137,t));break;default:p!==d&&hh(e,t,f,p,r,d)}}return void vt(e,a,l,u,c,h,o,i);case"select":for(o in p=a=l=f=null,n)if(u=n[o],n.hasOwnProperty(o)&&null!=u)switch(o){case"value":break;case"multiple":p=u;default:r.hasOwnProperty(o)||hh(e,t,o,null,r,u)}for(i in r)if(o=r[i],u=n[i],r.hasOwnProperty(i)&&(null!=o||null!=u))switch(i){case"value":f=o;break;case"defaultValue":l=o;break;case"multiple":a=o;default:o!==u&&hh(e,t,i,o,r,u)}return t=l,n=a,r=p,void(null!=f?St(e,!!n,f,!1):!!r!==!!n&&(null!=t?St(e,!!n,t,!0):St(e,!!n,n?[]:"",!1)));case"textarea":for(l in p=f=null,n)if(i=n[l],n.hasOwnProperty(l)&&null!=i&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:hh(e,t,l,null,r,i)}for(a in r)if(i=r[a],o=n[a],r.hasOwnProperty(a)&&(null!=i||null!=o))switch(a){case"value":f=i;break;case"defaultValue":p=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(s(91));break;default:i!==o&&hh(e,t,a,i,r,o)}return void Et(e,f,p);case"option":for(var m in n)if(f=n[m],n.hasOwnProperty(m)&&null!=f&&!r.hasOwnProperty(m))if("selected"===m)e.selected=!1;else hh(e,t,m,null,r,f);for(u in r)if(f=r[u],p=n[u],r.hasOwnProperty(u)&&f!==p&&(null!=f||null!=p))if("selected"===u)e.selected=f&&"function"!==typeof f&&"symbol"!==typeof f;else hh(e,t,u,f,r,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)f=n[g],n.hasOwnProperty(g)&&null!=f&&!r.hasOwnProperty(g)&&hh(e,t,g,null,r,f);for(c in r)if(f=r[c],p=n[c],r.hasOwnProperty(c)&&f!==p&&(null!=f||null!=p))switch(c){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(s(137,t));break;default:hh(e,t,c,f,r,p)}return;default:if(It(t)){for(var y in n)f=n[y],n.hasOwnProperty(y)&&void 0!==f&&!r.hasOwnProperty(y)&&dh(e,t,y,void 0,r,f);for(h in r)f=r[h],p=n[h],!r.hasOwnProperty(h)||f===p||void 0===f&&void 0===p||dh(e,t,h,f,r,p);return}}for(var v in n)f=n[v],n.hasOwnProperty(v)&&null!=f&&!r.hasOwnProperty(v)&&hh(e,t,v,null,r,f);for(d in r)f=r[d],p=n[d],!r.hasOwnProperty(d)||f===p||null==f&&null==p||hh(e,t,d,f,r,p)}(r,e.type,n,t),r[Be]=t}catch(i){Tc(e,e.return,i)}}function kl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&Ch(e.type)||4===e.tag}function _l(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||kl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&Ch(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Dt));else if(4!==r&&(27===r&&Ch(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(Cl(e,t,n),e=e.sibling;null!==e;)Cl(e,t,n),e=e.sibling}function Il(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&Ch(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(Il(e,t,n),e=e.sibling;null!==e;)Il(e,t,n),e=e.sibling}function Al(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);fh(t,r,n),t[ze]=e,t[Be]=n}catch(o){Tc(e,e.return,o)}}var Pl=!1,Nl=!1,Dl=!1,Rl="function"===typeof WeakSet?WeakSet:Set,Fl=null;function Ol(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Yl(e,n),4&r&&yl(5,n);break;case 1:if(Yl(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(s){Tc(n,n.return,s)}else{var i=Ta(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(a){Tc(n,n.return,a)}}64&r&&bl(n),512&r&&Sl(n,n.return);break;case 3:if(Yl(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{Io(e,t)}catch(s){Tc(n,n.return,s)}}break;case 27:null===t&&4&r&&Al(n);case 26:case 5:Yl(e,n),null===t&&4&r&&xl(n),512&r&&Sl(n,n.return);break;case 12:Yl(e,n);break;case 31:Yl(e,n),4&r&&zl(e,n);break;case 13:Yl(e,n),4&r&&Bl(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$~"===e.data)e._reactRetry=t;else if("$?"!==e.data||"loading"!==n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=Ic.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||Pl)){t=null!==t&&null!==t.memoizedState||Nl,i=Pl;var o=Nl;Pl=r,(Nl=t)&&!o?$l(e,n,0!==(8772&n.subtreeFlags)):Yl(e,n),Pl=i,Nl=o}break;case 30:break;default:Yl(e,n)}}function Ll(e){var t=e.alternate;null!==t&&(e.alternate=null,Ll(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Ye(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ml=null,Vl=!1;function jl(e,t,n){for(n=n.child;null!==n;)Ul(e,t,n),n=n.sibling}function Ul(e,t,n){if(ve&&"function"===typeof ve.onCommitFiberUnmount)try{ve.onCommitFiberUnmount(ye,n)}catch(o){}switch(n.tag){case 26:Nl||El(n,t),jl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Nl||El(n,t);var r=Ml,i=Vl;Ch(n.type)&&(Ml=n.stateNode,Vl=!1),jl(e,t,n),jh(n.stateNode),Ml=r,Vl=i;break;case 5:Nl||El(n,t);case 6:if(r=Ml,i=Vl,Ml=null,jl(e,t,n),Vl=i,null!==(Ml=r))if(Vl)try{(9===Ml.nodeType?Ml.body:"HTML"===Ml.nodeName?Ml.ownerDocument.body:Ml).removeChild(n.stateNode)}catch(s){Tc(n,t,s)}else try{Ml.removeChild(n.stateNode)}catch(s){Tc(n,t,s)}break;case 18:null!==Ml&&(Vl?(Ih(9===(e=Ml).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Wd(e)):Ih(Ml,n.stateNode));break;case 4:r=Ml,i=Vl,Ml=n.stateNode.containerInfo,Vl=!0,jl(e,t,n),Ml=r,Vl=i;break;case 0:case 11:case 14:case 15:vl(2,n,t),Nl||vl(4,n,t),jl(e,t,n);break;case 1:Nl||(El(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&wl(n,t,r)),jl(e,t,n);break;case 21:jl(e,t,n);break;case 22:Nl=(r=Nl)||null!==n.memoizedState,jl(e,t,n),Nl=r;break;default:jl(e,t,n)}}function zl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&null!==(e=e.memoizedState))){e=e.dehydrated;try{Wd(e)}catch(n){Tc(t,t.return,n)}}}function Bl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Wd(e)}catch(n){Tc(t,t.return,n)}}function Hl(e,t){var n=function(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Rl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Rl),t;default:throw Error(s(435,e.tag))}}(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var r=Ac.bind(null,e,t);t.then(r,r)}})}function ql(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r],o=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 27:if(Ch(l.type)){Ml=l.stateNode,Vl=!1;break e}break;case 5:Ml=l.stateNode,Vl=!1;break e;case 3:case 4:Ml=l.stateNode.containerInfo,Vl=!0;break e}l=l.return}if(null===Ml)throw Error(s(160));Ul(o,a,i),Ml=null,Vl=!1,null!==(o=i.alternate)&&(o.return=null),i.return=null}if(13886&t.subtreeFlags)for(t=t.child;null!==t;)Kl(t,e),t=t.sibling}var Wl=null;function Kl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ql(t,e),Gl(e),4&r&&(vl(3,e,e.return),yl(3,e),vl(5,e,e.return));break;case 1:ql(t,e),Gl(e),512&r&&(Nl||null===n||El(n,n.return)),64&r&&Pl&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var i=Wl;if(ql(t,e),Gl(e),512&r&&(Nl||null===n||El(n,n.return)),4&r){var o=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":(!(o=i.getElementsByTagName("title")[0])||o[Qe]||o[ze]||"http://www.w3.org/2000/svg"===o.namespaceURI||o.hasAttribute("itemprop"))&&(o=i.createElement(r),i.head.insertBefore(o,i.querySelector("head > title"))),fh(o,r,n),o[ze]=e,et(o),r=o;break e;case"link":var a=rd("link","href",i).get(r+(n.href||""));if(a)for(var l=0;l<a.length;l++)if((o=a[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&o.getAttribute("rel")===(null==n.rel?null:n.rel)&&o.getAttribute("title")===(null==n.title?null:n.title)&&o.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){a.splice(l,1);break t}fh(o=i.createElement(r),r,n),i.head.appendChild(o);break;case"meta":if(a=rd("meta","content",i).get(r+(n.content||"")))for(l=0;l<a.length;l++)if((o=a[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&o.getAttribute("name")===(null==n.name?null:n.name)&&o.getAttribute("property")===(null==n.property?null:n.property)&&o.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&o.getAttribute("charset")===(null==n.charSet?null:n.charSet)){a.splice(l,1);break t}fh(o=i.createElement(r),r,n),i.head.appendChild(o);break;default:throw Error(s(468,r))}o[ze]=e,et(o),r=o}e.stateNode=r}else id(i,e.type,e.stateNode);else e.stateNode=Jh(i,r,e.memoizedProps);else o!==r?(null===o?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):o.count--,null===r?id(i,e.type,e.stateNode):Jh(i,r,e.memoizedProps)):null===r&&null!==e.stateNode&&Tl(e,e.memoizedProps,n.memoizedProps)}break;case 27:ql(t,e),Gl(e),512&r&&(Nl||null===n||El(n,n.return)),null!==n&&4&r&&Tl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(ql(t,e),Gl(e),512&r&&(Nl||null===n||El(n,n.return)),32&e.flags){i=e.stateNode;try{Tt(i,"")}catch(m){Tc(e,e.return,m)}}4&r&&null!=e.stateNode&&Tl(e,i=e.memoizedProps,null!==n?n.memoizedProps:i),1024&r&&(Dl=!0);break;case 6:if(ql(t,e),Gl(e),4&r){if(null===e.stateNode)throw Error(s(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(m){Tc(e,e.return,m)}}break;case 3:if(nd=null,i=Wl,Wl=Bh(t.containerInfo),ql(t,e),Wl=i,Gl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Wd(t.containerInfo)}catch(m){Tc(e,e.return,m)}Dl&&(Dl=!1,Ql(e));break;case 4:r=Wl,Wl=Bh(e.stateNode.containerInfo),ql(t,e),Gl(e),Wl=r;break;case 12:default:ql(t,e),Gl(e);break;case 31:case 19:ql(t,e),Gl(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Hl(e,r)));break;case 13:ql(t,e),Gl(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(Ru=le()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Hl(e,r)));break;case 22:i=null!==e.memoizedState;var u=null!==n&&null!==n.memoizedState,c=Pl,h=Nl;if(Pl=c||i,Nl=h||u,ql(t,e),Nl=h,Pl=c,Gl(e),8192&r)e:for(t=e.stateNode,t._visibility=i?-2&t._visibility:1|t._visibility,i&&(null===n||u||Pl||Nl||Xl(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){u=n=t;try{if(o=u.stateNode,i)"function"===typeof(a=o.style).setProperty?a.setProperty("display","none","important"):a.display="none";else{l=u.stateNode;var d=u.memoizedProps.style,f=void 0!==d&&null!==d&&d.hasOwnProperty("display")?d.display:null;l.style.display=null==f||"boolean"===typeof f?"":(""+f).trim()}}catch(m){Tc(u,u.return,m)}}}else if(6===t.tag){if(null===n){u=t;try{u.stateNode.nodeValue=i?"":u.memoizedProps}catch(m){Tc(u,u.return,m)}}}else if(18===t.tag){if(null===n){u=t;try{var p=u.stateNode;i?Ah(p,!0):Ah(u.stateNode,!1)}catch(m){Tc(u,u.return,m)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Hl(e,n))));case 30:case 21:}}function Gl(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(kl(r)){n=r;break}r=r.return}if(null==n)throw Error(s(160));switch(n.tag){case 27:var i=n.stateNode;Il(e,_l(e),i);break;case 5:var o=n.stateNode;32&n.flags&&(Tt(o,""),n.flags&=-33),Il(e,_l(e),o);break;case 3:case 4:var a=n.stateNode.containerInfo;Cl(e,_l(e),a);break;default:throw Error(s(161))}}catch(l){Tc(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Ql(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Ql(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Yl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Ol(e,t.alternate,t),t=t.sibling}function Xl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:vl(4,t,t.return),Xl(t);break;case 1:El(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&wl(t,t.return,n),Xl(t);break;case 27:jh(t.stateNode);case 26:case 5:El(t,t.return),Xl(t);break;case 22:null===t.memoizedState&&Xl(t);break;default:Xl(t)}e=e.sibling}}function $l(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,o=t,s=o.flags;switch(o.tag){case 0:case 11:case 15:$l(i,o,n),yl(4,o);break;case 1:if($l(i,o,n),"function"===typeof(i=(r=o).stateNode).componentDidMount)try{i.componentDidMount()}catch(u){Tc(r,r.return,u)}if(null!==(i=(r=o).updateQueue)){var a=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(null!==l)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)Co(l[i],a)}catch(u){Tc(r,r.return,u)}}n&&64&s&&bl(o),Sl(o,o.return);break;case 27:Al(o);case 26:case 5:$l(i,o,n),n&&null===r&&4&s&&xl(o),Sl(o,o.return);break;case 12:$l(i,o,n);break;case 31:$l(i,o,n),n&&4&s&&zl(i,o);break;case 13:$l(i,o,n),n&&4&s&&Bl(i,o);break;case 22:null===o.memoizedState&&$l(i,o,n),Sl(o,o.return);break;case 30:break;default:$l(i,o,n)}t=t.sibling}}function Jl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&zi(n))}function Zl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&zi(e))}function eu(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)tu(e,t,n,r),t=t.sibling}function tu(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:eu(e,t,n,r),2048&i&&yl(9,t);break;case 1:case 31:case 13:default:eu(e,t,n,r);break;case 3:eu(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&zi(e)));break;case 12:if(2048&i){eu(e,t,n,r),e=t.stateNode;try{var o=t.memoizedProps,s=o.id,a=o.onPostCommit;"function"===typeof a&&a(s,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){Tc(t,t.return,l)}}else eu(e,t,n,r);break;case 23:break;case 22:o=t.stateNode,s=t.alternate,null!==t.memoizedState?2&o._visibility?eu(e,t,n,r):ru(e,t):2&o._visibility?eu(e,t,n,r):(o._visibility|=2,nu(e,t,n,r,0!==(10256&t.subtreeFlags)||!1)),2048&i&&Jl(s,t);break;case 24:eu(e,t,n,r),2048&i&&Zl(t.alternate,t)}}function nu(e,t,n,r,i){for(i=i&&(0!==(10256&t.subtreeFlags)||!1),t=t.child;null!==t;){var o=e,s=t,a=n,l=r,u=s.flags;switch(s.tag){case 0:case 11:case 15:nu(o,s,a,l,i),yl(8,s);break;case 23:break;case 22:var c=s.stateNode;null!==s.memoizedState?2&c._visibility?nu(o,s,a,l,i):ru(o,s):(c._visibility|=2,nu(o,s,a,l,i)),i&&2048&u&&Jl(s.alternate,s);break;case 24:nu(o,s,a,l,i),i&&2048&u&&Zl(s.alternate,s);break;default:nu(o,s,a,l,i)}t=t.sibling}}function ru(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:ru(n,r),2048&i&&Jl(r.alternate,r);break;case 24:ru(n,r),2048&i&&Zl(r.alternate,r);break;default:ru(n,r)}t=t.sibling}}var iu=8192;function ou(e,t,n){if(e.subtreeFlags&iu)for(e=e.child;null!==e;)su(e,t,n),e=e.sibling}function su(e,t,n){switch(e.tag){case 26:ou(e,t,n),e.flags&iu&&null!==e.memoizedState&&function(e,t,n,r){if("stylesheet"===n.type&&("string"!==typeof r.media||!1!==matchMedia(r.media).matches)&&0===(4&n.state.loading)){if(null===n.instance){var i=Gh(r.href),o=t.querySelector(Qh(i));if(o)return null!==(t=o._p)&&"object"===typeof t&&"function"===typeof t.then&&(e.count++,e=ad.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=o,void et(o);o=t.ownerDocument||t,r=Yh(r),(i=Uh.get(i))&&ed(r,i),et(o=o.createElement("link"));var s=o;s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),fh(o,"link",r),n.instance=o}null===e.stylesheets&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&0===(3&n.state.loading)&&(e.count++,n=ad.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}(n,Wl,e.memoizedState,e.memoizedProps);break;case 5:default:ou(e,t,n);break;case 3:case 4:var r=Wl;Wl=Bh(e.stateNode.containerInfo),ou(e,t,n),Wl=r;break;case 22:null===e.memoizedState&&(null!==(r=e.alternate)&&null!==r.memoizedState?(r=iu,iu=16777216,ou(e,t,n),iu=r):ou(e,t,n))}}function au(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function lu(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Fl=r,hu(r,e)}au(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)uu(e),e=e.sibling}function uu(e){switch(e.tag){case 0:case 11:case 15:lu(e),2048&e.flags&&vl(9,e,e.return);break;case 3:case 12:default:lu(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,cu(e)):lu(e)}}function cu(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Fl=r,hu(r,e)}au(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:vl(8,t,t.return),cu(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,cu(t));break;default:cu(t)}e=e.sibling}}function hu(e,t){for(;null!==Fl;){var n=Fl;switch(n.tag){case 0:case 11:case 15:vl(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:zi(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,Fl=r;else e:for(n=e;null!==Fl;){var i=(r=Fl).sibling,o=r.return;if(Ll(r),r===n){Fl=null;break e}if(null!==i){i.return=o,Fl=i;break e}Fl=o}}}var du={getCacheForType:function(e){var t=Ri(ji),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Ri(ji).controller.signal}},fu="function"===typeof WeakMap?WeakMap:Map,pu=0,mu=null,gu=null,yu=0,vu=0,bu=null,wu=!1,Su=!1,Eu=!1,xu=0,Tu=0,ku=0,_u=0,Cu=0,Iu=0,Au=0,Pu=null,Nu=null,Du=!1,Ru=0,Fu=0,Ou=1/0,Lu=null,Mu=null,Vu=0,ju=null,Uu=null,zu=0,Bu=0,Hu=null,qu=null,Wu=0,Ku=null;function Gu(){return 0!==(2&pu)&&0!==yu?yu&-yu:null!==F.T?Hc():Ve()}function Qu(){if(0===Iu)if(0===(536870912&yu)||di){var e=Te;0===(3932160&(Te<<=1))&&(Te=262144),Iu=e}else Iu=536870912;return null!==(e=Fo.current)&&(e.flags|=32),Iu}function Yu(e,t,n){(e!==mu||2!==vu&&9!==vu)&&null===e.cancelPendingCommit||(nc(e,0),Zu(e,yu,Iu,!1)),De(e,n),0!==(2&pu)&&e===mu||(e===mu&&(0===(2&pu)&&(_u|=n),4===Tu&&Zu(e,yu,Iu,!1)),Lc(e))}function Xu(e,t,n){if(0!==(6&pu))throw Error(s(327));for(var r=!n&&0===(127&t)&&0===(t&e.expiredLanes)||Ie(e,t),i=r?function(e,t){var n=pu;pu|=2;var r=oc(),i=sc();mu!==e||yu!==t?(Lu=null,Ou=le()+500,nc(e,t)):Su=Ie(e,t);e:for(;;)try{if(0!==vu&&null!==gu){t=gu;var o=bu;t:switch(vu){case 1:vu=0,bu=null,fc(e,t,o,1);break;case 2:case 9:if(no(o)){vu=0,bu=null,dc(t);break}t=function(){2!==vu&&9!==vu||mu!==e||(vu=7),Lc(e)},o.then(t,t);break e;case 3:vu=7;break e;case 4:vu=5;break e;case 7:no(o)?(vu=0,bu=null,dc(t)):(vu=0,bu=null,fc(e,t,o,7));break;case 5:var a=null;switch(gu.tag){case 26:a=gu.memoizedState;case 5:case 27:var l=gu;if(a?od(a):l.stateNode.complete){vu=0,bu=null;var u=l.sibling;if(null!==u)gu=u;else{var c=l.return;null!==c?(gu=c,pc(c)):gu=null}break t}}vu=0,bu=null,fc(e,t,o,5);break;case 6:vu=0,bu=null,fc(e,t,o,6);break;case 8:tc(),Tu=6;break e;default:throw Error(s(462))}}cc();break}catch(h){rc(e,h)}return ki=Ti=null,F.H=r,F.A=i,pu=n,null!==gu?0:(mu=null,yu=0,Pr(),Tu)}(e,t):lc(e,t,!0),o=r;;){if(0===i){Su&&!r&&Zu(e,t,0,!1);break}if(n=e.current.alternate,!o||Ju(n)){if(2===i){if(o=t,e.errorRecoveryDisabledLanes&o)var a=0;else a=0!==(a=-536870913&e.pendingLanes)?a:536870912&a?536870912:0;if(0!==a){t=a;e:{var l=e;i=Pu;var u=l.current.memoizedState.isDehydrated;if(u&&(nc(l,a).flags|=256),2!==(a=lc(l,a,!1))){if(Eu&&!u){l.errorRecoveryDisabledLanes|=o,_u|=o,i=4;break e}o=Nu,Nu=i,null!==o&&(null===Nu?Nu=o:Nu.push.apply(Nu,o))}i=a}if(o=!1,2!==i)continue}}if(1===i){nc(e,0),Zu(e,t,0,!0);break}e:{switch(r=e,o=i){case 0:case 1:throw Error(s(345));case 4:if((4194048&t)!==t)break;case 6:Zu(r,t,Iu,!wu);break e;case 2:Nu=null;break;case 3:case 5:break;default:throw Error(s(329))}if((62914560&t)===t&&10<(i=Ru+300-le())){if(Zu(r,t,Iu,!wu),0!==Ce(r,0,!0))break e;zu=t,r.timeoutHandle=Eh($u.bind(null,r,n,Nu,Lu,Du,t,Iu,_u,Au,wu,o,"Throttled",-0,0),i)}else $u(r,n,Nu,Lu,Du,t,Iu,_u,Au,wu,o,null,-0,0)}break}i=lc(e,t,!1),o=!1}Lc(e)}function $u(e,t,n,r,i,o,s,a,l,u,c,h,d,f){if(e.timeoutHandle=-1,8192&(h=t.subtreeFlags)||16785408===(16785408&h)){su(t,o,h={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Dt});var p=(62914560&o)===o?Ru-le():(4194048&o)===o?Fu-le():0;if(p=function(e,t){return e.stylesheets&&0===e.count&&ud(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&ud(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&0===sd&&(sd=62500*function(){if("function"===typeof performance.getEntriesByType){for(var e=0,t=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var i=n[r],o=i.transferSize,s=i.initiatorType,a=i.duration;if(o&&a&&ph(s)){for(s=0,a=i.responseEnd,r+=1;r<n.length;r++){var l=n[r],u=l.startTime;if(u>a)break;var c=l.transferSize,h=l.initiatorType;c&&ph(h)&&(s+=c*((l=l.responseEnd)<a?1:(a-u)/(l-u)))}if(--r,t+=8*(o+s)/(i.duration/1e3),10<++e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,"number"===typeof e)?e:5}());var i=setTimeout(function(){if(e.waitingForImages=!1,0===e.count&&(e.stylesheets&&ud(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>sd?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(i)}}:null}(h,p),null!==p)return zu=o,e.cancelPendingCommit=p(gc.bind(null,e,t,o,n,r,i,s,a,l,c,h,null,d,f)),void Zu(e,o,s,!u)}gc(e,t,o,n,r,i,s,a,l)}function Ju(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Jn(o(),i))return!1}catch(s){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Zu(e,t,n,r){t&=~Cu,t&=~_u,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var o=31-we(i),s=1<<o;r[o]=-1,i&=~s}0!==n&&Re(e,n,t)}function ec(){return 0!==(6&pu)||(Mc(0,!1),!1)}function tc(){if(null!==gu){if(0===vu)var e=gu.return;else ki=Ti=null,ls(e=gu),lo=null,uo=0,e=gu;for(;null!==e;)gl(e.alternate,e),e=e.return;gu=null}}function nc(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,xh(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),zu=0,tc(),mu=e,gu=n=Ur(e.current,null),yu=t,vu=0,bu=null,wu=!1,Su=Ie(e,t),Eu=!1,Au=Iu=Cu=_u=ku=Tu=0,Nu=Pu=null,Du=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-we(r),o=1<<i;t|=e[i],r&=~o}return xu=t,Pr(),n}function rc(e,t){qo=null,F.H=ga,t===Ji||t===eo?(t=so(),vu=3):t===Zi?(t=so(),vu=4):vu=t===Ra?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,bu=t,null===gu&&(Tu=1,Ia(e,Yr(t,e.current)))}function ic(){var e=Fo.current;return null===e||((4194048&yu)===yu?null===Oo:((62914560&yu)===yu||0!==(536870912&yu))&&e===Oo)}function oc(){var e=F.H;return F.H=ga,null===e?ga:e}function sc(){var e=F.A;return F.A=du,e}function ac(){Tu=4,wu||(4194048&yu)!==yu&&null!==Fo.current||(Su=!0),0===(134217727&ku)&&0===(134217727&_u)||null===mu||Zu(mu,yu,Iu,!1)}function lc(e,t,n){var r=pu;pu|=2;var i=oc(),o=sc();mu===e&&yu===t||(Lu=null,nc(e,t)),t=!1;var s=Tu;e:for(;;)try{if(0!==vu&&null!==gu){var a=gu,l=bu;switch(vu){case 8:tc(),s=6;break e;case 3:case 2:case 9:case 6:null===Fo.current&&(t=!0);var u=vu;if(vu=0,bu=null,fc(e,a,l,u),n&&Su){s=0;break e}break;default:u=vu,vu=0,bu=null,fc(e,a,l,u)}}uc(),s=Tu;break}catch(c){rc(e,c)}return t&&e.shellSuspendCounter++,ki=Ti=null,pu=r,F.H=i,F.A=o,null===gu&&(mu=null,yu=0,Pr()),s}function uc(){for(;null!==gu;)hc(gu)}function cc(){for(;null!==gu&&!se();)hc(gu)}function hc(e){var t=al(e.alternate,e,xu);e.memoizedProps=e.pendingProps,null===t?pc(e):gu=t}function dc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Ka(n,t,t.pendingProps,t.type,void 0,yu);break;case 11:t=Ka(n,t,t.pendingProps,t.type.render,t.ref,yu);break;case 5:ls(t);default:gl(n,t),t=al(n,t=gu=zr(t,xu),xu)}e.memoizedProps=e.pendingProps,null===t?pc(e):gu=t}function fc(e,t,n,r){ki=Ti=null,ls(t),lo=null,uo=0;var i=t.return;try{if(function(e,t,n,r,i){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&Pi(t,n,i,!0),null!==(n=Fo.current)){switch(n.tag){case 31:case 13:return null===Oo?ac():null===n.alternate&&0===Tu&&(Tu=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===to?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),kc(e,r,i)),!1;case 22:return n.flags|=65536,r===to?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),kc(e,r,i)),!1}throw Error(s(435,n.tag))}return kc(e,r,i),ac(),!1}if(di)return null!==(t=Fo.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==mi&&Ei(Yr(e=Error(s(422),{cause:r}),n))):(r!==mi&&Ei(Yr(t=Error(s(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,r=Yr(r,n),xo(e,i=Pa(e.stateNode,r,i)),4!==Tu&&(Tu=2)),!1;var o=Error(s(520),{cause:r});if(o=Yr(o,n),null===Pu?Pu=[o]:Pu.push(o),4!==Tu&&(Tu=2),null===t)return!0;r=Yr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,xo(n,e=Pa(n.stateNode,r,e)),!1;case 1:if(t=n.type,o=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==o&&"function"===typeof o.componentDidCatch&&(null===Mu||!Mu.has(o))))return n.flags|=65536,i&=-i,n.lanes|=i,Da(i=Na(i),e,n,r),xo(n,i),!1}n=n.return}while(null!==n);return!1}(e,i,t,n,yu))return Tu=1,Ia(e,Yr(n,e.current)),void(gu=null)}catch(o){if(null!==i)throw gu=i,o;return Tu=1,Ia(e,Yr(n,e.current)),void(gu=null)}32768&t.flags?(di||1===r?e=!0:Su||0!==(536870912&yu)?e=!1:(wu=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=Fo.current)&&13===r.tag&&(r.flags|=16384))),mc(t,e)):pc(t)}function pc(e){var t=e;do{if(0!==(32768&t.flags))return void mc(t,wu);e=t.return;var n=pl(t.alternate,t,xu);if(null!==n)return void(gu=n);if(null!==(t=t.sibling))return void(gu=t);gu=t=e}while(null!==t);0===Tu&&(Tu=5)}function mc(e,t){do{var n=ml(e.alternate,e);if(null!==n)return n.flags&=32767,void(gu=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(gu=e);gu=e=n}while(null!==e);Tu=6,gu=null}function gc(e,t,n,r,i,o,a,l,u){e.cancelPendingCommit=null;do{Sc()}while(0!==Vu);if(0!==(6&pu))throw Error(s(327));if(null!==t){if(t===e.current)throw Error(s(177));if(o=t.lanes|t.childLanes,function(e,t,n,r,i,o){var s=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var a=e.entanglements,l=e.expirationTimes,u=e.hiddenUpdates;for(n=s&~n;0<n;){var c=31-we(n),h=1<<c;a[c]=0,l[c]=-1;var d=u[c];if(null!==d)for(u[c]=null,c=0;c<d.length;c++){var f=d[c];null!==f&&(f.lane&=-536870913)}n&=~h}0!==r&&Re(e,r,0),0!==o&&0===i&&0!==e.tag&&(e.suspendedLanes|=o&~(s&~t))}(e,n,o|=Ar,a,l,u),e===mu&&(gu=mu=null,yu=0),Uu=t,ju=e,zu=n,Bu=o,Hu=i,qu=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,ie(de,function(){return Ec(),null})):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=F.T,F.T=null,i=O.p,O.p=2,a=pu,pu|=4;try{!function(e,t){if(e=e.containerInfo,mh=wd,ir(e=rr(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(g){n=null;break e}var a=0,l=-1,u=-1,c=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(l=a+i),d!==o||0!==r&&3!==d.nodeType||(u=a+r),3===d.nodeType&&(a+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++c===i&&(l=a),f===o&&++h===r&&(u=a),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(gh={focusedElem:e,selectionRange:n},wd=!1,Fl=t;null!==Fl;)if(e=(t=Fl).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Fl=e;else for(;null!==Fl;){switch(o=(t=Fl).alternate,e=t.flags,t.tag){case 0:if(0!==(4&e)&&null!==(e=null!==(e=t.updateQueue)?e.events:null))for(n=0;n<e.length;n++)(i=e[n]).ref.impl=i.nextImpl;break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==o){e=void 0,n=t,i=o.memoizedProps,o=o.memoizedState,r=n.stateNode;try{var m=Ta(n.type,i);e=r.getSnapshotBeforeUpdate(m,o),r.__reactInternalSnapshotBeforeUpdate=e}catch(y){Tc(n,n.return,y)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))Ph(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ph(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(s(163))}if(null!==(e=t.sibling)){e.return=t.return,Fl=e;break}Fl=t.return}}(e,t)}finally{pu=a,O.p=i,F.T=r}}Vu=1,yc(),vc(),bc()}}function yc(){if(1===Vu){Vu=0;var e=ju,t=Uu,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=F.T,F.T=null;var r=O.p;O.p=2;var i=pu;pu|=4;try{Kl(t,e);var o=gh,s=rr(e.containerInfo),a=o.focusedElem,l=o.selectionRange;if(s!==a&&a&&a.ownerDocument&&nr(a.ownerDocument.documentElement,a)){if(null!==l&&ir(a)){var u=l.start,c=l.end;if(void 0===c&&(c=u),"selectionStart"in a)a.selectionStart=u,a.selectionEnd=Math.min(c,a.value.length);else{var h=a.ownerDocument||document,d=h&&h.defaultView||window;if(d.getSelection){var f=d.getSelection(),p=a.textContent.length,m=Math.min(l.start,p),g=void 0===l.end?m:Math.min(l.end,p);!f.extend&&m>g&&(s=g,g=m,m=s);var y=tr(a,m),v=tr(a,g);if(y&&v&&(1!==f.rangeCount||f.anchorNode!==y.node||f.anchorOffset!==y.offset||f.focusNode!==v.node||f.focusOffset!==v.offset)){var b=h.createRange();b.setStart(y.node,y.offset),f.removeAllRanges(),m>g?(f.addRange(b),f.extend(v.node,v.offset)):(b.setEnd(v.node,v.offset),f.addRange(b))}}}}for(h=[],f=a;f=f.parentNode;)1===f.nodeType&&h.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"===typeof a.focus&&a.focus(),a=0;a<h.length;a++){var w=h[a];w.element.scrollLeft=w.left,w.element.scrollTop=w.top}}wd=!!mh,gh=mh=null}finally{pu=i,O.p=r,F.T=n}}e.current=t,Vu=2}}function vc(){if(2===Vu){Vu=0;var e=ju,t=Uu,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=F.T,F.T=null;var r=O.p;O.p=2;var i=pu;pu|=4;try{Ol(e,t.alternate,t)}finally{pu=i,O.p=r,F.T=n}}Vu=3}}function bc(){if(4===Vu||3===Vu){Vu=0,ae();var e=ju,t=Uu,n=zu,r=qu;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Vu=5:(Vu=0,Uu=ju=null,wc(e,e.pendingLanes));var i=e.pendingLanes;if(0===i&&(Mu=null),Me(n),t=t.stateNode,ve&&"function"===typeof ve.onCommitFiberRoot)try{ve.onCommitFiberRoot(ye,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==r){t=F.T,i=O.p,O.p=2,F.T=null;try{for(var o=e.onRecoverableError,s=0;s<r.length;s++){var a=r[s];o(a.value,{componentStack:a.stack})}}finally{F.T=t,O.p=i}}0!==(3&zu)&&Sc(),Lc(e),i=e.pendingLanes,0!==(261930&n)&&0!==(42&i)?e===Ku?Wu++:(Wu=0,Ku=e):Wu=0,Mc(0,!1)}}function wc(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,zi(t)))}function Sc(){return yc(),vc(),bc(),Ec()}function Ec(){if(5!==Vu)return!1;var e=ju,t=Bu;Bu=0;var n=Me(zu),r=F.T,i=O.p;try{O.p=32>n?32:n,F.T=null,n=Hu,Hu=null;var o=ju,a=zu;if(Vu=0,Uu=ju=null,zu=0,0!==(6&pu))throw Error(s(331));var l=pu;if(pu|=4,uu(o.current),tu(o,o.current,a,n),pu=l,Mc(0,!1),ve&&"function"===typeof ve.onPostCommitFiberRoot)try{ve.onPostCommitFiberRoot(ye,o)}catch(u){}return!0}finally{O.p=i,F.T=r,wc(e,t)}}function xc(e,t,n){t=Yr(n,t),null!==(e=So(e,t=Pa(e.stateNode,t,2),2))&&(De(e,2),Lc(e))}function Tc(e,t,n){if(3===e.tag)xc(e,e,n);else for(;null!==t;){if(3===t.tag){xc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Mu||!Mu.has(r))){e=Yr(n,e),null!==(r=So(t,n=Na(2),2))&&(Da(n,r,t,e),De(r,2),Lc(r));break}}t=t.return}}function kc(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fu;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(Eu=!0,i.add(n),e=_c.bind(null,e,t,n),t.then(e,e))}function _c(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,mu===e&&(yu&n)===n&&(4===Tu||3===Tu&&(62914560&yu)===yu&&300>le()-Ru?0===(2&pu)&&nc(e,0):Cu|=n,Au===yu&&(Au=0)),Lc(e)}function Cc(e,t){0===t&&(t=Pe()),null!==(e=Rr(e,t))&&(De(e,t),Lc(e))}function Ic(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cc(e,n)}function Ac(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(s(314))}null!==r&&r.delete(t),Cc(e,n)}var Pc=null,Nc=null,Dc=!1,Rc=!1,Fc=!1,Oc=0;function Lc(e){e!==Nc&&null===e.next&&(null===Nc?Pc=Nc=e:Nc=Nc.next=e),Rc=!0,Dc||(Dc=!0,kh(function(){0!==(6&pu)?ie(ce,Vc):jc()}))}function Mc(e,t){if(!Fc&&Rc){Fc=!0;do{for(var n=!1,r=Pc;null!==r;){if(!t)if(0!==e){var i=r.pendingLanes;if(0===i)var o=0;else{var s=r.suspendedLanes,a=r.pingedLanes;o=(1<<31-we(42|e)+1)-1,o=201326741&(o&=i&~(s&~a))?201326741&o|1:o?2|o:0}0!==o&&(n=!0,Bc(r,o))}else o=yu,0===(3&(o=Ce(r,r===mu?o:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||Ie(r,o)||(n=!0,Bc(r,o));r=r.next}}while(n);Fc=!1}}function Vc(){jc()}function jc(){Rc=Dc=!1;var e=0;0!==Oc&&function(){var e=window.event;if(e&&"popstate"===e.type)return e!==Sh&&(Sh=e,!0);return Sh=null,!1}()&&(e=Oc);for(var t=le(),n=null,r=Pc;null!==r;){var i=r.next,o=Uc(r,t);0===o?(r.next=null,null===n?Pc=i:n.next=i,null===i&&(Nc=n)):(n=r,(0!==e||0!==(3&o))&&(Rc=!0)),r=i}0!==Vu&&5!==Vu||Mc(e,!1),0!==Oc&&(Oc=0)}function Uc(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=-62914561&e.pendingLanes;0<o;){var s=31-we(o),a=1<<s,l=i[s];-1===l?0!==(a&n)&&0===(a&r)||(i[s]=Ae(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}if(n=yu,n=Ce(e,e===(t=mu)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===vu||9===vu)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&oe(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||Ie(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&oe(r),Me(n)){case 2:case 8:n=he;break;case 32:default:n=de;break;case 268435456:n=pe}return r=zc.bind(null,e),n=ie(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&oe(r),e.callbackPriority=2,e.callbackNode=null,2}function zc(e,t){if(0!==Vu&&5!==Vu)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Sc()&&e.callbackNode!==n)return null;var r=yu;return 0===(r=Ce(e,e===mu?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Xu(e,r,t),Uc(e,le()),null!=e.callbackNode&&e.callbackNode===n?zc.bind(null,e):null)}function Bc(e,t){if(Sc())return null;Xu(e,t,!0)}function Hc(){if(0===Oc){var e=qi;0===e&&(e=xe,0===(261888&(xe<<=1))&&(xe=256)),Oc=e}return Oc}function qc(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Nt(""+e)}function Wc(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Kc=0;Kc<Tr.length;Kc++){var Gc=Tr[Kc];kr(Gc.toLowerCase(),"on"+(Gc[0].toUpperCase()+Gc.slice(1)))}kr(gr,"onAnimationEnd"),kr(yr,"onAnimationIteration"),kr(vr,"onAnimationStart"),kr("dblclick","onDoubleClick"),kr("focusin","onFocus"),kr("focusout","onBlur"),kr(br,"onTransitionRun"),kr(wr,"onTransitionStart"),kr(Sr,"onTransitionCancel"),kr(Er,"onTransitionEnd"),it("onMouseEnter",["mouseout","mouseover"]),it("onMouseLeave",["mouseout","mouseover"]),it("onPointerEnter",["pointerout","pointerover"]),it("onPointerLeave",["pointerout","pointerover"]),rt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rt("onBeforeInput",["compositionend","keypress","textInput","paste"]),rt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yc=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Qc));function Xc(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;o=a,i.currentTarget=u;try{o(i)}catch(c){_r(c)}i.currentTarget=null,o=l}else for(s=0;s<r.length;s++){if(l=(a=r[s]).instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;o=a,i.currentTarget=u;try{o(i)}catch(c){_r(c)}i.currentTarget=null,o=l}}}}function $c(e,t){var n=t[qe];void 0===n&&(n=t[qe]=new Set);var r=e+"__bubble";n.has(r)||(th(t,e,2,!1),n.add(r))}function Jc(e,t,n){var r=0;t&&(r|=4),th(n,e,r,t)}var Zc="_reactListening"+Math.random().toString(36).slice(2);function eh(e){if(!e[Zc]){e[Zc]=!0,tt.forEach(function(t){"selectionchange"!==t&&(Yc.has(t)||Jc(t,!1,e),Jc(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Zc]||(t[Zc]=!0,Jc("selectionchange",!1,t))}}function th(e,t,n,r){switch(Cd(t)){case 2:var i=Sd;break;case 8:i=Ed;break;default:i=xd}n=i.bind(null,t,n,e),i=void 0,!Bt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function nh(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===i)break;if(4===s)for(s=r.return;null!==s;){var u=s.tag;if((3===u||4===u)&&s.stateNode.containerInfo===i)return;s=s.return}for(;null!==a;){if(null===(s=Xe(a)))return;if(5===(u=s.tag)||6===u||26===u||27===u){r=o=s;continue e}a=a.parentNode}}r=r.return}jt(function(){var r=o,i=Ft(n),s=[];e:{var a=xr.get(e);if(void 0!==a){var u=nn,c=e;switch(e){case"keypress":if(0===Qt(n))break e;case"keydown":case"keyup":u=vn;break;case"focusin":c="focus",u=un;break;case"focusout":c="blur",u=un;break;case"beforeblur":case"afterblur":u=un;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=an;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=ln;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=wn;break;case gr:case yr:case vr:u=cn;break;case Er:u=Sn;break;case"scroll":case"scrollend":u=on;break;case"wheel":u=En;break;case"copy":case"cut":case"paste":u=hn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=bn;break;case"toggle":case"beforetoggle":u=xn}var h=0!==(4&t),d=!h&&("scroll"===e||"scrollend"===e),f=h?null!==a?a+"Capture":null:a;h=[];for(var p,m=r;null!==m;){var g=m;if(p=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===p||null===f||null!=(g=Ut(m,f))&&h.push(rh(m,g,p)),d)break;m=m.return}0<h.length&&(a=new u(a,c,null,n,i),s.push({event:a,listeners:h}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===Rt||!(c=n.relatedTarget||n.fromElement)||!Xe(c)&&!c[He])&&(u||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?Xe(c):null)&&(d=l(c),h=c.tag,c!==d||5!==h&&27!==h&&6!==h)&&(c=null)):(u=null,c=r),u!==c)){if(h=an,g="onMouseLeave",f="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(h=bn,g="onPointerLeave",f="onPointerEnter",m="pointer"),d=null==u?a:Je(u),p=null==c?a:Je(c),(a=new h(g,m+"leave",u,n,i)).target=d,a.relatedTarget=p,g=null,Xe(i)===r&&((h=new h(f,m+"enter",c,n,i)).target=p,h.relatedTarget=d,g=h),d=g,u&&c)e:{for(h=oh,m=c,p=0,g=f=u;g;g=h(g))p++;g=0;for(var y=m;y;y=h(y))g++;for(;0<p-g;)f=h(f),p--;for(;0<g-p;)m=h(m),g--;for(;p--;){if(f===m||null!==m&&f===m.alternate){h=f;break e}f=h(f),m=h(m)}h=null}else h=null;null!==u&&sh(s,a,u,h,!1),null!==c&&null!==d&&sh(s,d,c,h,!0)}if("select"===(u=(a=r?Je(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===u&&"file"===a.type)var v=zn;else if(On(a))if(Bn)v=$n;else{v=Yn;var b=Qn}else!(u=a.nodeName)||"input"!==u.toLowerCase()||"checkbox"!==a.type&&"radio"!==a.type?r&&It(r.elementType)&&(v=zn):v=Xn;switch(v&&(v=v(e,r))?Ln(s,v,n,i):(b&&b(e,a,r),"focusout"===e&&r&&"number"===a.type&&null!=r.memoizedProps.value&&wt(a,"number",a.value)),b=r?Je(r):window,e){case"focusin":(On(b)||"true"===b.contentEditable)&&(sr=b,ar=r,lr=null);break;case"focusout":lr=ar=sr=null;break;case"mousedown":ur=!0;break;case"contextmenu":case"mouseup":case"dragend":ur=!1,cr(s,n,i);break;case"selectionchange":if(or)break;case"keydown":case"keyup":cr(s,n,i)}var w;if(kn)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Rn?Nn(e,n)&&(S="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(S="onCompositionStart");S&&(In&&"ko"!==n.locale&&(Rn||"onCompositionStart"!==S?"onCompositionEnd"===S&&Rn&&(w=Gt()):(Wt="value"in(qt=i)?qt.value:qt.textContent,Rn=!0)),0<(b=ih(r,S)).length&&(S=new dn(S,e,null,n,i),s.push({event:S,listeners:b}),w?S.data=w:null!==(w=Dn(n))&&(S.data=w))),(w=Cn?function(e,t){switch(e){case"compositionend":return Dn(t);case"keypress":return 32!==t.which?null:(Pn=!0,An);case"textInput":return(e=t.data)===An&&Pn?null:e;default:return null}}(e,n):function(e,t){if(Rn)return"compositionend"===e||!kn&&Nn(e,t)?(e=Gt(),Kt=Wt=qt=null,Rn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return In&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(S=ih(r,"onBeforeInput")).length&&(b=new dn("onBeforeInput","beforeinput",null,n,i),s.push({event:b,listeners:S}),b.data=w)),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var o=qc((i[Be]||null).action),s=r.submitter;s&&null!==(t=(t=s[Be]||null)?qc(t.formAction):s.getAttribute("formAction"))&&(o=t,s=null);var a=new nn("action","action",null,r,i);e.push({event:a,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==Oc){var e=s?Wc(i,s):new FormData(i);na(n,{pending:!0,data:e,method:i.method,action:o},null,e)}}else"function"===typeof o&&(a.preventDefault(),e=s?Wc(i,s):new FormData(i),na(n,{pending:!0,data:e,method:i.method,action:o},o,e))},currentTarget:i}]})}}(s,e,r,n,i)}Xc(s,t)})}function rh(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ih(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;if(5!==(i=i.tag)&&26!==i&&27!==i||null===o||(null!=(i=Ut(e,n))&&r.unshift(rh(e,i,o)),null!=(i=Ut(e,t))&&r.push(rh(e,i,o))),3===e.tag)return r;e=e.return}return[]}function oh(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function sh(e,t,n,r,i){for(var o=t._reactName,s=[];null!==n&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(a=a.tag,null!==l&&l===r)break;5!==a&&26!==a&&27!==a||null===u||(l=u,i?null!=(u=Ut(n,o))&&s.unshift(rh(n,u,l)):i||null!=(u=Ut(n,o))&&s.push(rh(n,u,l))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var ah=/\r\n?/g,lh=/\u0000|\uFFFD/g;function uh(e){return("string"===typeof e?e:""+e).replace(ah,"\n").replace(lh,"")}function ch(e,t){return t=uh(t),uh(e)===t}function hh(e,t,n,r,i,o){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||Tt(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&Tt(e,""+r);break;case"className":ut(e,"class",r);break;case"tabIndex":ut(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":ut(e,n,r);break;case"style":Ct(e,r,o);break;case"data":if("object"!==t){ut(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Nt(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof o&&("formAction"===n?("input"!==t&&hh(e,t,"name",i.name,i,null),hh(e,t,"formEncType",i.formEncType,i,null),hh(e,t,"formMethod",i.formMethod,i,null),hh(e,t,"formTarget",i.formTarget,i,null)):(hh(e,t,"encType",i.encType,i,null),hh(e,t,"method",i.method,i,null),hh(e,t,"target",i.target,i,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Nt(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Dt);break;case"onScroll":null!=r&&$c("scroll",e);break;case"onScrollEnd":null!=r&&$c("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(s(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(s(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=Nt(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":$c("beforetoggle",e),$c("toggle",e),lt(e,"popover",r);break;case"xlinkActuate":ct(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":ct(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":ct(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":ct(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":ct(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":ct(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":ct(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":ct(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":ct(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":lt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&lt(e,n=At.get(n)||n,r)}}function dh(e,t,n,r,i,o){switch(n){case"style":Ct(e,r,o);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(s(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(s(60));e.innerHTML=n}}break;case"children":"string"===typeof r?Tt(e,r):("number"===typeof r||"bigint"===typeof r)&&Tt(e,""+r);break;case"onScroll":null!=r&&$c("scroll",e);break;case"onScrollEnd":null!=r&&$c("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Dt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:nt.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),"function"===typeof(o=null!=(o=e[Be]||null)?o[n]:null)&&e.removeEventListener(t,o,i),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):lt(e,n,r):("function"!==typeof o&&null!==o&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i)))}}function fh(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":$c("error",e),$c("load",e);var r,i=!1,o=!1;for(r in n)if(n.hasOwnProperty(r)){var a=n[r];if(null!=a)switch(r){case"src":i=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:hh(e,t,r,a,n,null)}}return o&&hh(e,t,"srcSet",n.srcSet,n,null),void(i&&hh(e,t,"src",n.src,n,null));case"input":$c("invalid",e);var l=r=a=o=null,u=null,c=null;for(i in n)if(n.hasOwnProperty(i)){var h=n[i];if(null!=h)switch(i){case"name":o=h;break;case"type":a=h;break;case"checked":u=h;break;case"defaultChecked":c=h;break;case"value":r=h;break;case"defaultValue":l=h;break;case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(s(137,t));break;default:hh(e,t,i,h,n,null)}}return void bt(e,r,l,u,c,a,o,!1);case"select":for(o in $c("invalid",e),i=a=r=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":r=l;break;case"defaultValue":a=l;break;case"multiple":i=l;default:hh(e,t,o,l,n,null)}return t=r,n=a,e.multiple=!!i,void(null!=t?St(e,!!i,t,!1):null!=n&&St(e,!!i,n,!0));case"textarea":for(a in $c("invalid",e),r=o=i=null,n)if(n.hasOwnProperty(a)&&null!=(l=n[a]))switch(a){case"value":i=l;break;case"defaultValue":o=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(s(91));break;default:hh(e,t,a,l,n,null)}return void xt(e,i,o,r);case"option":for(u in n)if(n.hasOwnProperty(u)&&null!=(i=n[u]))if("selected"===u)e.selected=i&&"function"!==typeof i&&"symbol"!==typeof i;else hh(e,t,u,i,n,null);return;case"dialog":$c("beforetoggle",e),$c("toggle",e),$c("cancel",e),$c("close",e);break;case"iframe":case"object":$c("load",e);break;case"video":case"audio":for(i=0;i<Qc.length;i++)$c(Qc[i],e);break;case"image":$c("error",e),$c("load",e);break;case"details":$c("toggle",e);break;case"embed":case"source":case"link":$c("error",e),$c("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&null!=(i=n[c]))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:hh(e,t,c,i,n,null)}return;default:if(It(t)){for(h in n)n.hasOwnProperty(h)&&(void 0!==(i=n[h])&&dh(e,t,h,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(i=n[l])&&hh(e,t,l,i,n,null))}function ph(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var mh=null,gh=null;function yh(e){return 9===e.nodeType?e:e.ownerDocument}function vh(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function bh(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function wh(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Sh=null;var Eh="function"===typeof setTimeout?setTimeout:void 0,xh="function"===typeof clearTimeout?clearTimeout:void 0,Th="function"===typeof Promise?Promise:void 0,kh="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof Th?function(e){return Th.resolve(null).then(e).catch(_h)}:Eh;function _h(e){setTimeout(function(){throw e})}function Ch(e){return"head"===e}function Ih(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)||"/&"===n){if(0===r)return e.removeChild(i),void Wd(t);r--}else if("$"===n||"$?"===n||"$~"===n||"$!"===n||"&"===n)r++;else if("html"===n)jh(e.ownerDocument.documentElement);else if("head"===n){jh(n=e.ownerDocument.head);for(var o=n.firstChild;o;){var s=o.nextSibling,a=o.nodeName;o[Qe]||"SCRIPT"===a||"STYLE"===a||"LINK"===a&&"stylesheet"===o.rel.toLowerCase()||n.removeChild(o),o=s}}else"body"===n&&jh(e.ownerDocument.body);n=i}while(n);Wd(t)}function Ah(e,t){var n=e;e=0;do{var r=n.nextSibling;if(1===n.nodeType?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",""===n.getAttribute("style")&&n.removeAttribute("style")):3===n.nodeType&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===e)break;e--}else"$"!==n&&"$?"!==n&&"$~"!==n&&"$!"!==n||e++;n=r}while(n)}function Ph(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Ph(n),Ye(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function Nh(e,t){for(;8!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!t)return null;if(null===(e=Fh(e.nextSibling)))return null}return e}function Dh(e){return"$?"===e.data||"$~"===e.data}function Rh(e){return"$!"===e.data||"$?"===e.data&&"loading"!==e.ownerDocument.readyState}function Fh(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"$~"===t||"&"===t||"F!"===t||"F"===t)break;if("/$"===t||"/&"===t)return null}}return e}var Oh=null;function Lh(e){e=e.nextSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n||"/&"===n){if(0===t)return Fh(e.nextSibling);t--}else"$"!==n&&"$!"!==n&&"$?"!==n&&"$~"!==n&&"&"!==n||t++}e=e.nextSibling}return null}function Mh(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n||"$~"===n||"&"===n){if(0===t)return e;t--}else"/$"!==n&&"/&"!==n||t++}e=e.previousSibling}return null}function Vh(e,t,n){switch(t=yh(n),e){case"html":if(!(e=t.documentElement))throw Error(s(452));return e;case"head":if(!(e=t.head))throw Error(s(453));return e;case"body":if(!(e=t.body))throw Error(s(454));return e;default:throw Error(s(451))}}function jh(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ye(e)}var Uh=new Map,zh=new Set;function Bh(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Hh=O.d;O.d={f:function(){var e=Hh.f(),t=ec();return e||t},r:function(e){var t=$e(e);null!==t&&5===t.tag&&"form"===t.type?ia(t):Hh.r(e)},D:function(e){Hh.D(e),Wh("dns-prefetch",e,null)},C:function(e,t){Hh.C(e,t),Wh("preconnect",e,t)},L:function(e,t,n){Hh.L(e,t,n);var r=qh;if(r&&e&&t){var i='link[rel="preload"][as="'+yt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+yt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(i+='[imagesizes="'+yt(n.imageSizes)+'"]')):i+='[href="'+yt(e)+'"]';var o=i;switch(t){case"style":o=Gh(e);break;case"script":o=Xh(e)}Uh.has(o)||(e=f({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Uh.set(o,e),null!==r.querySelector(i)||"style"===t&&r.querySelector(Qh(o))||"script"===t&&r.querySelector($h(o))||(fh(t=r.createElement("link"),"link",e),et(t),r.head.appendChild(t)))}},m:function(e,t){Hh.m(e,t);var n=qh;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+yt(r)+'"][href="'+yt(e)+'"]',o=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=Xh(e)}if(!Uh.has(o)&&(e=f({rel:"modulepreload",href:e},t),Uh.set(o,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector($h(o)))return}fh(r=n.createElement("link"),"link",e),et(r),n.head.appendChild(r)}}},X:function(e,t){Hh.X(e,t);var n=qh;if(n&&e){var r=Ze(n).hoistableScripts,i=Xh(e),o=r.get(i);o||((o=n.querySelector($h(i)))||(e=f({src:e,async:!0},t),(t=Uh.get(i))&&td(e,t),et(o=n.createElement("script")),fh(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(i,o))}},S:function(e,t,n){Hh.S(e,t,n);var r=qh;if(r&&e){var i=Ze(r).hoistableStyles,o=Gh(e);t=t||"default";var s=i.get(o);if(!s){var a={loading:0,preload:null};if(s=r.querySelector(Qh(o)))a.loading=5;else{e=f({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Uh.get(o))&&ed(e,n);var l=s=r.createElement("link");et(l),fh(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){a.loading|=1}),l.addEventListener("error",function(){a.loading|=2}),a.loading|=4,Zh(s,t,r)}s={type:"stylesheet",instance:s,count:1,state:a},i.set(o,s)}}},M:function(e,t){Hh.M(e,t);var n=qh;if(n&&e){var r=Ze(n).hoistableScripts,i=Xh(e),o=r.get(i);o||((o=n.querySelector($h(i)))||(e=f({src:e,async:!0,type:"module"},t),(t=Uh.get(i))&&td(e,t),et(o=n.createElement("script")),fh(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(i,o))}}};var qh="undefined"===typeof document?null:document;function Wh(e,t,n){var r=qh;if(r&&"string"===typeof t&&t){var i=yt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"===typeof n&&(i+='[crossorigin="'+n+'"]'),zh.has(i)||(zh.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(fh(t=r.createElement("link"),"link",e),et(t),r.head.appendChild(t)))}}function Kh(e,t,n,r){var i,o,a,l,u=(u=K.current)?Bh(u):null;if(!u)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Gh(n.href),(r=(n=Ze(u).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Gh(n.href);var c=Ze(u).hoistableStyles,h=c.get(e);if(h||(u=u.ownerDocument||u,h={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,h),(c=u.querySelector(Qh(e)))&&!c._p&&(h.instance=c,h.state.loading=5),Uh.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Uh.set(e,n),c||(i=u,o=e,a=n,l=h.state,i.querySelector('link[rel="preload"][as="style"]['+o+"]")?l.loading=1:(o=i.createElement("link"),l.preload=o,o.addEventListener("load",function(){return l.loading|=1}),o.addEventListener("error",function(){return l.loading|=2}),fh(o,"link",a),et(o),i.head.appendChild(o))))),t&&null===r)throw Error(s(528,""));return h}if(t&&null!==r)throw Error(s(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Xh(n),(r=(n=Ze(u).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Gh(e){return'href="'+yt(e)+'"'}function Qh(e){return'link[rel="stylesheet"]['+e+"]"}function Yh(e){return f({},e,{"data-precedence":e.precedence,precedence:null})}function Xh(e){return'[src="'+yt(e)+'"]'}function $h(e){return"script[async]"+e}function Jh(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+yt(n.href)+'"]');if(r)return t.instance=r,et(r),r;var i=f({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return et(r=(e.ownerDocument||e).createElement("style")),fh(r,"style",i),Zh(r,n.precedence,e),t.instance=r;case"stylesheet":i=Gh(n.href);var o=e.querySelector(Qh(i));if(o)return t.state.loading|=4,t.instance=o,et(o),o;r=Yh(n),(i=Uh.get(i))&&ed(r,i),et(o=(e.ownerDocument||e).createElement("link"));var a=o;return a._p=new Promise(function(e,t){a.onload=e,a.onerror=t}),fh(o,"link",r),t.state.loading|=4,Zh(o,n.precedence,e),t.instance=o;case"script":return o=Xh(n.src),(i=e.querySelector($h(o)))?(t.instance=i,et(i),i):(r=n,(i=Uh.get(o))&&td(r=f({},n),i),et(i=(e=e.ownerDocument||e).createElement("script")),fh(i,"link",r),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(s(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Zh(r,n.precedence,e));return t.instance}function Zh(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,o=i,s=0;s<r.length;s++){var a=r[s];if(a.dataset.precedence===t)o=a;else if(o!==i)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function ed(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function td(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var nd=null;function rd(e,t,n){if(null===nd){var r=new Map,i=nd=new Map;i.set(n,r)}else(r=(i=nd).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var o=n[i];if(!(o[Qe]||o[ze]||"link"===e&&"stylesheet"===o.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==o.namespaceURI){var s=o.getAttribute(t)||"";s=e+s;var a=r.get(s);a?a.push(o):r.set(s,[o])}}return r}function id(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function od(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var sd=0;function ad(){if(this.count--,0===this.count&&(0===this.imgCount||!this.waitingForImages))if(this.stylesheets)ud(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var ld=null;function ud(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,ld=new Map,t.forEach(cd,e),ld=null,ad.call(e))}function cd(e,t){if(!(4&t.state.loading)){var n=ld.get(e);if(n)var r=n.get(null);else{n=new Map,ld.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<i.length;o++){var s=i[o];"LINK"!==s.nodeName&&"not all"===s.getAttribute("media")||(n.set(s.dataset.precedence,s),r=s)}r&&n.set(null,r)}s=(i=t.instance).getAttribute("data-precedence"),(o=n.get(s)||r)===r&&n.set(null,i),n.set(s,i),this.count++,r=ad.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),o?o.parentNode.insertBefore(i,o.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var hd={$$typeof:S,Provider:null,Consumer:null,_currentValue:L,_currentValue2:L,_threadCount:0};function dd(e,t,n,r,i,o,s,a,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ne(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ne(0),this.hiddenUpdates=Ne(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=o,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function fd(e,t,n,r,i,o,s,a,l,u,c,h){return e=new dd(e,t,n,s,l,u,c,h,a),t=1,!0===o&&(t|=24),o=Vr(3,null,null,t),e.current=o,o.stateNode=e,(t=Ui()).refCount++,e.pooledCache=t,t.refCount++,o.memoizedState={element:r,isDehydrated:n,cache:t},vo(o),e}function pd(e){return e?e=Lr:Lr}function md(e,t,n,r,i,o){i=pd(i),null===r.context?r.context=i:r.pendingContext=i,(r=wo(t)).payload={element:n},null!==(o=void 0===o?null:o)&&(r.callback=o),null!==(n=So(e,r,t))&&(Yu(n,0,t),Eo(n,e,t))}function gd(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function yd(e,t){gd(e,t),(e=e.alternate)&&gd(e,t)}function vd(e){if(13===e.tag||31===e.tag){var t=Rr(e,67108864);null!==t&&Yu(t,0,67108864),yd(e,67108864)}}function bd(e){if(13===e.tag||31===e.tag){var t=Gu(),n=Rr(e,t=Le(t));null!==n&&Yu(n,0,t),yd(e,t)}}var wd=!0;function Sd(e,t,n,r){var i=F.T;F.T=null;var o=O.p;try{O.p=2,xd(e,t,n,r)}finally{O.p=o,F.T=i}}function Ed(e,t,n,r){var i=F.T;F.T=null;var o=O.p;try{O.p=8,xd(e,t,n,r)}finally{O.p=o,F.T=i}}function xd(e,t,n,r){if(wd){var i=Td(r);if(null===i)nh(e,t,r,kd,n),Ld(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ad=Md(Ad,e,t,n,r,i),!0;case"dragenter":return Pd=Md(Pd,e,t,n,r,i),!0;case"mouseover":return Nd=Md(Nd,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Dd.set(o,Md(Dd.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Rd.set(o,Md(Rd.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Ld(e,r),4&t&&-1<Od.indexOf(e)){for(;null!==i;){var o=$e(i);if(null!==o)switch(o.tag){case 3:if((o=o.stateNode).current.memoizedState.isDehydrated){var s=_e(o.pendingLanes);if(0!==s){var a=o;for(a.pendingLanes|=2,a.entangledLanes|=2;s;){var l=1<<31-we(s);a.entanglements[1]|=l,s&=~l}Lc(o),0===(6&pu)&&(Ou=le()+500,Mc(0,!1))}}break;case 31:case 13:null!==(a=Rr(o,2))&&Yu(a,0,2),ec(),yd(o,2)}if(null===(o=Td(r))&&nh(e,t,r,kd,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else nh(e,t,r,null,n)}}function Td(e){return _d(e=Ft(e))}var kd=null;function _d(e){if(kd=null,null!==(e=Xe(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=u(t)))return e;e=null}else if(31===n){if(null!==(e=c(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return kd=e,null}function Cd(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ue()){case ce:return 2;case he:return 8;case de:case fe:return 32;case pe:return 268435456;default:return 32}default:return 32}}var Id=!1,Ad=null,Pd=null,Nd=null,Dd=new Map,Rd=new Map,Fd=[],Od="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ld(e,t){switch(e){case"focusin":case"focusout":Ad=null;break;case"dragenter":case"dragleave":Pd=null;break;case"mouseover":case"mouseout":Nd=null;break;case"pointerover":case"pointerout":Dd.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rd.delete(t.pointerId)}}function Md(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=$e(t))&&vd(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Vd(e){var t=Xe(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=u(n)))return e.blockedOn=t,void je(e.priority,function(){bd(n)})}else if(31===t){if(null!==(t=c(n)))return e.blockedOn=t,void je(e.priority,function(){bd(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jd(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Td(e.nativeEvent);if(null!==n)return null!==(t=$e(n))&&vd(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Rt=r,n.target.dispatchEvent(r),Rt=null,t.shift()}return!0}function Ud(e,t,n){jd(e)&&n.delete(t)}function zd(){Id=!1,null!==Ad&&jd(Ad)&&(Ad=null),null!==Pd&&jd(Pd)&&(Pd=null),null!==Nd&&jd(Nd)&&(Nd=null),Dd.forEach(Ud),Rd.forEach(Ud)}function Bd(e,t){e.blockedOn===t&&(e.blockedOn=null,Id||(Id=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,zd)))}var Hd=null;function qd(e){Hd!==e&&(Hd=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Hd===e&&(Hd=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if("function"!==typeof r){if(null===_d(r||n))continue;break}var o=$e(n);null!==o&&(e.splice(t,3),t-=3,na(o,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Wd(e){function t(t){return Bd(t,e)}null!==Ad&&Bd(Ad,e),null!==Pd&&Bd(Pd,e),null!==Nd&&Bd(Nd,e),Dd.forEach(t),Rd.forEach(t);for(var n=0;n<Fd.length;n++){var r=Fd[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Fd.length&&null===(n=Fd[0]).blockedOn;)Vd(n),null===n.blockedOn&&Fd.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],o=n[r+1],s=i[Be]||null;if("function"===typeof o)s||qd(n);else if(s){var a=null;if(o&&o.hasAttribute("formAction")){if(i=o,s=o[Be]||null)a=s.formAction;else if(null!==_d(i))continue}else a=s.action;"function"===typeof a?n[r+1]=a:(n.splice(r,3),r-=3),qd(n)}}}function Kd(){function e(e){e.canIntercept&&"react-transition"===e.info&&e.intercept({handler:function(){return new Promise(function(e){return i=e})},focusReset:"manual",scroll:"manual"})}function t(){null!==i&&(i(),i=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var e=navigation.currentEntry;e&&null!=e.url&&navigation.navigate(e.url,{state:e.getState(),info:"react-transition",history:"replace"})}}if("object"===typeof navigation){var r=!1,i=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),null!==i&&(i(),i=null)}}}function Gd(e){this._internalRoot=e}function Qd(e){this._internalRoot=e}Qd.prototype.render=Gd.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));md(t.current,Gu(),e,t,null,null)},Qd.prototype.unmount=Gd.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;md(e.current,2,null,e,null,null),ec(),t[He]=null}},Qd.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ve();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Fd.length&&0!==t&&t<Fd[n].priority;n++);Fd.splice(n,0,e),0===n&&Vd(e)}};var Yd=i.version;if("19.2.0"!==Yd)throw Error(s(527,Yd,"19.2.0"));O.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return h(i),e;if(o===r)return h(i),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,u=i.child;u;){if(u===n){a=!0,n=i,r=o;break}if(u===r){a=!0,r=i,n=o;break}u=u.sibling}if(!a){for(u=o.child;u;){if(u===n){a=!0,n=o,r=i;break}if(u===r){a=!0,r=o,n=i;break}u=u.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?d(e):null)?null:e.stateNode};var Xd={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var $d=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$d.isDisabled&&$d.supportsFiber)try{ye=$d.inject(Xd),ve=$d}catch(Zd){}}t.createRoot=function(e,t){if(!a(e))throw Error(s(299));var n=!1,r="",i=ka,o=_a,l=Ca;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(i=t.onUncaughtError),void 0!==t.onCaughtError&&(o=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError)),t=fd(e,1,!1,null,0,n,r,null,i,o,l,Kd),e[He]=t.current,eh(e),new Gd(t)},t.hydrateRoot=function(e,t,n){if(!a(e))throw Error(s(299));var r=!1,i="",o=ka,l=_a,u=Ca,c=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onUncaughtError&&(o=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(u=n.onRecoverableError),void 0!==n.formState&&(c=n.formState)),(t=fd(e,1,!0,t,0,r,i,c,o,l,u,Kd)).context=pd(null),n=t.current,(i=wo(r=Le(r=Gu()))).callback=null,So(n,i,r),n=r,t.current.lanes=n,De(t,n),Lc(t),e[He]=t.current,eh(e),new Qd(t)},t.version="19.2.0"},43:(e,t,n)=>{e.exports=n(288)},288:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.for("react.activity"),p=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,y={};function v(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||m}function b(){}function w(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||m}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=v.prototype;var S=w.prototype=new b;S.constructor=w,g(S,v.prototype),S.isPureReactComponent=!0;var E=Array.isArray;function x(){}var T={H:null,A:null,T:null,S:null},k=Object.prototype.hasOwnProperty;function _(e,t,r){var i=r.ref;return{$$typeof:n,type:e,key:t,ref:void 0!==i?i:null,props:r}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function A(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function P(e,t,i,o,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l,u,c=!1;if(null===e)c=!0;else switch(a){case"bigint":case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case n:case r:c=!0;break;case d:return P((c=e._init)(e._payload),t,i,o,s)}}if(c)return s=s(e),c=""===o?"."+A(e,0):o,E(s)?(i="",null!=c&&(i=c.replace(I,"$&/")+"/"),P(s,t,i,"",function(e){return e})):null!=s&&(C(s)&&(l=s,u=i+(null==s.key||e&&e.key===s.key?"":(""+s.key).replace(I,"$&/")+"/")+c,s=_(l.type,u,l.props)),t.push(s)),1;c=0;var h,f=""===o?".":o+":";if(E(e))for(var m=0;m<e.length;m++)c+=P(o=e[m],t,i,a=f+A(o,m),s);else if("function"===typeof(m=null===(h=e)||"object"!==typeof h?null:"function"===typeof(h=p&&h[p]||h["@@iterator"])?h:null))for(e=m.call(e),m=0;!(o=e.next()).done;)c+=P(o=o.value,t,i,a=f+A(o,m++),s);else if("object"===a){if("function"===typeof e.then)return P(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(x,x):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,i,o,s);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return c}function N(e,t,n){if(null==e)return e;var r=[],i=0;return P(e,r,"","",function(e){return t.call(n,e,i++)}),r}function D(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},F={map:N,forEach:function(e,t,n){N(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return N(e,function(){t++}),t},toArray:function(e){return N(e,function(e){return e})||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};t.Activity=f,t.Children=F,t.Component=v,t.Fragment=i,t.Profiler=s,t.PureComponent=w,t.StrictMode=o,t.Suspense=c,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=T,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return T.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cacheSignal=function(){return null},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=g({},e.props),i=e.key;if(null!=t)for(o in void 0!==t.key&&(i=""+t.key),t)!k.call(t,o)||"key"===o||"__self"===o||"__source"===o||"ref"===o&&void 0===t.ref||(r[o]=t[o]);var o=arguments.length-2;if(1===o)r.children=n;else if(1<o){for(var s=Array(o),a=0;a<o;a++)s[a]=arguments[a+2];r.children=s}return _(e.type,i,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:a,_context:e},e},t.createElement=function(e,t,n){var r,i={},o=null;if(null!=t)for(r in void 0!==t.key&&(o=""+t.key),t)k.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var a=Array(s),l=0;l<s;l++)a[l]=arguments[l+2];i.children=a}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===i[r]&&(i[r]=s[r]);return _(e,o,i)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=T.T,n={};T.T=n;try{var r=e(),i=T.S;null!==i&&i(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(x,R)}catch(o){R(o)}finally{null!==t&&null!==n.types&&(t.types=n.types),T.T=t}},t.unstable_useCacheRefresh=function(){return T.H.useCacheRefresh()},t.use=function(e){return T.H.use(e)},t.useActionState=function(e,t,n){return T.H.useActionState(e,t,n)},t.useCallback=function(e,t){return T.H.useCallback(e,t)},t.useContext=function(e){return T.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return T.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return T.H.useEffect(e,t)},t.useEffectEvent=function(e){return T.H.useEffectEvent(e)},t.useId=function(){return T.H.useId()},t.useImperativeHandle=function(e,t,n){return T.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return T.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return T.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return T.H.useMemo(e,t)},t.useOptimistic=function(e,t){return T.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return T.H.useReducer(e,t,n)},t.useRef=function(e){return T.H.useRef(e)},t.useState=function(e){return T.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return T.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return T.H.useTransition()},t.version="19.2.0"},391:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},579:(e,t,n)=>{e.exports=n(799)},672:(e,t,n)=>{var r=n(43);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var s={d:{f:o,r:function(){throw Error(i(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},a=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(i(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:a,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=s.p;try{if(l.T=null,s.p=2,e)return e()}finally{l.T=t,s.p=n,s.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,s.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&s.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=u(n,t.crossOrigin),i="string"===typeof t.integrity?t.integrity:void 0,o="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?s.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:o}):"script"===n&&s.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:o,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=u(t.as,t.crossOrigin);s.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&s.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=u(n,t.crossOrigin);s.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=u(t.as,t.crossOrigin);s.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else s.d.m(e)},t.requestFormReset=function(e){s.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.2.0"},799:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function i(e,t,r){var i=null;if(void 0!==r&&(i=""+r),void 0!==t.key&&(i=""+t.key),"key"in t)for(var o in r={},t)"key"!==o&&(r[o]=t[o]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:i,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=i,t.jsxs=i},853:(e,t,n)=>{e.exports=n(896)},896:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var a=2*(r+1)-1,l=e[a],u=a+1,c=e[u];if(0>o(l,n))u<i&&0>o(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[a]=n,r=a);else{if(!(u<i&&0>o(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var u=[],c=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,y=!1,v="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function S(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function E(e){if(g=!1,S(e),!m)if(null!==r(u))m=!0,T||(T=!0,x());else{var t=r(c);null!==t&&D(E,t.startTime-e)}}var x,T=!1,k=-1,_=5,C=-1;function I(){return!!y||!(t.unstable_now()-C<_)}function A(){if(y=!1,T){var e=t.unstable_now();C=e;var n=!0;try{e:{m=!1,g&&(g=!1,b(k),k=-1),p=!0;var o=f;try{t:{for(S(e),d=r(u);null!==d&&!(d.expirationTime>e&&I());){var s=d.callback;if("function"===typeof s){d.callback=null,f=d.priorityLevel;var a=s(d.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof a){d.callback=a,S(e),n=!0;break t}d===r(u)&&i(u),S(e)}else i(u);d=r(u)}if(null!==d)n=!0;else{var l=r(c);null!==l&&D(E,l.startTime-e),n=!1}}break e}finally{d=null,f=o,p=!1}n=void 0}}finally{n?x():T=!1}}}if("function"===typeof w)x=function(){w(A)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,N=P.port2;P.port1.onmessage=A,x=function(){N.postMessage(null)}}else x=function(){v(A,0)};function D(e,n){k=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_requestPaint=function(){y=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>s?(e.sortIndex=o,n(c,e),null===r(u)&&e===r(c)&&(g?(b(k),k=-1):g=!0,D(E,o-s))):(e.sortIndex=a,n(u,e),m||p||(m=!0,T||(T=!0,x()))),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}();var r=n(43),i=n(391);function o(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function a(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:t+""}function l(e,t,n){return(t=a(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){l(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const h=["sri"],d=["page"],f=["page","matches"],p=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],m=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],g=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"];var y="popstate";function v(){return k(function(e,t){let{pathname:n,search:r,hash:i}=e.location;return E("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:x(t)},null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function b(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function w(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function S(e,t){return{usr:e.state,key:e.key,idx:t}}function E(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return c(c({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?T(t):t),{},{state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)})}function x(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function T(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function k(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a="POP",l=null,u=h();function h(){return(s.state||{idx:null}).idx}function d(){a="POP";let e=h(),t=null==e?null:e-u;u=e,l&&l({action:a,location:p.location,delta:t})}function f(e){return _(e)}null==u&&(u=0,s.replaceState(c(c({},s.state),{},{idx:u}),""));let p={get action(){return a},get location(){return e(i,s)},listen(e){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(y,d),l=e,()=>{i.removeEventListener(y,d),l=null}},createHref:e=>t(i,e),createURL:f,encodeLocation(e){let t=f(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){a="PUSH";let r=E(p.location,e,t);n&&n(r,e),u=h()+1;let c=S(r,u),d=p.createHref(r);try{s.pushState(c,"",d)}catch(f){if(f instanceof DOMException&&"DataCloneError"===f.name)throw f;i.location.assign(d)}o&&l&&l({action:a,location:p.location,delta:1})},replace:function(e,t){a="REPLACE";let r=E(p.location,e,t);n&&n(r,e),u=h();let i=S(r,u),c=p.createHref(r);s.replaceState(i,"",c),o&&l&&l({action:a,location:p.location,delta:0})},go:e=>s.go(e)};return p}function _(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="http://localhost";"undefined"!==typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href),b(n,"No window.location.(origin|href) available to create URL");let r="string"===typeof e?e:x(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}new WeakMap;function C(e,t){return I(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function I(e,t,n,r){let i=H(("string"===typeof t?T(t):t).pathname||"/",n);if(null==i)return null;let o=A(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(o);let s=null;for(let a=0;null==s&&a<o.length;++a){let e=B(i);s=j(o[a],e,r)}return s}function A(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=function(e,o){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i,a=arguments.length>3?arguments[3]:void 0,l={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:o,route:e};if(l.relativePath.startsWith("/")){if(!l.relativePath.startsWith(r)&&s)return;b(l.relativePath.startsWith(r),'Absolute route path "'.concat(l.relativePath,'" nested under path "').concat(r,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),l.relativePath=l.relativePath.slice(r.length)}let u=Q([r,l.relativePath]),c=n.concat(l);e.children&&e.children.length>0&&(b(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(u,'".')),A(e.children,t,c,u,s)),(null!=e.path||e.index)&&t.push({path:u,score:V(u,e.index),routesMeta:c})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!==(n=e.path)&&void 0!==n&&n.includes("?"))for(let r of P(e.path))o(e,t,!0,r);else o(e,t)}),t}function P(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let s=P(r.join("/")),a=[];return a.push(...s.map(e=>""===e?o:[o,e].join("/"))),i&&a.push(...s),a.map(t=>e.startsWith("/")&&""===t?"/":t)}var N=/^:[\w-]+$/,D=3,R=2,F=1,O=10,L=-2,M=e=>"*"===e;function V(e,t){let n=e.split("/"),r=n.length;return n.some(M)&&(r+=L),t&&(r+=R),n.filter(e=>!M(e)).reduce((e,t)=>e+(N.test(t)?D:""===t?F:O),r)}function j(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,i={},o="/",s=[];for(let a=0;a<r.length;++a){let e=r[a],l=a===r.length-1,u="/"===o?t:t.slice(o.length)||"/",c=U({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},u),h=e.route;if(!c&&l&&n&&!r[r.length-1].route.index&&(c=U({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},u)),!c)return null;Object.assign(i,c.params),s.push({params:i,pathname:Q([o,c.pathname]),pathnameBase:Y(Q([o,c.pathnameBase])),route:h}),"/"!==c.pathnameBase&&(o=Q([o,c.pathnameBase]))}return s}function U(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=z(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=a[n]||"";s=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:o,pathnameBase:s,pattern:e}}function z(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];w("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'.concat(e,'" will be treated as if it were "').concat(e.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(e.replace(/\*$/,"/*"),'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function B(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return w(!1,'The URL path "'.concat(e,'" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (').concat(t,").")),e}}function H(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function q(e,t,n,r){return"Cannot include a '".concat(e,"' character in a manually specified `to.").concat(t,"` field [").concat(JSON.stringify(r),"].  Please separate it out to the `to.").concat(n,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function W(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function K(e){let t=W(e);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function G(e,t,n){let r,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=T(e):(r=c({},e),b(!r.pathname||!r.pathname.includes("?"),q("?","pathname","search",r)),b(!r.pathname||!r.pathname.includes("#"),q("#","pathname","hash",r)),b(!r.search||!r.search.includes("#"),q("#","search","hash",r)));let o,s=""===e||""===r.pathname,a=s?"/":r.pathname;if(null==a)o=n;else{let e=t.length-1;if(!i&&a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}o=e>=0?t[e]:"/"}let l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:r="",hash:i=""}="string"===typeof e?T(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:X(r),hash:$(i)}}(r,o),u=a&&"/"!==a&&a.endsWith("/"),h=(s||"."===a)&&n.endsWith("/");return l.pathname.endsWith("/")||!u&&!h||(l.pathname+="/"),l}var Q=e=>e.join("/").replace(/\/\/+/g,"/"),Y=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),X=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",$=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function J(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}Symbol("Uninstrumented");Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Z=["POST","PUT","PATCH","DELETE"],ee=(new Set(Z),["GET",...Z]);new Set(ee),Symbol("ResetLoaderData");var te=r.createContext(null);te.displayName="DataRouter";var ne=r.createContext(null);ne.displayName="DataRouterState";var re=r.createContext(!1);var ie=r.createContext({isTransitioning:!1});ie.displayName="ViewTransition";var oe=r.createContext(new Map);oe.displayName="Fetchers";var se=r.createContext(null);se.displayName="Await";var ae=r.createContext(null);ae.displayName="Navigation";var le=r.createContext(null);le.displayName="Location";var ue=r.createContext({outlet:null,matches:[],isDataRoute:!1});ue.displayName="Route";var ce=r.createContext(null);ce.displayName="RouteError";function he(){return null!=r.useContext(le)}function de(){return b(he(),"useLocation() may be used only in the context of a <Router> component."),r.useContext(le).location}var fe="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function pe(e){r.useContext(ae).static||r.useLayoutEffect(e)}function me(){let{isDataRoute:e}=r.useContext(ue);return e?function(){let{router:e}=ke("useNavigate"),t=Ce("useNavigate"),n=r.useRef(!1);pe(()=>{n.current=!0});let i=r.useCallback(async function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};w(n.current,fe),n.current&&("number"===typeof r?e.navigate(r):await e.navigate(r,c({fromRouteId:t},i)))},[e,t]);return i}():function(){b(he(),"useNavigate() may be used only in the context of a <Router> component.");let e=r.useContext(te),{basename:t,navigator:n}=r.useContext(ae),{matches:i}=r.useContext(ue),{pathname:o}=de(),s=JSON.stringify(K(i)),a=r.useRef(!1);pe(()=>{a.current=!0});let l=r.useCallback(function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(w(a.current,fe),!a.current)return;if("number"===typeof r)return void n.go(r);let l=G(r,JSON.parse(s),o,"path"===i.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:Q([t,l.pathname])),(i.replace?n.replace:n.push)(l,i.state,i)},[t,n,s,o,e]);return l}()}r.createContext(null);function ge(){let{matches:e}=r.useContext(ue),t=e[e.length-1];return t?t.params:{}}function ye(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:n}=r.useContext(ue),{pathname:i}=de(),o=JSON.stringify(K(n));return r.useMemo(()=>G(e,JSON.parse(o),i,"path"===t),[e,o,i,t])}function ve(e,t,n,i,o){b(he(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=r.useContext(ae),{matches:a}=r.useContext(ue),l=a[a.length-1],u=l?l.params:{},h=l?l.pathname:"/",d=l?l.pathnameBase:"/",f=l&&l.route;{let e=f&&f.path||"";Pe(h,!f||e.endsWith("*")||e.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(h,'" (under <Route path="').concat(e,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(e,'"> to <Route path="').concat("/"===e?"*":"".concat(e,"/*"),'">.'))}let p,m=de();if(t){var g;let e="string"===typeof t?T(t):t;b("/"===d||(null===(g=e.pathname)||void 0===g?void 0:g.startsWith(d)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(d,'" but pathname "').concat(e.pathname,'" was given in the `location` prop.')),p=e}else p=m;let y=p.pathname||"/",v=y;if("/"!==d){let e=d.replace(/^\//,"").split("/");v="/"+y.replace(/^\//,"").split("/").slice(e.length).join("/")}let S=C(e,{pathname:v});w(f||null!=S,'No routes matched location "'.concat(p.pathname).concat(p.search).concat(p.hash,'" ')),w(null==S||void 0!==S[S.length-1].route.element||void 0!==S[S.length-1].route.Component||void 0!==S[S.length-1].route.lazy,'Matched leaf route at location "'.concat(p.pathname).concat(p.search).concat(p.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let E=xe(S&&S.map(e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:Q([d,s.encodeLocation?s.encodeLocation(e.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:Q([d,s.encodeLocation?s.encodeLocation(e.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathnameBase])})),a,n,i,o);return t&&E?r.createElement(le.Provider,{value:{location:c({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:"POP"}},E):E}function be(){let e=Ie(),t=J(e)?"".concat(e.status," ").concat(e.statusText):e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},s={padding:"2px 4px",backgroundColor:i},a=null;return console.error("Error handled by React Router default ErrorBoundary:",e),a=r.createElement(r.Fragment,null,r.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),r.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",r.createElement("code",{style:s},"ErrorBoundary")," or"," ",r.createElement("code",{style:s},"errorElement")," prop on your route.")),r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:o},n):null,a)}var we=r.createElement(be,null),Se=class extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return void 0!==this.state.error?r.createElement(ue.Provider,{value:this.props.routeContext},r.createElement(ce.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Ee(e){let{routeContext:t,match:n,children:i}=e,o=r.useContext(te);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(ue.Provider,{value:t},i)}function xe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(null==e){if(!n)return null;if(n.errors)e=n.matches;else{if(0!==t.length||n.initialized||!(n.matches.length>0))return null;e=n.matches}}let o=e,s=null===n||void 0===n?void 0:n.errors;if(null!=s){let e=o.findIndex(e=>e.route.id&&void 0!==(null===s||void 0===s?void 0:s[e.route.id]));b(e>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(s).join(","))),o=o.slice(0,Math.min(o.length,e+1))}let a=!1,l=-1;if(n)for(let r=0;r<o.length;r++){let e=o[r];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(l=r),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){a=!0,o=l>=0?o.slice(0,l+1):[o[0]];break}}}return o.reduceRight((e,u,c)=>{let h,d=!1,f=null,p=null;n&&(h=s&&u.route.id?s[u.route.id]:void 0,f=u.route.errorElement||we,a&&(l<0&&0===c?(Pe("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,p=null):l===c&&(d=!0,p=u.route.hydrateFallbackElement||null)));let m=t.concat(o.slice(0,c+1)),g=()=>{let t;return t=h?f:d?p:u.route.Component?r.createElement(u.route.Component,null):u.route.element?u.route.element:e,r.createElement(Ee,{match:u,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(u.route.ErrorBoundary||u.route.errorElement||0===c)?r.createElement(Se,{location:n.location,revalidation:n.revalidation,component:f,error:h,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0},unstable_onError:i}):g()},null)}function Te(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function ke(e){let t=r.useContext(te);return b(t,Te(e)),t}function _e(e){let t=r.useContext(ne);return b(t,Te(e)),t}function Ce(e){let t=function(e){let t=r.useContext(ue);return b(t,Te(e)),t}(e),n=t.matches[t.matches.length-1];return b(n.route.id,"".concat(e,' can only be used on routes that contain a unique "id"')),n.route.id}function Ie(){var e;let t=r.useContext(ce),n=_e("useRouteError"),i=Ce("useRouteError");return void 0!==t?t:null===(e=n.errors)||void 0===e?void 0:e[i]}var Ae={};function Pe(e,t,n){t||Ae[e]||(Ae[e]=!0,w(!1,n))}var Ne={};function De(e,t){e||Ne[t]||(Ne[t]=!0,console.warn(t))}r.memo(function(e){let{routes:t,future:n,state:r,unstable_onError:i}=e;return ve(t,void 0,r,i,n)});function Re(e){b(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Fe(e){let{basename:t="/",children:n=null,location:i,navigationType:o="POP",navigator:s,static:a=!1}=e;b(!he(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),u=r.useMemo(()=>({basename:l,navigator:s,static:a,future:{}}),[l,s,a]);"string"===typeof i&&(i=T(i));let{pathname:c="/",search:h="",hash:d="",state:f=null,key:p="default"}=i,m=r.useMemo(()=>{let e=H(c,l);return null==e?null:{location:{pathname:e,search:h,hash:d,state:f,key:p},navigationType:o}},[l,c,h,d,f,p,o]);return w(null!=m,'<Router basename="'.concat(l,'"> is not able to match the URL "').concat(c).concat(h).concat(d,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==m?null:r.createElement(ae.Provider,{value:u},r.createElement(le.Provider,{children:n,value:m}))}function Oe(e){let{children:t,location:n}=e;return ve(Le(t),n)}r.Component;function Le(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];return r.Children.forEach(e,(e,i)=>{if(!r.isValidElement(e))return;let o=[...t,i];if(e.type===r.Fragment)return void n.push.apply(n,Le(e.props.children,o));b(e.type===Re,"[".concat("string"===typeof e.type?e.type:e.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),b(!e.props.index||!e.props.children,"An index route cannot have child routes.");let s={id:e.props.id||o.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,middleware:e.props.middleware,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=Le(e.props.children,o)),n.push(s)}),n}var Me="get",Ve="application/x-www-form-urlencoded";function je(e){return null!=e&&"string"===typeof e.tagName}var Ue=null;var ze=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Be(e){return null==e||ze.has(e)?e:(w(!1,'"'.concat(e,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(Ve,'"')),null)}function He(e,t){let n,r,i,o,s;if(je(a=e)&&"form"===a.tagName.toLowerCase()){let s=e.getAttribute("action");r=s?H(s,t):null,n=e.getAttribute("method")||Me,i=Be(e.getAttribute("enctype"))||Ve,o=new FormData(e)}else if(function(e){return je(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return je(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let s=e.form;if(null==s)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let a=e.getAttribute("formaction")||s.getAttribute("action");if(r=a?H(a,t):null,n=e.getAttribute("formmethod")||s.getAttribute("method")||Me,i=Be(e.getAttribute("formenctype"))||Be(s.getAttribute("enctype"))||Ve,o=new FormData(s,e),!function(){if(null===Ue)try{new FormData(document.createElement("form"),0),Ue=!1}catch(e){Ue=!0}return Ue}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?"".concat(t,"."):"";o.append("".concat(e,"x"),"0"),o.append("".concat(e,"y"),"0")}else t&&o.append(t,r)}}else{if(je(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Me,r=null,i=Ve,s=e}var a;return o&&"text/plain"===i&&(s=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;function qe(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}Symbol("SingleFetchRedirect");function We(e,t,n){let r="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===r.pathname?r.pathname="_root.".concat(n):t&&"/"===H(r.pathname,t)?r.pathname="".concat(t.replace(/\/$/,""),"/_root.").concat(n):r.pathname="".concat(r.pathname.replace(/\/$/,""),".").concat(n),r}async function Ke(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error("Error loading route module `".concat(e.module,"`, reloading page...")),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Ge(e){return null!=e&&"string"===typeof e.page}function Qe(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function Ye(e,t,n,r,i,o){let s=(e,t)=>!n[t]||e.route.id!==n[t].route.id,a=(e,t)=>{var r;return n[t].pathname!==e.pathname||(null===(r=n[t].route.path)||void 0===r?void 0:r.endsWith("*"))&&n[t].params["*"]!==e.params["*"]};return"assets"===o?t.filter((e,t)=>s(e,t)||a(e,t)):"data"===o?t.filter((t,o)=>{let l=r.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(s(t,o)||a(t,o))return!0;if(t.route.shouldRevalidate){var u;let r=t.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:(null===(u=n[0])||void 0===u?void 0:u.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0}):[]}function Xe(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=e.map(e=>{let r=t.routes[e.route.id];if(!r)return[];let i=[r.module];return r.clientActionModule&&(i=i.concat(r.clientActionModule)),r.clientLoaderModule&&(i=i.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(i=i.concat(r.hydrateFallbackModule)),r.imports&&(i=i.concat(r.imports)),i}).flat(1),[...new Set(r)];var r}function $e(e,t){let n=new Set,r=new Set(t);return e.reduce((e,i)=>{if(t&&!Ge(i)&&"script"===i.as&&i.href&&r.has(i.href))return e;let o=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(i));return n.has(o)||(n.add(o),e.push({key:o,link:i})),e},[])}function Je(e,t){return"lazy"===e.mode&&!0===t}function Ze(){let e=r.useContext(te);return qe(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function et(){let e=r.useContext(ne);return qe(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var tt=r.createContext(void 0);function nt(){let e=r.useContext(tt);return qe(e,"You must render this element inside a <HydratedRouter> element"),e}function rt(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function it(e,t,n){if(n&&!lt)return[e[0]];if(t){let n=e.findIndex(e=>void 0!==t[e.route.id]);return e.slice(0,n+1)}return e}tt.displayName="FrameworkContext";function ot(e){let{page:t}=e,n=o(e,d),{router:i}=Ze(),s=r.useMemo(()=>C(i.routes,t,i.basename),[i.routes,t,i.basename]);return s?r.createElement(at,c({page:t,matches:s},n)):null}function st(e){let{manifest:t,routeModules:n}=nt(),[i,o]=r.useState([]);return r.useEffect(()=>{let r=!1;return async function(e,t,n){return $e((await Promise.all(e.map(async e=>{let r=t.routes[e.route.id];if(r){let e=await Ke(r,n);return e.links?e.links():[]}return[]}))).flat(1).filter(Qe).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?c(c({},e),{},{rel:"prefetch",as:"style"}):c(c({},e),{},{rel:"prefetch"})))}(e,t,n).then(e=>{r||o(e)}),()=>{r=!0}},[e,t,n]),i}function at(e){let{page:t,matches:n}=e,i=o(e,f),s=de(),{manifest:a,routeModules:l}=nt(),{basename:u}=Ze(),{loaderData:h,matches:d}=et(),p=r.useMemo(()=>Ye(t,n,d,a,s,"data"),[t,n,d,a,s]),m=r.useMemo(()=>Ye(t,n,d,a,s,"assets"),[t,n,d,a,s]),g=r.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let e=new Set,r=!1;if(n.forEach(t=>{var n;let i=a.routes[t.route.id];i&&i.hasLoader&&(!p.some(e=>e.route.id===t.route.id)&&t.route.id in h&&null!==(n=l[t.route.id])&&void 0!==n&&n.shouldRevalidate||i.hasClientLoader?r=!0:e.add(t.route.id))}),0===e.size)return[];let i=We(t,u,"data");return r&&e.size>0&&i.searchParams.set("_routes",n.filter(t=>e.has(t.route.id)).map(e=>e.route.id).join(",")),[i.pathname+i.search]},[u,h,s,a,p,n,t,l]),y=r.useMemo(()=>Xe(m,a),[m,a]),v=st(m);return r.createElement(r.Fragment,null,g.map(e=>r.createElement("link",c({key:e,rel:"prefetch",as:"fetch",href:e},i))),y.map(e=>r.createElement("link",c({key:e,rel:"modulepreload",href:e},i))),v.map(e=>{let{key:t,link:n}=e;return r.createElement("link",c({key:t,nonce:i.nonce},n))}))}var lt=!1;function ut(e){let{manifest:t,serverHandoffString:n,isSpaMode:i,renderMeta:s,routeDiscovery:a,ssr:l}=nt(),{router:u,static:d,staticContext:f}=Ze(),{matches:p}=et(),m=r.useContext(re),g=Je(a,l);s&&(s.didRenderScripts=!0);let y=it(p,null,i);r.useEffect(()=>{lt=!0},[]);let v=r.useMemo(()=>{var i;if(m)return null;let s=f?"window.__reactRouterContext = ".concat(n,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",a=d?"".concat(null!==(i=t.hmr)&&void 0!==i&&i.runtime?"import ".concat(JSON.stringify(t.hmr.runtime),";"):"").concat(g?"":"import ".concat(JSON.stringify(t.url)),";\n").concat(y.map((e,n)=>{let r="route".concat(n),i=t.routes[e.route.id];qe(i,"Route ".concat(e.route.id," not found in manifest"));let{clientActionModule:o,clientLoaderModule:s,clientMiddlewareModule:a,hydrateFallbackModule:l,module:u}=i,c=[...o?[{module:o,varName:"".concat(r,"_clientAction")}]:[],...s?[{module:s,varName:"".concat(r,"_clientLoader")}]:[],...a?[{module:a,varName:"".concat(r,"_clientMiddleware")}]:[],...l?[{module:l,varName:"".concat(r,"_HydrateFallback")}]:[],{module:u,varName:"".concat(r,"_main")}];return 1===c.length?"import * as ".concat(r," from ").concat(JSON.stringify(u),";"):[c.map(e=>"import * as ".concat(e.varName,' from "').concat(e.module,'";')).join("\n"),"const ".concat(r," = {").concat(c.map(e=>"...".concat(e.varName)).join(","),"};")].join("\n")}).join("\n"),"\n  ").concat(g?"window.__reactRouterManifest = ".concat(JSON.stringify(function(e,t){let{sri:n}=e,r=o(e,h),i=new Set(t.state.matches.map(e=>e.route.id)),s=t.state.location.pathname.split("/").filter(Boolean),a=["/"];for(s.pop();s.length>0;)a.push("/".concat(s.join("/"))),s.pop();a.forEach(e=>{let n=C(t.routes,e,t.basename);n&&n.forEach(e=>i.add(e.route.id))});let l=[...i].reduce((e,t)=>Object.assign(e,{[t]:r.routes[t]}),{});return c(c({},r),{},{routes:l,sri:!!n||void 0})}(t,u),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(y.map((e,t)=>"".concat(JSON.stringify(e.route.id),":route").concat(t)).join(","),"};\n\nimport(").concat(JSON.stringify(t.entry.module),");"):" ";return r.createElement(r.Fragment,null,r.createElement("script",c(c({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:s},type:void 0})),r.createElement("script",c(c({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:a},type:"module",async:!0})))},[]),b=lt||m?[]:(w=t.entry.imports.concat(Xe(y,t,{includeHydrateFallback:!0})),[...new Set(w)]);var w;let S="object"===typeof t.sri?t.sri:{};return De(!m,"The <Scripts /> element is a no-op when using RSC and can be safely removed."),lt||m?null:r.createElement(r.Fragment,null,"object"===typeof t.sri?r.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:S})}}):null,g?null:r.createElement("link",{rel:"modulepreload",href:t.url,crossOrigin:e.crossOrigin,integrity:S[t.url],suppressHydrationWarning:!0}),r.createElement("link",{rel:"modulepreload",href:t.entry.module,crossOrigin:e.crossOrigin,integrity:S[t.entry.module],suppressHydrationWarning:!0}),b.map(t=>r.createElement("link",{key:t,rel:"modulepreload",href:t,crossOrigin:e.crossOrigin,integrity:S[t],suppressHydrationWarning:!0})),v)}function ct(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach(t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)})}}r.Component;function ht(e){let{error:t,isOutsideRemixApp:n}=e;console.error(t);let i,o=r.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(J(t))return r.createElement(dt,{title:"Unhandled Thrown Response!"},r.createElement("h1",{style:{fontSize:"24px"}},t.status," ",t.statusText),o);if(t instanceof Error)i=t;else{let e=null==t?"Unknown Error":"object"===typeof t&&"toString"in t?t.toString():JSON.stringify(t);i=new Error(e)}return r.createElement(dt,{title:"Application Error!",isOutsideRemixApp:n},r.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),r.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},i.stack),o)}function dt(e){var t;let{title:n,renderScripts:i,isOutsideRemixApp:o,children:s}=e,{routeModules:a}=nt();return null!==(t=a.root)&&void 0!==t&&t.Layout&&!o?s:r.createElement("html",{lang:"en"},r.createElement("head",null,r.createElement("meta",{charSet:"utf-8"}),r.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),r.createElement("title",null,n)),r.createElement("body",null,r.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},s,i?r.createElement(ut,null):null)))}var ft="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{ft&&(window.__reactRouterVersion="7.9.5")}catch(Ok){}function pt(e){let{basename:t,children:n,window:i}=e,o=r.useRef();null==o.current&&(o.current=v({window:i,v5Compat:!0}));let s=o.current,[a,l]=r.useState({action:s.action,location:s.location}),u=r.useCallback(e=>{r.startTransition(()=>l(e))},[l]);return r.useLayoutEffect(()=>s.listen(u),[s,u]),r.createElement(Fe,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:s})}var mt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gt=r.forwardRef(function(e,t){let n,{onClick:i,discover:s="render",prefetch:a="none",relative:l,reloadDocument:u,replace:h,state:d,target:f,to:m,preventScrollReset:g,viewTransition:y}=e,v=o(e,p),{basename:S}=r.useContext(ae),E="string"===typeof m&&mt.test(m),T=!1;if("string"===typeof m&&E&&(n=m,ft))try{let e=new URL(window.location.href),t=m.startsWith("//")?new URL(e.protocol+m):new URL(m),n=H(t.pathname,S);t.origin===e.origin&&null!=n?m=n+t.search+t.hash:T=!0}catch(Ok){w(!1,'<Link to="'.concat(m,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}let k=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};b(he(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=r.useContext(ae),{hash:o,pathname:s,search:a}=ye(e,{relative:t}),l=s;return"/"!==n&&(l="/"===s?n:Q([n,s])),i.createHref({pathname:l,search:a,hash:o})}(m,{relative:l}),[_,C,I]=function(e,t){let n=r.useContext(tt),[i,o]=r.useState(!1),[s,a]=r.useState(!1),{onFocus:l,onBlur:u,onMouseEnter:c,onMouseLeave:h,onTouchStart:d}=t,f=r.useRef(null);r.useEffect(()=>{if("render"===e&&a(!0),"viewport"===e){let e=new IntersectionObserver(e=>{e.forEach(e=>{a(e.isIntersecting)})},{threshold:.5});return f.current&&e.observe(f.current),()=>{e.disconnect()}}},[e]),r.useEffect(()=>{if(i){let e=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(e)}}},[i]);let p=()=>{o(!0)},m=()=>{o(!1),a(!1)};return n?"intent"!==e?[s,f,{}]:[s,f,{onFocus:rt(l,p),onBlur:rt(u,m),onMouseEnter:rt(c,p),onMouseLeave:rt(h,m),onTouchStart:rt(d,p)}]:[!1,f,{}]}(a,v),A=function(e){let{target:t,replace:n,state:i,preventScrollReset:o,relative:s,viewTransition:a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=me(),u=de(),c=ye(e,{relative:s});return r.useCallback(r=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(r,t)){r.preventDefault();let t=void 0!==n?n:x(u)===x(c);l(e,{replace:t,state:i,preventScrollReset:o,relative:s,viewTransition:a})}},[u,l,c,n,i,t,e,o,s,a])}(m,{replace:h,state:d,target:f,preventScrollReset:g,relative:l,viewTransition:y});let P=r.createElement("a",c(c(c({},v),I),{},{href:n||k,onClick:T||u?i:function(e){i&&i(e),e.defaultPrevented||A(e)},ref:ct(t,C),target:f,"data-discover":E||"render"!==s?void 0:"true"}));return _&&!E?r.createElement(r.Fragment,null,P,r.createElement(ot,{page:k})):P});gt.displayName="Link",r.forwardRef(function(e,t){let{"aria-current":n="page",caseSensitive:i=!1,className:s="",end:a=!1,style:l,to:u,viewTransition:h,children:d}=e,f=o(e,m),p=ye(u,{relative:f.relative}),g=de(),y=r.useContext(ne),{navigator:v,basename:w}=r.useContext(ae),S=null!=y&&function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.useContext(ie);b(null!=n,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=bt("useViewTransitionState"),o=ye(e,{relative:t});if(!n.isTransitioning)return!1;let s=H(n.currentLocation.pathname,i)||n.currentLocation.pathname,a=H(n.nextLocation.pathname,i)||n.nextLocation.pathname;return null!=U(o.pathname,a)||null!=U(o.pathname,s)}(p)&&!0===h,E=v.encodeLocation?v.encodeLocation(p).pathname:p.pathname,x=g.pathname,T=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;i||(x=x.toLowerCase(),T=T?T.toLowerCase():null,E=E.toLowerCase()),T&&w&&(T=H(T,w)||T);const k="/"!==E&&E.endsWith("/")?E.length-1:E.length;let _,C=x===E||!a&&x.startsWith(E)&&"/"===x.charAt(k),I=null!=T&&(T===E||!a&&T.startsWith(E)&&"/"===T.charAt(E.length)),A={isActive:C,isPending:I,isTransitioning:S},P=C?n:void 0;_="function"===typeof s?s(A):[s,C?"active":null,I?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let N="function"===typeof l?l(A):l;return r.createElement(gt,c(c({},f),{},{"aria-current":P,className:_,ref:t,style:N,to:u,viewTransition:h}),"function"===typeof d?d(A):d)}).displayName="NavLink";var yt=r.forwardRef((e,t)=>{let{discover:n="render",fetcherKey:i,navigate:s,reloadDocument:a,replace:l,state:u,method:h=Me,action:d,onSubmit:f,relative:p,preventScrollReset:m,viewTransition:y}=e,v=o(e,g),w=Et(),S=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:n}=r.useContext(ae),i=r.useContext(ue);b(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),s=c({},ye(e||".",{relative:t})),a=de();if(null==e){s.search=a.search;let e=new URLSearchParams(s.search),t=e.getAll("index");if(t.some(e=>""===e)){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let n=e.toString();s.search=n?"?".concat(n):""}}e&&"."!==e||!o.route.index||(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index");"/"!==n&&(s.pathname="/"===s.pathname?n:Q([n,s.pathname]));return x(s)}(d,{relative:p}),E="get"===h.toLowerCase()?"get":"post",T="string"===typeof d&&mt.test(d);return r.createElement("form",c(c({ref:t,method:E,action:S,onSubmit:a?f:e=>{if(f&&f(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=(null===t||void 0===t?void 0:t.getAttribute("formmethod"))||h;w(t||e.currentTarget,{fetcherKey:i,method:n,navigate:s,replace:l,state:u,relative:p,preventScrollReset:m,viewTransition:y})}},v),{},{"data-discover":T||"render"!==n?void 0:"true"}))});function vt(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function bt(e){let t=r.useContext(te);return b(t,vt(e)),t}yt.displayName="Form";var wt=0,St=()=>"__".concat(String(++wt),"__");function Et(){let{router:e}=bt("useSubmit"),{basename:t}=r.useContext(ae),n=Ce("useRouteId");return r.useCallback(async function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:o,method:s,encType:a,formData:l,body:u}=He(r,t);if(!1===i.navigate){let t=i.fetcherKey||St();await e.fetch(t,n,i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||s,formEncType:i.encType||a,flushSync:i.flushSync})}else await e.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||s,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}const xt=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Tt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,s=o?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,u=t>>2,c=(3&t)<<4|s>>4;let h=(15&s)<<2|l>>6,d=63&l;a||(d=64,o||(h=64)),r.push(n[u],n[c],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(xt(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const s=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==o||null==s||null==a)throw new kt;const l=t<<2|o>>4;if(r.push(l),64!==s){const e=o<<4&240|s>>2;if(r.push(e),64!==a){const e=s<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class kt extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _t=function(e){return function(e){const t=xt(e);return Tt.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Ct=function(e){try{return Tt.decodeString(e,!0)}catch(Ok){console.error("base64Decode failed: ",Ok)}return null};function It(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const At=()=>{try{return It().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyAp3Otx8ItIiq136vv3RqKWXp-ScbJD8mk",REACT_APP_FIREBASE_AUTH_DOMAIN:"cheering-board.firebaseapp.com",REACT_APP_FIREBASE_PROJECT_ID:"cheering-board",REACT_APP_FIREBASE_STORAGE_BUCKET:"cheering-board.firebasestorage.app",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"968351563299",REACT_APP_FIREBASE_APP_ID:"1:968351563299:web:039efb37975a3f3886bb96"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(Ok){return}const t=e&&Ct(e[1]);return t&&JSON.parse(t)})()}catch(Ok){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(Ok))}},Pt=e=>{var t;return null===(t=At())||void 0===t||null===(t=t.emulatorHosts)||void 0===t?void 0:t[e]},Nt=()=>{var e;return null===(e=At())||void 0===e?void 0:e.config},Dt=e=>{var t;return null===(t=At())||void 0===t?void 0:t["_".concat(e)]};class Rt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function Ft(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch(t){return!1}}async function Ot(e){return(await fetch(e,{credentials:"include"})).ok}const Lt={};let Mt=!1;function Vt(e,t){if("undefined"===typeof window||"undefined"===typeof document||!Ft(window.location.host)||Lt[e]===t||Lt[e]||Mt)return;function n(e){return"__firebase__banner__".concat(e)}Lt[e]=t;const r="__firebase__banner",i=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(Lt))Lt[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function o(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{Mt=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function s(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),s=document.getElementById(t)||document.createElement("span"),a=n("learnmore"),l=document.getElementById(a)||document.createElement("a"),u=n("preprendIcon"),c=document.getElementById(u)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,a);const n=o();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(c,u),t.append(c,s,l,n),document.body.appendChild(t)}i?(s.innerText="Preview backend disconnected.",c.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(c.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',s.innerText="Preview backend running in this workspace."),s.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",s):s()}function jt(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Ut(){var e;const t=null===(e=At())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(Ok){return!1}}function zt(){return!Ut()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Bt(){try{return"object"===typeof indexedDB}catch(Ok){return!1}}class Ht extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Ht.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qt.prototype.create)}}class qt{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(Wt,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",o="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new Ht(n,o,t)}}const Wt=/\{\$([^}]+)}/g;function Kt(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(Gt(n)&&Gt(o)){if(!Kt(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Gt(e){return null!==e&&"object"===typeof e}function Qt(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Yt(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function Xt(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class $t{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Jt),void 0===r.error&&(r.error=Jt),void 0===r.complete&&(r.complete=Jt);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(Ok){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(Ok){"undefined"!==typeof console&&console.error&&console.error(Ok)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Jt(){}function Zt(e){return e&&e._delegate?e._delegate:e}class en{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const tn="[DEFAULT]";class nn{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Rt;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(Ok){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(Ok){if(r)return null;throw Ok}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:tn})}catch(Ok){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(Ok){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tn;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tn;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tn;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&o.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===tn?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(o){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tn;return this.component?this.component.multipleInstances?e:tn:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class rn{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new nn(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const on=[];var sn;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(sn||(sn={}));const an={debug:sn.DEBUG,verbose:sn.VERBOSE,info:sn.INFO,warn:sn.WARN,error:sn.ERROR,silent:sn.SILENT},ln=sn.INFO,un={[sn.DEBUG]:"log",[sn.VERBOSE]:"log",[sn.INFO]:"info",[sn.WARN]:"warn",[sn.ERROR]:"error"},cn=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=un[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];console[r]("[".concat(n,"]  ").concat(e.name,":"),...o)};class hn{constructor(e){this.name=e,this._logLevel=ln,this._logHandler=cn,this._userLogHandler=null,on.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in sn))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?an[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,sn.DEBUG,...t),this._logHandler(this,sn.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,sn.VERBOSE,...t),this._logHandler(this,sn.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,sn.INFO,...t),this._logHandler(this,sn.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,sn.WARN,...t),this._logHandler(this,sn.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,sn.ERROR,...t),this._logHandler(this,sn.ERROR,...t)}}let dn,fn;const pn=new WeakMap,mn=new WeakMap,gn=new WeakMap,yn=new WeakMap,vn=new WeakMap;let bn={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return mn.get(e);if("objectStoreNames"===t)return e.objectStoreNames||gn.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return En(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function wn(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(fn||(fn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(xn(this),n),En(pn.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return En(e.apply(xn(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=e.call(xn(this),t,...r);return gn.set(o,t.sort?t.sort():[t]),En(o)}}function Sn(e){return"function"===typeof e?wn(e):(e instanceof IDBTransaction&&function(e){if(mn.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)});mn.set(e,t)}(e),t=e,(dn||(dn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,bn):e);var t}function En(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(En(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)});return t.then(t=>{t instanceof IDBCursor&&pn.set(t,e)}).catch(()=>{}),vn.set(t,e),t}(e);if(yn.has(e))return yn.get(e);const t=Sn(e);return t!==e&&(yn.set(e,t),vn.set(t,e)),t}const xn=e=>vn.get(e);const Tn=["get","getKey","getAll","getAllKeys","count"],kn=["put","add","delete","clear"],_n=new Map;function Cn(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(_n.get(t))return _n.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=kn.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Tn.includes(n))return;const o=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let o=t.store;for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];return r&&(o=o.index(a.shift())),(await Promise.all([o[n](...a),i&&t.done]))[0]};return _n.set(t,o),o}bn=(e=>c(c({},e),{},{get:(t,n,r)=>Cn(t,n)||e.get(t,n,r),has:(t,n)=>!!Cn(t,n)||e.has(t,n)}))(bn);class In{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const An="@firebase/app",Pn="0.14.5",Nn=new hn("@firebase/app"),Dn="@firebase/app-compat",Rn="@firebase/analytics-compat",Fn="@firebase/analytics",On="@firebase/app-check-compat",Ln="@firebase/app-check",Mn="@firebase/auth",Vn="@firebase/auth-compat",jn="@firebase/database",Un="@firebase/data-connect",zn="@firebase/database-compat",Bn="@firebase/functions",Hn="@firebase/functions-compat",qn="@firebase/installations",Wn="@firebase/installations-compat",Kn="@firebase/messaging",Gn="@firebase/messaging-compat",Qn="@firebase/performance",Yn="@firebase/performance-compat",Xn="@firebase/remote-config",$n="@firebase/remote-config-compat",Jn="@firebase/storage",Zn="@firebase/storage-compat",er="@firebase/firestore",tr="@firebase/ai",nr="@firebase/firestore-compat",rr="firebase",ir="[DEFAULT]",or={[An]:"fire-core",[Dn]:"fire-core-compat",[Fn]:"fire-analytics",[Rn]:"fire-analytics-compat",[Ln]:"fire-app-check",[On]:"fire-app-check-compat",[Mn]:"fire-auth",[Vn]:"fire-auth-compat",[jn]:"fire-rtdb",[Un]:"fire-data-connect",[zn]:"fire-rtdb-compat",[Bn]:"fire-fn",[Hn]:"fire-fn-compat",[qn]:"fire-iid",[Wn]:"fire-iid-compat",[Kn]:"fire-fcm",[Gn]:"fire-fcm-compat",[Qn]:"fire-perf",[Yn]:"fire-perf-compat",[Xn]:"fire-rc",[$n]:"fire-rc-compat",[Jn]:"fire-gcs",[Zn]:"fire-gcs-compat",[er]:"fire-fst",[nr]:"fire-fst-compat",[tr]:"fire-vertex","fire-js":"fire-js",[rr]:"fire-js-all"},sr=new Map,ar=new Map,lr=new Map;function ur(e,t){try{e.container.addComponent(t)}catch(Ok){Nn.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),Ok)}}function cr(e){const t=e.name;if(lr.has(t))return Nn.debug("There were multiple attempts to register component ".concat(t,".")),!1;lr.set(t,e);for(const n of sr.values())ur(n,e);for(const n of ar.values())ur(n,e);return!0}function hr(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function dr(e){return null!==e&&void 0!==e&&void 0!==e.settings}const fr=new qt("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class pr{constructor(e,t,n){this._isDeleted=!1,this._options=c({},e),this._config=c({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new en("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fr.create("app-deleted",{appName:this._name})}}const mr="12.5.0";function gr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=c({name:ir,automaticDataCollectionEnabled:!0},t),i=r.name;if("string"!==typeof i||!i)throw fr.create("bad-app-name",{appName:String(i)});if(n||(n=Nt()),!n)throw fr.create("no-options");const o=sr.get(i);if(o){if(Kt(n,o.options)&&Kt(r,o.config))return o;throw fr.create("duplicate-app",{appName:i})}const s=new rn(i);for(const l of lr.values())s.addComponent(l);const a=new pr(n,r,s);return sr.set(i,a),a}function yr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ir;const t=sr.get(e);if(!t&&e===ir&&Nt())return gr();if(!t)throw fr.create("no-app",{appName:e});return t}function vr(e,t,n){var r;let i=null!==(r=or[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return o&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),o&&s&&e.push("and"),s&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Nn.warn(e.join(" "))}cr(new en("".concat(i,"-version"),()=>({library:i,version:t}),"VERSION"))}const br="firebase-heartbeat-store";let wr=null;function Sr(){return wr||(wr=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(e,t),a=En(s);return r&&s.addEventListener("upgradeneeded",e=>{r(En(s.result),e.oldVersion,e.newVersion,En(s.transaction),e)}),n&&s.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),a.then(e=>{o&&e.addEventListener("close",()=>o()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),a}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(br)}catch(Ok){console.warn(Ok)}}}).catch(e=>{throw fr.create("idb-open",{originalErrorMessage:e.message})})),wr}async function Er(e,t){try{const n=(await Sr()).transaction(br,"readwrite"),r=n.objectStore(br);await r.put(t,xr(e)),await n.done}catch(Ok){if(Ok instanceof Ht)Nn.warn(Ok.message);else{const t=fr.create("idb-set",{originalErrorMessage:null===Ok||void 0===Ok?void 0:Ok.message});Nn.warn(t.message)}}}function xr(e){return"".concat(e.name,"!").concat(e.options.appId)}class Tr{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new _r(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{var e;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=kr();var t;if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats))if(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(Ok){Nn.warn(Ok)}}async getHeartbeatsHeader(){try{var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=kr(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),Cr(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Cr(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=_t(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(Ok){return Nn.warn(Ok),""}}}function kr(){return(new Date).toISOString().substring(0,10)}class _r{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Bt()&&new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}).then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await Sr()).transaction(br),n=await t.objectStore(br).get(xr(e));return await t.done,n}catch(Ok){if(Ok instanceof Ht)Nn.warn(Ok.message);else{const t=fr.create("idb-get",{originalErrorMessage:null===Ok||void 0===Ok?void 0:Ok.message});Nn.warn(t.message)}}}(this.app);return null!==e&&void 0!==e&&e.heartbeats?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return Er(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return Er(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Cr(e){return _t(JSON.stringify({version:2,heartbeats:e})).length}var Ir;Ir="",cr(new en("platform-logger",e=>new In(e),"PRIVATE")),cr(new en("heartbeat",e=>new Tr(e),"PRIVATE")),vr(An,Pn,Ir),vr(An,Pn,"esm2020"),vr("fire-js","");vr("firebase","12.5.0","app");var Ar,Pr,Nr="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Dr={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}function n(e,t,n){n||(n=0);const r=Array(16);if("string"===typeof t)for(var i=0;i<16;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;i<16;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];let o,s=e.g[3];o=t+(s^n&(i^s))+r[0]+3614090360&4294967295,o=s+(i^(t=n+(o<<7&4294967295|o>>>25))&(n^i))+r[1]+3905402710&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[2]+606105819&4294967295,o=n+(t^(i=s+(o<<17&4294967295|o>>>15))&(s^t))+r[3]+3250441966&4294967295,o=t+(s^(n=i+(o<<22&4294967295|o>>>10))&(i^s))+r[4]+4118548399&4294967295,o=s+(i^(t=n+(o<<7&4294967295|o>>>25))&(n^i))+r[5]+1200080426&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[6]+2821735955&4294967295,o=n+(t^(i=s+(o<<17&4294967295|o>>>15))&(s^t))+r[7]+4249261313&4294967295,o=t+(s^(n=i+(o<<22&4294967295|o>>>10))&(i^s))+r[8]+1770035416&4294967295,o=s+(i^(t=n+(o<<7&4294967295|o>>>25))&(n^i))+r[9]+2336552879&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[10]+4294925233&4294967295,o=n+(t^(i=s+(o<<17&4294967295|o>>>15))&(s^t))+r[11]+2304563134&4294967295,o=t+(s^(n=i+(o<<22&4294967295|o>>>10))&(i^s))+r[12]+1804603682&4294967295,o=s+(i^(t=n+(o<<7&4294967295|o>>>25))&(n^i))+r[13]+4254626195&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[14]+2792965006&4294967295,o=n+(t^(i=s+(o<<17&4294967295|o>>>15))&(s^t))+r[15]+1236535329&4294967295,o=t+(i^s&((n=i+(o<<22&4294967295|o>>>10))^i))+r[1]+4129170786&4294967295,o=s+(n^i&((t=n+(o<<5&4294967295|o>>>27))^n))+r[6]+3225465664&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[11]+643717713&4294967295,o=n+(s^t&((i=s+(o<<14&4294967295|o>>>18))^s))+r[0]+3921069994&4294967295,o=t+(i^s&((n=i+(o<<20&4294967295|o>>>12))^i))+r[5]+3593408605&4294967295,o=s+(n^i&((t=n+(o<<5&4294967295|o>>>27))^n))+r[10]+38016083&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[15]+3634488961&4294967295,o=n+(s^t&((i=s+(o<<14&4294967295|o>>>18))^s))+r[4]+3889429448&4294967295,o=t+(i^s&((n=i+(o<<20&4294967295|o>>>12))^i))+r[9]+568446438&4294967295,o=s+(n^i&((t=n+(o<<5&4294967295|o>>>27))^n))+r[14]+3275163606&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[3]+4107603335&4294967295,o=n+(s^t&((i=s+(o<<14&4294967295|o>>>18))^s))+r[8]+1163531501&4294967295,o=t+(i^s&((n=i+(o<<20&4294967295|o>>>12))^i))+r[13]+2850285829&4294967295,o=s+(n^i&((t=n+(o<<5&4294967295|o>>>27))^n))+r[2]+4243563512&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[7]+1735328473&4294967295,o=n+(s^t&((i=s+(o<<14&4294967295|o>>>18))^s))+r[12]+2368359562&4294967295,o=t+((n=i+(o<<20&4294967295|o>>>12))^i^s)+r[5]+4294588738&4294967295,o=s+((t=n+(o<<4&4294967295|o>>>28))^n^i)+r[8]+2272392833&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[11]+1839030562&4294967295,o=n+((i=s+(o<<16&4294967295|o>>>16))^s^t)+r[14]+4259657740&4294967295,o=t+((n=i+(o<<23&4294967295|o>>>9))^i^s)+r[1]+2763975236&4294967295,o=s+((t=n+(o<<4&4294967295|o>>>28))^n^i)+r[4]+1272893353&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[7]+4139469664&4294967295,o=n+((i=s+(o<<16&4294967295|o>>>16))^s^t)+r[10]+3200236656&4294967295,o=t+((n=i+(o<<23&4294967295|o>>>9))^i^s)+r[13]+681279174&4294967295,o=s+((t=n+(o<<4&4294967295|o>>>28))^n^i)+r[0]+3936430074&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[3]+3572445317&4294967295,o=n+((i=s+(o<<16&4294967295|o>>>16))^s^t)+r[6]+76029189&4294967295,o=t+((n=i+(o<<23&4294967295|o>>>9))^i^s)+r[9]+3654602809&4294967295,o=s+((t=n+(o<<4&4294967295|o>>>28))^n^i)+r[12]+3873151461&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[15]+530742520&4294967295,o=n+((i=s+(o<<16&4294967295|o>>>16))^s^t)+r[2]+3299628645&4294967295,o=t+(i^((n=i+(o<<23&4294967295|o>>>9))|~s))+r[0]+4096336452&4294967295,o=s+(n^((t=n+(o<<6&4294967295|o>>>26))|~i))+r[7]+1126891415&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[14]+2878612391&4294967295,o=n+(s^((i=s+(o<<15&4294967295|o>>>17))|~t))+r[5]+4237533241&4294967295,o=t+(i^((n=i+(o<<21&4294967295|o>>>11))|~s))+r[12]+1700485571&4294967295,o=s+(n^((t=n+(o<<6&4294967295|o>>>26))|~i))+r[3]+2399980690&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[10]+4293915773&4294967295,o=n+(s^((i=s+(o<<15&4294967295|o>>>17))|~t))+r[1]+2240044497&4294967295,o=t+(i^((n=i+(o<<21&4294967295|o>>>11))|~s))+r[8]+1873313359&4294967295,o=s+(n^((t=n+(o<<6&4294967295|o>>>26))|~i))+r[15]+4264355552&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[6]+2734768916&4294967295,o=n+(s^((i=s+(o<<15&4294967295|o>>>17))|~t))+r[13]+1309151649&4294967295,o=t+(i^((n=i+(o<<21&4294967295|o>>>11))|~s))+r[4]+4149444226&4294967295,o=s+(n^((t=n+(o<<6&4294967295|o>>>26))|~i))+r[11]+3174756917&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[2]+718787259&4294967295,o=n+(s^((i=s+(o<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function r(e,t){this.h=t;const n=[];let r=!0;for(let i=e.length-1;i>=0;i--){const o=0|e[i];r&&o==t||(n[i]=o,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.F=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.D=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}(t,function(){this.blockSize=-1}),t.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.v=function(e,t){void 0===t&&(t=e.length);const r=t-this.blockSize,i=this.C;let o=this.h,s=0;for(;s<t;){if(0==o)for(;s<=r;)n(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(i[o++]=e.charCodeAt(s++),o==this.blockSize){n(this,i),o=0;break}}else for(;s<t;)if(i[o++]=e[s++],o==this.blockSize){n(this,i),o=0;break}}this.h=o,this.o+=t},t.prototype.A=function(){var e=Array((this.h<56?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;t=8*this.o;for(var n=e.length-8;n<e.length;++n)e[n]=255&t,t/=256;for(this.v(e),e=Array(16),t=0,n=0;n<4;++n)for(let r=0;r<32;r+=8)e[t++]=this.g[n]>>>r&255;return e};var i={};function o(e){return-128<=e&&e<128?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new r([0|e],e<0?-1:0)}):new r([0|e],e<0?-1:0)}function s(e){if(isNaN(e)||!isFinite(e))return a;if(e<0)return d(s(-e));const t=[];let n=1;for(let r=0;e>=n;r++)t[r]=e/n|0,n*=4294967296;return new r(t,0)}var a=o(0),l=o(1),u=o(16777216);function c(e){if(0!=e.h)return!1;for(let t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function h(e){return-1==e.h}function d(e){const t=e.g.length,n=[];for(let r=0;r<t;r++)n[r]=~e.g[r];return new r(n,~e.h).add(l)}function f(e,t){return e.add(d(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(c(t))throw Error("division by zero");if(c(e))return new m(a,a);if(h(e))return t=g(d(e),t),new m(d(t.g),d(t.h));if(h(t))return t=g(e,d(t)),new m(d(t.g),t.h);if(e.g.length>30){if(h(e)||h(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;r.l(e)<=0;)n=y(n),r=y(r);var i=v(n,1),o=v(r,1);for(r=v(r,2),n=v(n,2);!c(r);){var u=o.add(r);u.l(e)<=0&&(i=i.add(n),o=u),r=v(r,1),n=v(n,1)}return t=f(e,i.j(t)),new m(i,t)}for(i=a;e.l(t)>=0;){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=(r=Math.ceil(Math.log(n)/Math.LN2))<=48?1:Math.pow(2,r-48),u=(o=s(n)).j(t);h(u)||u.l(e)>0;)u=(o=s(n-=r)).j(t);c(o)&&(o=l),i=i.add(o),e=f(e,u)}return new m(i,e)}function y(e){const t=e.g.length+1,n=[];for(let r=0;r<t;r++)n[r]=e.i(r)<<1|e.i(r-1)>>>31;return new r(n,e.h)}function v(e,t){const n=t>>5;t%=32;const i=e.g.length-n,o=[];for(let r=0;r<i;r++)o[r]=t>0?e.i(r+n)>>>t|e.i(r+n+1)<<32-t:e.i(r+n);return new r(o,e.h)}(e=r.prototype).m=function(){if(h(this))return-d(this).m();let e=0,t=1;for(let n=0;n<this.g.length;n++){const r=this.i(n);e+=(r>=0?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if((e=e||10)<2||36<e)throw Error("radix out of range: "+e);if(c(this))return"0";if(h(this))return"-"+d(this).toString(e);const t=s(Math.pow(e,6));var n=this;let r="";for(;;){const i=g(n,t).g;let o=(((n=f(n,i.j(t))).g.length>0?n.g[0]:n.h)>>>0).toString(e);if(c(n=i))return o+r;for(;o.length<6;)o="0"+o;r=o+r}},e.i=function(e){return e<0?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return h(e=f(this,e))?-1:c(e)?0:1},e.abs=function(){return h(this)?d(this):this},e.add=function(e){const t=Math.max(this.g.length,e.g.length),n=[];let i=0;for(let r=0;r<=t;r++){let t=i+(65535&this.i(r))+(65535&e.i(r)),o=(t>>>16)+(this.i(r)>>>16)+(e.i(r)>>>16);i=o>>>16,t&=65535,o&=65535,n[r]=o<<16|t}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(c(this)||c(e))return a;if(h(this))return h(e)?d(this).j(d(e)):d(d(this).j(e));if(h(e))return d(this.j(d(e)));if(this.l(u)<0&&e.l(u)<0)return s(this.m()*e.m());const t=this.g.length+e.g.length,n=[];for(var i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(let t=0;t<e.g.length;t++){const r=this.i(i)>>>16,o=65535&this.i(i),s=e.i(t)>>>16,a=65535&e.i(t);n[2*i+2*t]+=o*a,p(n,2*i+2*t),n[2*i+2*t+1]+=r*a,p(n,2*i+2*t+1),n[2*i+2*t+1]+=o*s,p(n,2*i+2*t+1),n[2*i+2*t+2]+=r*s,p(n,2*i+2*t+2)}for(e=0;e<t;e++)n[e]=n[2*e+1]<<16|n[2*e];for(e=t;e<2*t;e++)n[e]=0;return new r(n,0)},e.B=function(e){return g(this,e).h},e.and=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)&e.i(r);return new r(n,this.h&e.h)},e.or=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)|e.i(r);return new r(n,this.h|e.h)},e.xor=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)^e.i(r);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.A,t.prototype.reset=t.prototype.u,t.prototype.update=t.prototype.v,Pr=Dr.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.B,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=s,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if((n=n||10)<2||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return d(e(t.substring(1),n));if(t.indexOf("-")>=0)throw Error('number format error: interior "-" character');const r=s(Math.pow(n,8));let i=a;for(let a=0;a<t.length;a+=8){var o=Math.min(8,t.length-a);const e=parseInt(t.substring(a,a+o),n);o<8?(o=s(Math.pow(n,o)),i=i.j(o).add(s(e))):(i=i.j(r),i=i.add(s(e)))}return i},Ar=Dr.Integer=r}).apply("undefined"!==typeof Nr?Nr:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var Rr,Fr,Or,Lr,Mr,Vr,jr,Ur,zr="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Br={};(function(){var e,t=Object.defineProperty;var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof zr&&zr];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);function r(e,r){if(r)e:{var i=n;e=e.split(".");for(var o=0;o<e.length-1;o++){var s=e[o];if(!(s in i))break e;i=i[s]}(r=r(o=i[e=e[e.length-1]]))!=o&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}r("Symbol.dispose",function(e){return e||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(e){return e||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(e){return e||function(e){var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push([t,e[t]]);return n}});var i=i||{},o=this||self;function s(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function a(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){return(l=a).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function c(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Ob=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}var h="undefined"!==typeof AsyncContext&&"function"===typeof AsyncContext.Snapshot?e=>e&&AsyncContext.Snapshot.wrap(e):e=>e;function d(e){const t=e.length;if(t>0){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let r=1;r<arguments.length;r++){const t=arguments[r];var n=typeof t;if("array"==(n="object"!=n?n:t?Array.isArray(t)?"array":n:"null")||"object"==n&&"number"==typeof t.length){n=e.length||0;const r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){o.setTimeout(()=>{throw e},0)}function m(){var e=w;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var g=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return this.h>0?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new y,e=>e.reset());class y{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let v,b=!1,w=new class{constructor(){this.h=this.g=null}add(e,t){const n=g.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},S=()=>{const e=Promise.resolve(void 0);v=()=>{e.then(E)}};function E(){for(var e;e=m();){try{e.h.call(e.g)}catch(n){p(n)}var t=g;t.j(e),t.h<100&&(t.h++,e.next=t.g,t.g=e)}b=!1}function x(){this.u=this.u,this.C=this.C}function T(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}x.prototype.u=!1,x.prototype.dispose=function(){this.u||(this.u=!0,this.N())},x.prototype[Symbol.dispose]=function(){this.dispose()},x.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},T.prototype.h=function(){this.defaultPrevented=!0};var k=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};o.addEventListener("test",e,t),o.removeEventListener("test",e,t)}catch(n){}return e}();function _(e){return/^[\s\xa0]*$/.test(e)}function C(e,t){T.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e&&this.init(e,t)}c(C,T),C.prototype.init=function(e,t){const n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;this.target=e.target||e.srcElement,this.g=t,(t=e.relatedTarget)||("mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement)),this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=e.pointerType,this.state=e.state,this.i=e,e.defaultPrevented&&C.Z.h.call(this)},C.prototype.h=function(){C.Z.h.call(this);const e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var I="closure_listenable_"+(1e6*Math.random()|0),A=0;function P(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++A,this.da=this.fa=!1}function N(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function D(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function R(e){const t={};for(const n in e)t[n]=e[n];return t}const F="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<F.length;t++)n=F[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function L(e){this.src=e,this.g={},this.h=0}function M(e,t){const n=t.type;if(n in e.g){var r,i=e.g[n],o=Array.prototype.indexOf.call(i,t,void 0);(r=o>=0)&&Array.prototype.splice.call(i,o,1),r&&(N(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function V(e,t,n,r){for(let i=0;i<e.length;++i){const o=e[i];if(!o.da&&o.listener==t&&o.capture==!!n&&o.ha==r)return i}return-1}L.prototype.add=function(e,t,n,r,i){const o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);const s=V(e,t,r,i);return s>-1?(t=e[s],n||(t.fa=!1)):((t=new P(t,this.src,o,!!r,i)).fa=n,e.push(t)),t};var j="closure_lm_"+(1e6*Math.random()|0),U={};function z(e,t,n,r,i){if(r&&r.once)return H(e,t,n,r,i);if(Array.isArray(t)){for(let o=0;o<t.length;o++)z(e,t[o],n,r,i);return null}return n=X(n),e&&e[I]?e.J(t,n,s(r)?!!r.capture:!!r,i):B(e,t,n,!1,r,i)}function B(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");const a=s(i)?!!i.capture:!!i;let l=Q(e);if(l||(e[j]=l=new L(e)),(n=l.add(t,n,r,a,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=G;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)k||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(K(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function H(e,t,n,r,i){if(Array.isArray(t)){for(let o=0;o<t.length;o++)H(e,t[o],n,r,i);return null}return n=X(n),e&&e[I]?e.K(t,n,s(r)?!!r.capture:!!r,i):B(e,t,n,!0,r,i)}function q(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)q(e,t[o],n,r,i);else r=s(r)?!!r.capture:!!r,n=X(n),e&&e[I]?(e=e.i,(o=String(t).toString())in e.g&&((n=V(t=e.g[o],n,r,i))>-1&&(N(t[n]),Array.prototype.splice.call(t,n,1),0==t.length&&(delete e.g[o],e.h--)))):e&&(e=Q(e))&&(t=e.g[t.toString()],e=-1,t&&(e=V(t,n,r,i)),(n=e>-1?t[e]:null)&&W(n))}function W(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[I])M(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(K(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Q(t))?(M(n,e),0==n.h&&(n.src=null,t[j]=null)):N(e)}}}function K(e){return e in U?U[e]:U[e]="on"+e}function G(e,t){if(e.da)e=!0;else{t=new C(t,this);const n=e.listener,r=e.ha||e.src;e.fa&&W(e),e=n.call(r,t)}return e}function Q(e){return(e=e[j])instanceof L?e:null}var Y="__closure_events_fn_"+(1e9*Math.random()>>>0);function X(e){return"function"===typeof e?e:(e[Y]||(e[Y]=function(t){return e.handleEvent(t)}),e[Y])}function $(){x.call(this),this.i=new L(this),this.M=this,this.G=null}function J(e,t){var n,r=e.G;if(r)for(n=[];r;r=r.G)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new T(t,e);else if(t instanceof T)t.target=t.target||e;else{var i=t;O(t=new T(r,e),i)}let o,s;if(i=!0,n)for(s=n.length-1;s>=0;s--)o=t.g=n[s],i=Z(o,r,!0,t)&&i;if(o=t.g=e,i=Z(o,r,!0,t)&&i,i=Z(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)o=t.g=n[s],i=Z(o,r,!1,t)&&i}function Z(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();let i=!0;for(let o=0;o<t.length;++o){const s=t[o];if(s&&!s.da&&s.capture==n){const t=s.listener,n=s.ha||s.src;s.fa&&M(e.i,s),i=!1!==t.call(n,r)&&i}}return i&&!r.defaultPrevented}function ee(e){e.g=function(e,t){if("function"!==typeof e){if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=l(e.handleEvent,e)}return Number(t)>2147483647?-1:o.setTimeout(e,t||0)}(()=>{e.g=null,e.i&&(e.i=!1,ee(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}c($,x),$.prototype[I]=!0,$.prototype.removeEventListener=function(e,t,n,r){q(this,e,t,n,r)},$.prototype.N=function(){if($.Z.N.call(this),this.i){var e=this.i;for(const t in e.g){const n=e.g[t];for(let e=0;e<n.length;e++)N(n[e]);delete e.g[t],e.h--}}this.G=null},$.prototype.J=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},$.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class te extends x{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ee(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ne(e){x.call(this),this.h=e,this.g={}}c(ne,x);var re=[];function ie(e){D(e.g,function(e,t){this.g.hasOwnProperty(t)&&W(e)},e),e.g={}}ne.prototype.N=function(){ne.Z.N.call(this),ie(this)},ne.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var oe=o.JSON.stringify,se=o.JSON.parse,ae=class{stringify(e){return o.JSON.stringify(e,void 0)}parse(e){return o.JSON.parse(e,void 0)}};function le(){}function ue(){}var ce={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function he(){T.call(this,"d")}function de(){T.call(this,"c")}c(he,T),c(de,T);var fe={},pe=null;function me(){return pe=pe||new $}function ge(e){T.call(this,fe.Ia,e)}function ye(e){const t=me();J(t,new ge(t))}function ve(e,t){T.call(this,fe.STAT_EVENT,e),this.stat=t}function be(e){const t=me();J(t,new ve(t,e))}function we(e,t){T.call(this,fe.Ja,e),this.size=t}function Se(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){e()},t)}function Ee(){this.g=!0}function xe(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{const o=JSON.parse(t);if(o)for(e=0;e<o.length;e++)if(Array.isArray(o[e])){var n=o[e];if(!(n.length<2)){var r=n[1];if(Array.isArray(r)&&!(r.length<1)){var i=r[0];if("noop"!=i&&"stop"!=i&&"close"!=i)for(let e=1;e<r.length;e++)r[e]=""}}}return oe(o)}catch(o){return t}}(e,n)+(r?" "+r:"")})}fe.Ia="serverreachability",c(ge,T),fe.STAT_EVENT="statevent",c(ve,T),fe.Ja="timingevent",c(we,T),Ee.prototype.ua=function(){this.g=!1},Ee.prototype.info=function(){};var Te,ke={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},_e={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"};function Ce(){}function Ie(e){return encodeURIComponent(String(e))}function Ae(e){var t=1;e=e.split(":");const n=[];for(;t>0&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Pe(e,t,n,r){this.j=e,this.i=t,this.l=n,this.S=r||1,this.V=new ne(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ne}function Ne(){this.i=null,this.g="",this.h=!1}c(Ce,le),Ce.prototype.g=function(){return new XMLHttpRequest},Te=new Ce;var De={},Re={};function Fe(e,t,n){e.M=1,e.A=ot(et(t)),e.u=n,e.R=!0,Oe(e,null)}function Oe(e,t){e.F=Date.now(),Ve(e),e.B=et(e.A);var n=e.B,r=e.S;Array.isArray(r)||(r=[String(r)]),bt(n.i,"t",r),e.C=0,n=e.j.L,e.h=new Ne,e.g=sn(e.j,n?t:null,!e.u),e.P>0&&(e.O=new te(l(e.Y,e,e.g),e.P)),t=e.V,n=e.g,r=e.ba;var i="readystatechange";Array.isArray(i)||(i&&(re[0]=i.toString()),i=re);for(let o=0;o<i.length;o++){const e=z(n,i[o],r||t.handleEvent,!1,t.h||t);if(!e)break;t.g[e.key]=e}t=e.J?R(e.J):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.B,e.v,e.u,t)):(e.v="GET",e.g.ea(e.B,e.v,null,t)),ye(),function(e,t,n,r,i,o){e.info(function(){if(e.g)if(o){var s="",a=o.split("&");for(let e=0;e<a.length;e++){var l=a[e].split("=");if(l.length>1){const e=l[0];l=l[1];const t=e.split("_");s=t.length>=2&&"type"==t[1]?s+(e+"=")+l+"&":s+(e+"=redacted&")}}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+s})}(e.i,e.v,e.B,e.l,e.S,e.u)}function Le(e){return!!e.g&&("GET"==e.v&&2!=e.M&&e.j.Aa)}function Me(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Re:(n=Number(t.substring(n,r)),isNaN(n)?De:(r+=1)+n>t.length?Re:(t=t.slice(r,r+n),e.C=r+n,t))}function Ve(e){e.T=Date.now()+e.H,je(e,e.H)}function je(e,t){if(null!=e.D)throw Error("WatchDog timer not null");e.D=Se(l(e.aa,e),t)}function Ue(e){e.D&&(o.clearTimeout(e.D),e.D=null)}function ze(e){0==e.j.I||e.K||en(e.j,e)}function Be(e){Ue(e);var t=e.O;t&&"function"==typeof t.dispose&&t.dispose(),e.O=null,ie(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.dispose())}function He(e,t){try{var n=e.j;if(0!=n.I&&(n.g==e||Qe(n.h,e)))if(!e.L&&Qe(n.h,e)&&3==n.I){try{var r=n.Ba.g.parse(t)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.v){if(n.g){if(!(n.g.F+3e3<e.F))break e;Zt(n),Ht(n)}Xt(n),be(18)}}else n.xa=i[1],0<n.xa-n.K&&i[2]<37500&&n.F&&0==n.A&&!n.C&&(n.C=Se(l(n.Va,n),6e3));Ge(n.h)<=1&&n.ta&&(n.ta=void 0)}else nn(n,11)}else if((e.L||n.g==e)&&Zt(n),!_(t))for(i=n.Ba.g.parse(t),t=0;t<i.length;t++){let l=i[t];const c=l[0];if(!(c<=n.K))if(n.K=c,l=l[1],2==n.I)if("c"==l[0]){n.M=l[1],n.ba=l[2];const t=l[3];null!=t&&(n.ka=t,n.j.info("VER="+n.ka));const i=l[4];null!=i&&(n.za=i,n.j.info("SVER="+n.za));const c=l[5];null!=c&&"number"===typeof c&&c>0&&(r=1.5*c,n.O=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.h;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(Ye(o,o.h),o.h=null))}if(r.G){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.wa=e,it(r.J,r.G,e))}}n.I=3,n.l&&n.l.ra(),n.aa&&(n.T=Date.now()-e.F,n.j.info("Handshake RTT: "+n.T+"ms"));var s=e;if((r=n).na=on(r,r.L?r.ba:null,r.W),s.L){Xe(r.h,s);var a=s,u=r.O;u&&(a.H=u),a.D&&(Ue(a),Ve(a)),r.g=s}else Yt(r);n.i.length>0&&Wt(n)}else"stop"!=l[0]&&"close"!=l[0]||nn(n,7);else 3==n.I&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?nn(n,7):Bt(n):"noop"!=l[0]&&n.l&&n.l.qa(l),n.A=0)}ye()}catch(c){}}Pe.prototype.ba=function(e){e=e.target;const t=this.O;t&&3==Vt(e)?t.j():this.Y(e)},Pe.prototype.Y=function(e){try{if(e==this.g)e:{const l=Vt(this.g),u=this.g.ya();this.g.ca();if(!(l<3)&&(3!=l||this.g&&(this.h.h||this.g.la()||jt(this.g)))){this.K||4!=l||7==u||ye(),Ue(this);var t=this.g.ca();this.X=t;var n=function(e){if(!Le(e))return e.g.la();const t=jt(e.g);if(""===t)return"";let n="";const r=t.length,i=4==Vt(e.g);if(!e.h.i){if("undefined"===typeof TextDecoder)return Be(e),ze(e),"";e.h.i=new o.TextDecoder}for(let o=0;o<r;o++)e.h.h=!0,n+=e.h.i.decode(t[o],{stream:!(i&&o==r-1)});return t.length=0,e.h.g+=n,e.C=0,e.h.g}(this);if(this.o=200==t,function(e,t,n,r,i,o,s){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+s})}(this.i,this.v,this.B,this.l,this.S,l,t),this.o){if(this.U&&!this.L){t:{if(this.g){var r,i=this.g;if((r=i.g?i.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(r)){var s=r;break t}}s=null}if(!(e=s)){this.o=!1,this.m=3,be(12),Be(this),ze(this);break e}xe(this.i,this.l,e,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,He(this,e)}if(this.R){let t;for(e=!0;!this.K&&this.C<n.length;){if(t=Me(this,n),t==Re){4==l&&(this.m=4,be(14),e=!1),xe(this.i,this.l,null,"[Incomplete Response]");break}if(t==De){this.m=4,be(15),xe(this.i,this.l,n,"[Invalid Chunk]"),e=!1;break}xe(this.i,this.l,t,null),He(this,t)}if(Le(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=l||0!=n.length||this.h.h||(this.m=1,be(16),e=!1),this.o=this.o&&e,e){if(n.length>0&&!this.W){this.W=!0;var a=this.j;a.g==this&&a.aa&&!a.P&&(a.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),$t(a),a.P=!0,be(11))}}else xe(this.i,this.l,n,"[Invalid Chunked Response]"),Be(this),ze(this)}else xe(this.i,this.l,n,null),He(this,n);4==l&&Be(this),this.o&&!this.K&&(4==l?en(this.j,this):(this.o=!1,Ve(this)))}else(function(e){const t={};e=(e.g&&Vt(e)>=2&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(_(e[r]))continue;var n=Ae(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const o=t[i]||[];t[i]=o,o.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==t&&n.indexOf("Unknown SID")>0?(this.m=3,be(12)):(this.m=0,be(13)),Be(this),ze(this)}}}catch(Ei){}},Pe.prototype.cancel=function(){this.K=!0,Be(this)},Pe.prototype.aa=function(){this.D=null;const e=Date.now();e-this.T>=0?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.B),2!=this.M&&(ye(),be(17)),Be(this),this.m=2,ze(this)):je(this,this.T-e)};var qe=class{constructor(e,t){this.g=e,this.map=t}};function We(e){this.l=e||10,o.PerformanceNavigationTiming?e=(e=o.performance.getEntriesByType("navigation")).length>0&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ke(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Ge(e){return e.h?1:e.g?e.g.size:0}function Qe(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Ye(e,t){e.g?e.g.add(t):e.h=t}function Xe(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function $e(e){if(null!=e.h)return e.i.concat(e.h.G);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.G);return t}return d(e.i)}We.prototype.cancel=function(){if(this.i=$e(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var Je=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ze(e){let t;this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1,e instanceof Ze?(this.l=e.l,tt(this,e.j),this.o=e.o,this.g=e.g,nt(this,e.u),this.h=e.h,rt(this,wt(e.i)),this.m=e.m):e&&(t=String(e).match(Je))?(this.l=!1,tt(this,t[1]||"",!0),this.o=st(t[2]||""),this.g=st(t[3]||"",!0),nt(this,t[4]),this.h=st(t[5]||"",!0),rt(this,t[6]||"",!0),this.m=st(t[7]||"")):(this.l=!1,this.i=new pt(null,this.l))}function et(e){return new Ze(e)}function tt(e,t,n){e.j=n?st(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function nt(e,t){if(t){if(t=Number(t),isNaN(t)||t<0)throw Error("Bad port number "+t);e.u=t}else e.u=null}function rt(e,t,n){t instanceof pt?(e.i=t,function(e,t){t&&!e.j&&(mt(e),e.i=null,e.g.forEach(function(e,t){const n=t.toLowerCase();t!=n&&(gt(this,t),bt(this,n,e))},e)),e.j=t}(e.i,e.l)):(n||(t=at(t,dt)),e.i=new pt(t,e.l))}function it(e,t,n){e.i.set(t,n)}function ot(e){return it(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function st(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function at(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,lt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function lt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Ze.prototype.toString=function(){const e=[];var t=this.j;t&&e.push(at(t,ut,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(at(t,ut,!0),"@"),e.push(Ie(n).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.u)&&e.push(":",String(n))),(n=this.h)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(at(n,"/"==n.charAt(0)?ht:ct,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",at(n,ft)),e.join("")},Ze.prototype.resolve=function(e){const t=et(this);let n=!!e.j;n?tt(t,e.j):n=!!e.o,n?t.o=e.o:n=!!e.g,n?t.g=e.g:n=null!=e.u;var r=e.h;if(n)nt(t,e.u);else if(n=!!e.h){if("/"!=r.charAt(0))if(this.g&&!this.h)r="/"+r;else{var i=t.h.lastIndexOf("/");-1!=i&&(r=t.h.slice(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(-1!=i.indexOf("./")||-1!=i.indexOf("/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");const e=[];for(let t=0;t<i.length;){const n=i[t++];"."==n?r&&t==i.length&&e.push(""):".."==n?((e.length>1||1==e.length&&""!=e[0])&&e.pop(),r&&t==i.length&&e.push("")):(e.push(n),r=!0)}r=e.join("/")}else r=i}return n?t.h=r:n=""!==e.i.toString(),n?rt(t,wt(e.i)):n=!!e.m,n&&(t.m=e.m),t};var ut=/[#\/\?@]/g,ct=/[#\?:]/g,ht=/[#\?]/g,dt=/[#\?@]/g,ft=/#/g;function pt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function mt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(let n=0;n<e.length;n++){const r=e[n].indexOf("=");let i,o=null;r>=0?(i=e[n].substring(0,r),o=e[n].substring(r+1)):i=e[n],t(i,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function gt(e,t){mt(e),t=St(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function yt(e,t){return mt(e),t=St(e,t),e.g.has(t)}function vt(e,t){mt(e);let n=[];if("string"===typeof t)yt(e,t)&&(n=n.concat(e.g.get(St(e,t))));else for(e=Array.from(e.g.values()),t=0;t<e.length;t++)n=n.concat(e[t]);return n}function bt(e,t,n){gt(e,t),n.length>0&&(e.i=null,e.g.set(St(e,t),d(n)),e.h+=n.length)}function wt(e){const t=new pt;return t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),t}function St(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Et(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(o){}}function xt(){this.g=new ae}function Tt(e){this.i=e.Sb||null,this.h=e.ab||!1}function kt(e,t){$.call(this),this.H=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}function _t(e){e.j.read().then(e.Ma.bind(e)).catch(e.ga.bind(e))}function Ct(e){e.readyState=4,e.l=null,e.j=null,e.B=null,It(e)}function It(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function At(e){let t="";return D(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function Pt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=At(n),"string"===typeof e?null!=n&&Ie(n):it(e,t,n))}function Nt(e){$.call(this),this.headers=new Map,this.L=e||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}(e=pt.prototype).add=function(e,t){mt(this),this.i=null,e=St(this,e);let n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){mt(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.set=function(e,t){return mt(this),this.i=null,yt(this,e=St(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&(e=vt(this,e)).length>0?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(let r=0;r<t.length;r++){var n=t[r];const i=Ie(n);n=vt(this,n);for(let t=0;t<n.length;t++){let r=i;""!==n[t]&&(r+="="+Ie(n[t])),e.push(r)}}return this.i=e.join("&")},c(Tt,le),Tt.prototype.g=function(){return new kt(this.i,this.h)},c(kt,$),(e=kt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.F=e,this.D=t,this.readyState=1,It(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const t={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};e&&(t.body=e),(this.H||o).fetch(new Request(this.D,t)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&4!=this.readyState&&(this.g=!1,Ct(this)),this.readyState=0},e.Pa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,It(this)),this.g&&(this.readyState=3,It(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if("undefined"!==typeof o.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;_t(this)}else e.text().then(this.Oa.bind(this),this.ga.bind(this))},e.Ma=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.B.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ct(this):It(this),3==this.readyState&&_t(this)}},e.Oa=function(e){this.g&&(this.response=this.responseText=e,Ct(this))},e.Na=function(e){this.g&&(this.response=e,Ct(this))},e.ga=function(){this.g&&Ct(this)},e.setRequestHeader=function(e,t){this.A.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(kt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),c(Nt,$);var Dt=/^https?$/i,Rt=["POST","PUT"];function Ft(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.o=5,Ot(e),Mt(e)}function Ot(e){e.A||(e.A=!0,J(e,"complete"),J(e,"error"))}function Lt(e){if(e.h&&"undefined"!=typeof i)if(e.v&&4==Vt(e))setTimeout(e.Ca.bind(e),0);else if(J(e,"readystatechange"),4==Vt(e)){e.h=!1;try{const i=e.ca();e:switch(i){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===i){let t=String(e.D).match(Je)[1]||null;!t&&o.self&&o.self.location&&(t=o.self.location.protocol.slice(0,-1)),r=!Dt.test(t?t.toLowerCase():"")}n=r}if(n)J(e,"complete"),J(e,"success");else{e.o=6;try{var s=Vt(e)>2?e.g.statusText:""}catch(a){s=""}e.l=s+" ["+e.ca()+"]",Ot(e)}}finally{Mt(e)}}}function Mt(e,t){if(e.g){e.m&&(clearTimeout(e.m),e.m=null);const r=e.g;e.g=null,t||J(e,"ready");try{r.onreadystatechange=null}catch(n){}}}function Vt(e){return e.g?e.g.readyState:0}function jt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.F){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Ut(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function zt(e){this.za=0,this.i=[],this.j=new Ee,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ut("failFast",!1,e),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ut("baseRetryDelayMs",5e3,e),this.Za=Ut("retryDelaySeedMs",1e4,e),this.Ta=Ut("forwardChannelMaxRetries",2,e),this.va=Ut("forwardChannelRequestTimeoutMs",2e4,e),this.ma=e&&e.xmlHttpFactory||void 0,this.Ua=e&&e.Rb||void 0,this.Aa=e&&e.useFetchStreams||!1,this.O=void 0,this.L=e&&e.supportsCrossDomainXhr||!1,this.M="",this.h=new We(e&&e.concurrentRequestLimit),this.Ba=new xt,this.S=e&&e.fastHandshake||!1,this.R=e&&e.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=e&&e.Pb||!1,e&&e.ua&&this.j.ua(),e&&e.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&e&&e.detectBufferingProxy||!1,this.ia=void 0,e&&e.longPollingTimeout&&e.longPollingTimeout>0&&(this.ia=e.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}function Bt(e){if(qt(e),3==e.I){var t=e.V++,n=et(e.J);if(it(n,"SID",e.M),it(n,"RID",t),it(n,"TYPE","terminate"),Gt(e,n),(t=new Pe(e,e.j,t)).M=2,t.A=ot(et(n)),n=!1,o.navigator&&o.navigator.sendBeacon)try{n=o.navigator.sendBeacon(t.A.toString(),"")}catch(r){}!n&&o.Image&&((new Image).src=t.A,n=!0),n||(t.g=sn(t.j,null),t.g.ea(t.A)),t.F=Date.now(),Ve(t)}rn(e)}function Ht(e){e.g&&($t(e),e.g.cancel(),e.g=null)}function qt(e){Ht(e),e.v&&(o.clearTimeout(e.v),e.v=null),Zt(e),e.h.cancel(),e.m&&("number"===typeof e.m&&o.clearTimeout(e.m),e.m=null)}function Wt(e){if(!Ke(e.h)&&!e.m){e.m=!0;var t=e.Ea;v||S(),b||(v(),b=!0),w.add(t,e),e.D=0}}function Kt(e,t){var n;n=t?t.l:e.V++;const r=et(e.J);it(r,"SID",e.M),it(r,"RID",n),it(r,"AID",e.K),Gt(e,r),e.u&&e.o&&Pt(r,e.u,e.o),n=new Pe(e,e.j,n,e.D+1),null===e.u&&(n.J=e.o),t&&(e.i=t.G.concat(e.i)),t=Qt(e,n,1e3),n.H=Math.round(.5*e.va)+Math.round(.5*e.va*Math.random()),Ye(e.h,n),Fe(n,r,t)}function Gt(e,t){e.H&&D(e.H,function(e,n){it(t,n,e)}),e.l&&D({},function(e,n){it(t,n,e)})}function Qt(e,t,n){n=Math.min(e.i.length,n);const r=e.l?l(e.l.Ka,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?n>0?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let l=!0;for(let u=0;u<n;u++){var o=i[u].g;const n=i[u].map;if((o-=t)<0)t=Math.max(0,i[u].g-100),l=!1;else try{o="req"+o+"_"||0;try{var a=n instanceof Map?n:Object.entries(n);for(const[t,n]of a){let r=n;s(n)&&(r=oe(n)),e.push(o+t+"="+encodeURIComponent(r))}}catch(qr){throw e.push(o+"type="+encodeURIComponent("_badmap")),qr}}catch(qr){r&&r(n)}}if(l){a=e.join("&");break e}}a=void 0}return e=e.i.splice(0,n),t.G=e,a}function Yt(e){if(!e.g&&!e.v){e.Y=1;var t=e.Da;v||S(),b||(v(),b=!0),w.add(t,e),e.A=0}}function Xt(e){return!(e.g||e.v||e.A>=3)&&(e.Y++,e.v=Se(l(e.Da,e),tn(e,e.A)),e.A++,!0)}function $t(e){null!=e.B&&(o.clearTimeout(e.B),e.B=null)}function Jt(e){e.g=new Pe(e,e.j,"rpc",e.Y),null===e.u&&(e.g.J=e.o),e.g.P=0;var t=et(e.na);it(t,"RID","rpc"),it(t,"SID",e.M),it(t,"AID",e.K),it(t,"CI",e.F?"0":"1"),!e.F&&e.ia&&it(t,"TO",e.ia),it(t,"TYPE","xmlhttp"),Gt(e,t),e.u&&e.o&&Pt(t,e.u,e.o),e.O&&(e.g.H=e.O);var n=e.g;e=e.ba,n.M=1,n.A=ot(et(t)),n.u=null,n.R=!0,Oe(n,e)}function Zt(e){null!=e.C&&(o.clearTimeout(e.C),e.C=null)}function en(e,t){var n=null;if(e.g==t){Zt(e),$t(e),e.g=null;var r=2}else{if(!Qe(e.h,t))return;n=t.G,Xe(e.h,t),r=1}if(0!=e.I)if(t.o)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.F;var i=e.D;J(r=me(),new we(r,n)),Wt(e)}else Yt(e);else if(3==(i=t.m)||0==i&&t.X>0||!(1==r&&function(e,t){return!(Ge(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.G.concat(e.i),!0):!(1==e.I||2==e.I||e.D>=(e.Sa?0:e.Ta))&&(e.m=Se(l(e.Ea,e,t),tn(e,e.D)),e.D++,!0))}(e,t)||2==r&&Xt(e)))switch(n&&n.length>0&&(t=e.h,t.i=t.i.concat(n)),i){case 1:nn(e,5);break;case 4:nn(e,10);break;case 3:nn(e,6);break;default:nn(e,2)}}function tn(e,t){let n=e.Qa+Math.floor(Math.random()*e.Za);return e.isActive()||(n*=2),n*t}function nn(e,t){if(e.j.info("Error code "+t),2==t){var n=l(e.bb,e),r=e.Ua;const t=!r;r=new Ze(r||"//www.google.com/images/cleardot.gif"),o.location&&"http"==o.location.protocol||tt(r,"https"),ot(r),t?function(e,t){const n=new Ee;if(o.Image){const r=new Image;r.onload=u(Et,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(Et,n,"TestLoadImage: error",!1,t,r),r.onabort=u(Et,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(Et,n,"TestLoadImage: timeout",!1,t,r),o.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Ee;const n=new AbortController,r=setTimeout(()=>{n.abort(),Et(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(r),e.ok?Et(0,0,!0,t):Et(0,0,!1,t)}).catch(()=>{clearTimeout(r),Et(0,0,!1,t)})}(r.toString(),n)}else be(2);e.I=0,e.l&&e.l.pa(t),rn(e),qt(e)}function rn(e){if(e.I=0,e.ja=[],e.l){const t=$e(e.h);0==t.length&&0==e.i.length||(f(e.ja,t),f(e.ja,e.i),e.h.i.length=0,d(e.i),e.i.length=0),e.l.oa()}}function on(e,t,n){var r=n instanceof Ze?et(n):new Ze(n);if(""!=r.g)t&&(r.g=t+"."+r.g),nt(r,r.u);else{var i=o.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;const e=new Ze(null);r&&tt(e,r),t&&(e.g=t),i&&nt(e,i),n&&(e.h=n),r=e}return n=e.G,t=e.wa,n&&t&&it(r,n,t),it(r,"VER",e.ka),Gt(e,r),r}function sn(e,t,n){if(t&&!e.L)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Aa&&!e.ma?new Nt(new Tt({ab:n})):new Nt(e.ma)).Fa(e.L),t}function an(){}function ln(){}function un(e,t){$.call(this),this.g=new zt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.sa&&(e?e["X-WebChannel-Client-Profile"]=t.sa:e={"X-WebChannel-Client-Profile":t.sa}),this.g.U=e,(e=t&&t.Qb)&&!_(e)&&(this.g.u=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!_(t)&&(this.g.G=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new dn(this)}function cn(e){he.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function hn(){de.call(this),this.status=1}function dn(e){this.g=e}(e=Nt.prototype).Fa=function(e){this.H=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Te.g(),this.g.onreadystatechange=h(l(this.Ca,this));try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(s){return void Ft(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),i=o.FormData&&e instanceof o.FormData,!(Array.prototype.indexOf.call(Rt,t,void 0)>=0)||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,a]of n)this.g.setRequestHeader(o,a);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(e),this.v=!1}catch(s){Ft(this,s)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=e||7,J(this,"complete"),J(this,"abort"),Mt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Mt(this,!0)),Nt.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?Lt(this):this.Xa())},e.Xa=function(){Lt(this)},e.isActive=function(){return!!this.g},e.ca=function(){try{return Vt(this)>2?this.g.status:-1}catch(e){return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},e.La=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),se(t)}},e.ya=function(){return this.o},e.Ha=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=zt.prototype).ka=8,e.I=1,e.connect=function(e,t,n,r){be(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.J=on(this,null,this.W),Wt(this)},e.Ea=function(e){if(this.m)if(this.m=null,1==this.I){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;const i=new Pe(this,this.j,e);let o=this.o;if(this.U&&(o?(o=R(o),O(o,this.U)):o=this.U),null!==this.u||this.R||(i.J=o,o=null),this.S)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if((t+=r)>4096){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Qt(this,i,t),it(n=et(this.J),"RID",e),it(n,"CVER",22),this.G&&it(n,"X-HTTP-Session-Id",this.G),Gt(this,n),o&&(this.R?t="headers="+Ie(At(o))+"&"+t:this.u&&Pt(n,this.u,o)),Ye(this.h,i),this.Ra&&it(n,"TYPE","init"),this.S?(it(n,"$req",t),it(n,"SID","null"),i.U=!0,Fe(i,n,null)):Fe(i,n,t),this.I=2}}else 3==this.I&&(e?Kt(this,e):0==this.i.length||Ke(this.h)||Kt(this))},e.Da=function(){if(this.v=null,Jt(this),this.aa&&!(this.P||null==this.g||this.T<=0)){var e=4*this.T;this.j.info("BP detection timer enabled: "+e),this.B=Se(l(this.Wa,this),e)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,be(10),Ht(this),Jt(this))},e.Va=function(){null!=this.C&&(this.C=null,Ht(this),Xt(this),be(19))},e.bb=function(e){e?(this.j.info("Successfully pinged google.com"),be(2)):(this.j.info("Failed to ping google.com"),be(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=an.prototype).ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){},ln.prototype.g=function(e,t){return new un(e,t)},c(un,$),un.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){Bt(this.g)},un.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=oe(e),e=n);t.i.push(new qe(t.Ya++,e)),3==t.I&&Wt(t)},un.prototype.N=function(){this.g.l=null,delete this.j,Bt(this.g),delete this.g,un.Z.N.call(this)},c(cn,he),c(hn,de),c(dn,an),dn.prototype.ra=function(){J(this.g,"a")},dn.prototype.qa=function(e){J(this.g,new cn(e))},dn.prototype.pa=function(e){J(this.g,new hn)},dn.prototype.oa=function(){J(this.g,"b")},ln.prototype.createWebChannel=ln.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,Ur=Br.createWebChannelTransport=function(){return new ln},jr=Br.getStatEventTarget=function(){return me()},Vr=Br.Event=fe,Mr=Br.Stat={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ke.NO_ERROR=0,ke.TIMEOUT=8,ke.HTTP_ERROR=6,Lr=Br.ErrorCode=ke,_e.COMPLETE="complete",Or=Br.EventType=_e,ue.EventType=ce,ce.OPEN="a",ce.CLOSE="b",ce.ERROR="c",ce.MESSAGE="d",$.prototype.listen=$.prototype.J,Fr=Br.WebChannel=ue,Br.FetchXmlHttpFactory=Tt,Nt.prototype.listenOnce=Nt.prototype.K,Nt.prototype.getLastError=Nt.prototype.Ha,Nt.prototype.getLastErrorCode=Nt.prototype.ya,Nt.prototype.getStatus=Nt.prototype.ca,Nt.prototype.getResponseJson=Nt.prototype.La,Nt.prototype.getResponseText=Nt.prototype.la,Nt.prototype.send=Nt.prototype.ea,Nt.prototype.setWithCredentials=Nt.prototype.Fa,Rr=Br.XhrIo=Nt}).apply("undefined"!==typeof zr?zr:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const Hr="@firebase/firestore",qr="4.9.2";class Wr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wr.UNAUTHENTICATED=new Wr(null),Wr.GOOGLE_CREDENTIALS=new Wr("google-credentials-uid"),Wr.FIRST_PARTY=new Wr("first-party-uid"),Wr.MOCK_USER=new Wr("mock-user");let Kr="12.3.0";const Gr=new hn("@firebase/firestore");function Qr(){return Gr.logLevel}function Yr(e){if(Gr.logLevel<=sn.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Jr);Gr.debug("Firestore (".concat(Kr,"): ").concat(e),...i)}}function Xr(e){if(Gr.logLevel<=sn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Jr);Gr.error("Firestore (".concat(Kr,"): ").concat(e),...i)}}function $r(e){if(Gr.logLevel<=sn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Jr);Gr.warn("Firestore (".concat(Kr,"): ").concat(e),...i)}}function Jr(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function Zr(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,ei(e,r,n)}function ei(e,t,n){let r="FIRESTORE (".concat(Kr,") INTERNAL ASSERTION FAILED: ").concat(t," (ID: ").concat(e.toString(16),")");if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw Xr(r),new Error(r)}function ti(e,t,n,r){let i="Unexpected state";"string"==typeof n?i=n:r=n,e||ei(t,i,r)}function ni(e,t){return e}const ri={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ii extends Ht{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class oi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class si{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class ai{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Wr.UNAUTHENTICATED))}shutdown(){}}class li{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class ui{constructor(e){this.t=e,this.currentUser=Wr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ti(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new oi;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new oi,e.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},s=e=>{Yr("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(e=>s(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(Yr("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new oi)}},0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(Yr("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(ti("string"==typeof t.accessToken,31837,{l:t}),new si(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ti(null===e||"string"==typeof e,2055,{h:e}),new Wr(e)}}class ci{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=Wr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class hi{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new ci(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Wr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class di{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class fi{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,dr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){ti(void 0===this.o,3512);const n=e=>{null!=e.error&&Yr("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.m;return this.m=e.token,Yr("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{Yr("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):Yr("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new di(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(ti("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new di(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function pi(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class mi{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=pi(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function gi(e,t){return e<t?-1:e>t?1:0}function yi(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.charAt(r),i=t.charAt(r);if(n!==i)return wi(n)===wi(i)?gi(n,i):wi(n)?1:-1}return gi(e.length,t.length)}const vi=55296,bi=57343;function wi(e){const t=e.charCodeAt(0);return t>=vi&&t<=bi}function Si(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}const Ei="__name__";class xi{constructor(e,t,n){void 0===t?t=0:t>e.length&&Zr(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&Zr(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===xi.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof xi?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=xi.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return gi(e.length,t.length)}static compareSegments(e,t){const n=xi.isNumericId(e),r=xi.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?xi.extractNumericId(e).compare(xi.extractNumericId(t)):yi(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ar.fromString(e.substring(4,e.length-2))}}class Ti extends xi{construct(e,t,n){return new Ti(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new ii(ri.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter(e=>e.length>0))}return new Ti(e)}static emptyPath(){return new Ti([])}}const ki=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _i extends xi{construct(e,t,n){return new _i(e,t,n)}static isValidIdentifier(e){return ki.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_i.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===Ei}static keyField(){return new _i([Ei])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new ii(ri.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new ii(ri.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new ii(ri.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new ii(ri.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new _i(t)}static emptyPath(){return new _i([])}}class Ci{constructor(e){this.path=e}static fromPath(e){return new Ci(Ti.fromString(e))}static fromName(e){return new Ci(Ti.fromString(e).popFirst(5))}static empty(){return new Ci(Ti.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Ti.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Ti.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ci(new Ti(e.slice()))}}function Ii(e,t,n){if(!n)throw new ii(ri.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Ai(e){if(!Ci.isDocumentKey(e))throw new ii(ri.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Pi(e){if(Ci.isDocumentKey(e))throw new ii(ri.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Ni(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function Di(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":Zr(12329,{type:typeof e})}function Ri(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ii(ri.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Di(e);throw new ii(ri.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function Fi(e,t){if(t<=0)throw new ii(ri.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}function Oi(e,t){const n={typeString:e};return t&&(n.value=t),n}function Li(e,t){if(!Ni(e))throw new ii(ri.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const i=t[r].typeString,o="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n="JSON missing required field: '".concat(r,"'");break}const s=e[r];if(i&&typeof s!==i){n="JSON field '".concat(r,"' must be a ").concat(i,".");break}if(void 0!==o&&s!==o.value){n="Expected '".concat(r,"' field to equal '").concat(o.value,"'");break}}if(n)throw new ii(ri.INVALID_ARGUMENT,n);return!0}const Mi=-62135596800,Vi=1e6;class ji{static now(){return ji.fromMillis(Date.now())}static fromDate(e){return ji.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*Vi);return new ji(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ii(ri.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ii(ri.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Mi)throw new ii(ri.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ii(ri.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Vi}_compareTo(e){return this.seconds===e.seconds?gi(this.nanoseconds,e.nanoseconds):gi(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ji._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Li(e,ji._jsonSchema))return new ji(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Mi;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ji._jsonSchemaVersion="firestore/timestamp/1.0",ji._jsonSchema={type:Oi("string",ji._jsonSchemaVersion),seconds:Oi("number"),nanoseconds:Oi("number")};class Ui{static fromTimestamp(e){return new Ui(e)}static min(){return new Ui(new ji(0,0))}static max(){return new Ui(new ji(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const zi=-1;class Bi{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}Bi.UNKNOWN_ID=-1;function Hi(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Ui.fromTimestamp(1e9===r?new ji(n+1,0):new ji(n,r));return new Wi(i,Ci.empty(),t)}function qi(e){return new Wi(e.readTime,e.key,zi)}class Wi{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Wi(Ui.min(),Ci.empty(),zi)}static max(){return new Wi(Ui.max(),Ci.empty(),zi)}}function Ki(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Ci.comparator(e.documentKey,t.documentKey),0!==n?n:gi(e.largestBatchId,t.largestBatchId))}const Gi="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Qi{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function Yi(e){if(e.code!==ri.FAILED_PRECONDITION||e.message!==Gi)throw e;Yr("LocalStore","Unexpectedly lost primary lease")}class Xi{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Zr(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Xi((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Xi?t:Xi.resolve(t)}catch(e){return Xi.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Xi.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Xi.reject(t)}static resolve(e){return new Xi((t,n)=>{t(e)})}static reject(e){return new Xi((t,n)=>{n(e)})}static waitFor(e){return new Xi((t,n)=>{let r=0,i=0,o=!1;e.forEach(e=>{++r,e.next(()=>{++i,o&&i===r&&t()},e=>n(e))}),o=!0,i===r&&t()})}static or(e){let t=Xi.resolve(!1);for(const n of e)t=t.next(e=>e?Xi.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new Xi((n,r)=>{const i=e.length,o=new Array(i);let s=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next(e=>{o[l]=e,++s,s===i&&n(o)},e=>r(e))}})}static doWhile(e,t){return new Xi((n,r)=>{const i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}function $i(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ji(e){return"IndexedDbTransactionError"===e.name}class Zi{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ae(e),this.ue=e=>t.writeSequenceNumber(e))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Zi.ce=-1;const eo=-1;function to(e){return null==e}function no(e){return 0===e&&1/e==-1/0}function ro(e){return"number"==typeof e&&Number.isInteger(e)&&!no(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const io="\x01";function oo(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=ao(t)),t=so(e.get(n),t);return ao(t)}function so(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case io:n+="\x01\x11";break;default:n+=t}}return n}function ao(e){return e+io+"\x01"}const lo="remoteDocuments",uo="owner",co="mutationQueues",ho="mutations";const fo="documentMutations",po="remoteDocumentsV14",mo="remoteDocumentGlobal",go="targets",yo="targetDocuments",vo="targetGlobal",bo="collectionParents",wo="clientMetadata",So="bundles",Eo="namedQueries",xo="indexConfiguration",To="indexState",ko="indexEntries",_o="documentOverlays",Co="globals",Io=[co,ho,fo,lo,go,uo,vo,yo,wo,mo,bo,So,Eo],Ao=[co,ho,fo,po,go,uo,vo,yo,wo,mo,bo,So,Eo,_o],Po=Ao,No=[...Po,xo,To,ko];function Do(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ro(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Fo(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Oo{constructor(e,t){this.comparator=e,this.root=t||Mo.EMPTY}insert(e,t){return new Oo(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Mo.BLACK,null,null))}remove(e){return new Oo(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Mo.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push("".concat(t,":").concat(n)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Lo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Lo(this.root,e,this.comparator,!1)}getReverseIterator(){return new Lo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Lo(this.root,e,this.comparator,!0)}}class Lo{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Mo{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Mo.RED,this.left=null!=r?r:Mo.EMPTY,this.right=null!=i?i:Mo.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Mo(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Mo.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Mo.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Mo.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Mo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Zr(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Zr(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Zr(27949);return e+(this.isRed()?0:1)}}Mo.EMPTY=null,Mo.RED=!0,Mo.BLACK=!1,Mo.EMPTY=new class{constructor(){this.size=0}get key(){throw Zr(57766)}get value(){throw Zr(16141)}get color(){throw Zr(16727)}get left(){throw Zr(29726)}get right(){throw Zr(36894)}copy(e,t,n,r,i){return this}insert(e,t,n){return new Mo(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Vo{constructor(e){this.comparator=e,this.data=new Oo(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new jo(this.data.getIterator())}getIteratorFrom(e){return new jo(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof Vo))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Vo(this.comparator);return t.data=e,t}}class jo{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Uo{constructor(e){this.fields=e,e.sort(_i.comparator)}static empty(){return new Uo([])}unionWith(e){let t=new Vo(_i.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Uo(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Si(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class zo extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Bo{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new zo("Invalid base64 string: "+e):e}}(e);return new Bo(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Bo(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return gi(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Bo.EMPTY_BYTE_STRING=new Bo("");const Ho=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qo(e){if(ti(!!e,39018),"string"==typeof e){let t=0;const n=Ho.exec(e);if(ti(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Wo(e.seconds),nanos:Wo(e.nanos)}}function Wo(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Ko(e){return"string"==typeof e?Bo.fromBase64String(e):Bo.fromUint8Array(e)}const Go="server_timestamp",Qo="__type__",Yo="__previous_value__",Xo="__local_write_time__";function $o(e){var t,n;return(null===(t=((null===e||void 0===e||null===(n=e.mapValue)||void 0===n?void 0:n.fields)||{})[Qo])||void 0===t?void 0:t.stringValue)===Go}function Jo(e){const t=e.mapValue.fields[Yo];return $o(t)?Jo(t):t}function Zo(e){const t=qo(e.mapValue.fields[Xo].timestampValue);return new ji(t.seconds,t.nanos)}class es{constructor(e,t,n,r,i,o,s,a,l,u){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=a,this.useFetchStreams=l,this.isUsingEmulator=u}}const ts="(default)";class ns{constructor(e,t){this.projectId=e,this.database=t||ts}static empty(){return new ns("","")}get isDefaultDatabase(){return this.database===ts}isEqual(e){return e instanceof ns&&e.projectId===this.projectId&&e.database===this.database}}const rs="__type__",is="__max__",os={mapValue:{fields:{__type__:{stringValue:is}}}},ss="__vector__",as="value";function ls(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?$o(e)?4:ks(e)?9007199254740991:xs(e)?10:11:Zr(28295,{value:e})}function us(e,t){if(e===t)return!0;const n=ls(e);if(n!==ls(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Zo(e).isEqual(Zo(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=qo(e.timestampValue),r=qo(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Ko(e.bytesValue).isEqual(Ko(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Wo(e.geoPointValue.latitude)===Wo(t.geoPointValue.latitude)&&Wo(e.geoPointValue.longitude)===Wo(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Wo(e.integerValue)===Wo(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Wo(e.doubleValue),r=Wo(t.doubleValue);return n===r?no(n)===no(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Si(e.arrayValue.values||[],t.arrayValue.values||[],us);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Do(n)!==Do(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!us(n[i],r[i])))return!1;return!0}(e,t);default:return Zr(52216,{left:e})}}function cs(e,t){return void 0!==(e.values||[]).find(e=>us(e,t))}function hs(e,t){if(e===t)return 0;const n=ls(e),r=ls(t);if(n!==r)return gi(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return gi(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Wo(e.integerValue||e.doubleValue),r=Wo(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return ds(e.timestampValue,t.timestampValue);case 4:return ds(Zo(e),Zo(t));case 5:return yi(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Ko(e),r=Ko(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=gi(n[i],r[i]);if(0!==e)return e}return gi(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=gi(Wo(e.latitude),Wo(t.latitude));return 0!==n?n:gi(Wo(e.longitude),Wo(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return fs(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,o;const s=e.fields||{},a=t.fields||{},l=null===(n=s[as])||void 0===n?void 0:n.arrayValue,u=null===(r=a[as])||void 0===r?void 0:r.arrayValue,c=gi((null===l||void 0===l||null===(i=l.values)||void 0===i?void 0:i.length)||0,(null===u||void 0===u||null===(o=u.values)||void 0===o?void 0:o.length)||0);return 0!==c?c:fs(l,u)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===os.mapValue&&t===os.mapValue)return 0;if(e===os.mapValue)return 1;if(t===os.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let s=0;s<r.length&&s<o.length;++s){const e=yi(r[s],o[s]);if(0!==e)return e;const t=hs(n[r[s]],i[o[s]]);if(0!==t)return t}return gi(r.length,o.length)}(e.mapValue,t.mapValue);default:throw Zr(23264,{he:n})}}function ds(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return gi(e,t);const n=qo(e),r=qo(t),i=gi(n.seconds,r.seconds);return 0!==i?i:gi(n.nanos,r.nanos)}function fs(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=hs(n[i],r[i]);if(e)return e}return gi(n.length,r.length)}function ps(e){return ms(e)}function ms(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=qo(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Ko(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Ci.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=ms(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(ms(e.fields[i]));return n+"}"}(e.mapValue):Zr(61005,{value:e})}function gs(e){switch(ls(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Jo(e);return t?16+gs(t):16;case 5:return 2*e.stringValue.length;case 6:return Ko(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce((e,t)=>e+gs(t),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return Ro(e.fields,(e,n)=>{t+=e.length+gs(n)}),t}(e.mapValue);default:throw Zr(13486,{value:e})}}function ys(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function vs(e){return!!e&&"integerValue"in e}function bs(e){return!!e&&"arrayValue"in e}function ws(e){return!!e&&"nullValue"in e}function Ss(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Es(e){return!!e&&"mapValue"in e}function xs(e){var t,n;return(null===(t=((null===e||void 0===e||null===(n=e.mapValue)||void 0===n?void 0:n.fields)||{})[rs])||void 0===t?void 0:t.stringValue)===ss}function Ts(e){if(e.geoPointValue)return{geoPointValue:c({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:c({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Ro(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=Ts(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Ts(e.arrayValue.values[n]);return t}return c({},e)}function ks(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===is}class _s{constructor(e){this.value=e}static empty(){return new _s({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Es(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ts(t)}setAll(e){let t=_i.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Ts(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Es(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return us(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Es(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Ro(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new _s(Ts(this.value))}}function Cs(e){const t=[];return Ro(e.fields,(e,n)=>{const r=new _i([e]);if(Es(n)){const e=Cs(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new Uo(t)}class Is{constructor(e,t,n,r,i,o,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=s}static newInvalidDocument(e){return new Is(e,0,Ui.min(),Ui.min(),Ui.min(),_s.empty(),0)}static newFoundDocument(e,t,n,r){return new Is(e,1,t,Ui.min(),n,r,0)}static newNoDocument(e,t){return new Is(e,2,t,Ui.min(),Ui.min(),_s.empty(),0)}static newUnknownDocument(e,t){return new Is(e,3,t,Ui.min(),Ui.min(),_s.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ui.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_s.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_s.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ui.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Is&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Is(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class As{constructor(e,t){this.position=e,this.inclusive=t}}function Ps(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],s=e.position[i];if(r=o.field.isKeyField()?Ci.comparator(Ci.fromName(s.referenceValue),n.key):hs(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function Ns(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!us(e.position[n],t.position[n]))return!1;return!0}class Ds{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Rs(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Fs{}class Os extends Fs{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Hs(e,t,n):"array-contains"===t?new Gs(e,n):"in"===t?new Qs(e,n):"not-in"===t?new Ys(e,n):"array-contains-any"===t?new Xs(e,n):new Os(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new qs(e,n):new Ws(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(hs(t,this.value)):null!==t&&ls(this.value)===ls(t)&&this.matchesComparison(hs(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Zr(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ls extends Fs{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Ls(e,t)}matches(e){return Ms(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.Pe||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Ms(e){return"and"===e.op}function Vs(e){return js(e)&&Ms(e)}function js(e){for(const t of e.filters)if(t instanceof Ls)return!1;return!0}function Us(e){if(e instanceof Os)return e.field.canonicalString()+e.op.toString()+ps(e.value);if(Vs(e))return e.filters.map(e=>Us(e)).join(",");{const t=e.filters.map(e=>Us(e)).join(",");return"".concat(e.op,"(").concat(t,")")}}function zs(e,t){return e instanceof Os?function(e,t){return t instanceof Os&&e.op===t.op&&e.field.isEqual(t.field)&&us(e.value,t.value)}(e,t):e instanceof Ls?function(e,t){return t instanceof Ls&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&zs(n,t.filters[r]),!0)}(e,t):void Zr(19439)}function Bs(e){return e instanceof Os?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(ps(e.value))}(e):e instanceof Ls?function(e){return e.op.toString()+" {"+e.getFilters().map(Bs).join(" ,")+"}"}(e):"Filter"}class Hs extends Os{constructor(e,t,n){super(e,t,n),this.key=Ci.fromName(n.referenceValue)}matches(e){const t=Ci.comparator(e.key,this.key);return this.matchesComparison(t)}}class qs extends Os{constructor(e,t){super(e,"in",t),this.keys=Ks("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Ws extends Os{constructor(e,t){super(e,"not-in",t),this.keys=Ks("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Ks(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>Ci.fromName(e.referenceValue))}class Gs extends Os{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return bs(t)&&cs(t.arrayValue,this.value)}}class Qs extends Os{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&cs(this.value.arrayValue,t)}}class Ys extends Os{constructor(e,t){super(e,"not-in",t)}matches(e){if(cs(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!cs(this.value.arrayValue,t)}}class Xs extends Os{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!bs(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>cs(this.value.arrayValue,e))}}class $s{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.Te=null}}function Js(e){return new $s(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Zs(e){const t=ni(e);if(null===t.Te){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>Us(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),to(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>ps(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>ps(e)).join(",")),t.Te=e}return t.Te}function ea(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Rs(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!zs(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Ns(e.startAt,t.startAt)&&Ns(e.endAt,t.endAt)}function ta(e){return Ci.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class na{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function ra(e,t,n,r,i,o,s,a){return new na(e,t,n,r,i,o,s,a)}function ia(e){return new na(e)}function oa(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function sa(e){return null!==e.collectionGroup}function aa(e){const t=ni(e);if(null===t.Ie){t.Ie=[];const e=new Set;for(const i of t.explicitOrderBy)t.Ie.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new Vo(_i.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);r.forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ie.push(new Ds(r,n))}),e.has(_i.keyField().canonicalString())||t.Ie.push(new Ds(_i.keyField(),n))}return t.Ie}function la(e){const t=ni(e);return t.Ee||(t.Ee=ua(t,aa(e))),t.Ee}function ua(e,t){if("F"===e.limitType)return Js(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new Ds(e.field,t)});const n=e.endAt?new As(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new As(e.startAt.position,e.startAt.inclusive):null;return Js(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function ca(e,t){const n=e.filters.concat([t]);return new na(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function ha(e,t,n){return new na(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function da(e,t){return ea(la(e),la(t))&&e.limitType===t.limitType}function fa(e){return"".concat(Zs(la(e)),"|lt:").concat(e.limitType)}function pa(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(e=>Bs(e)).join(", "),"]")),to(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>ps(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>ps(e)).join(",")),"Target(".concat(t,")")}(la(e)),"; limitType=").concat(e.limitType,")")}function ma(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Ci.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of aa(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Ps(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,aa(e),t))&&!(e.endAt&&!function(e,t,n){const r=Ps(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,aa(e),t))}(e,t)}function ga(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function ya(e){return(t,n)=>{let r=!1;for(const i of aa(e)){const e=va(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function va(e,t,n){const r=e.field.isKeyField()?Ci.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?hs(r,i):Zr(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Zr(19790,{direction:e.dir})}}class ba{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Ro(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return Fo(this.inner)}size(){return this.innerSize}}const wa=new Oo(Ci.comparator);function Sa(){return wa}const Ea=new Oo(Ci.comparator);function xa(){let e=Ea;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Ta(e){let t=Ea;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function ka(){return Ca()}function _a(){return Ca()}function Ca(){return new ba(e=>e.toString(),(e,t)=>e.isEqual(t))}const Ia=new Oo(Ci.comparator),Aa=new Vo(Ci.comparator);function Pa(){let e=Aa;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const Na=new Vo(gi);function Da(){return Na}function Ra(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:no(t)?"-0":t}}function Fa(e){return{integerValue:""+e}}function Oa(e,t){return ro(t)?Fa(t):Ra(e,t)}class La{constructor(){this._=void 0}}function Ma(e,t,n){return e instanceof Ua?function(e,t){const n={fields:{[Qo]:{stringValue:Go},[Xo]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&$o(t)&&(t=Jo(t)),t&&(n.fields[Yo]=t),{mapValue:n}}(n,t):e instanceof za?Ba(e,t):e instanceof Ha?qa(e,t):function(e,t){const n=ja(e,t),r=Ka(n)+Ka(e.Ae);return vs(n)&&vs(e.Ae)?Fa(r):Ra(e.serializer,r)}(e,t)}function Va(e,t,n){return e instanceof za?Ba(e,t):e instanceof Ha?qa(e,t):n}function ja(e,t){return e instanceof Wa?function(e){return vs(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class Ua extends La{}class za extends La{constructor(e){super(),this.elements=e}}function Ba(e,t){const n=Ga(t);for(const r of e.elements)n.some(e=>us(e,r))||n.push(r);return{arrayValue:{values:n}}}class Ha extends La{constructor(e){super(),this.elements=e}}function qa(e,t){let n=Ga(t);for(const r of e.elements)n=n.filter(e=>!us(e,r));return{arrayValue:{values:n}}}class Wa extends La{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Ka(e){return Wo(e.integerValue||e.doubleValue)}function Ga(e){return bs(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Qa{constructor(e,t){this.field=e,this.transform=t}}class Ya{constructor(e,t){this.version=e,this.transformResults=t}}class Xa{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Xa}static exists(e){return new Xa(void 0,e)}static updateTime(e){return new Xa(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $a(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Ja{}function Za(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new ul(e.key,Xa.none()):new il(e.key,e.data,Xa.none());{const n=e.data,r=_s.empty();let i=new Vo(_i.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new ol(e.key,r,new Uo(i.toArray()),Xa.none())}}function el(e,t,n){e instanceof il?function(e,t,n){const r=e.value.clone(),i=al(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof ol?function(e,t,n){if(!$a(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=al(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(sl(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function tl(e,t,n,r){return e instanceof il?function(e,t,n,r){if(!$a(e.precondition,t))return n;const i=e.value.clone(),o=ll(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof ol?function(e,t,n,r){if(!$a(e.precondition,t))return n;const i=ll(e.fieldTransforms,r,t),o=t.data;return o.setAll(sl(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return $a(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function nl(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=ja(r.transform,e||null);null!=i&&(null===n&&(n=_s.empty()),n.set(r.field,i))}return n||null}function rl(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Si(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof za&&t instanceof za||e instanceof Ha&&t instanceof Ha?Si(e.elements,t.elements,us):e instanceof Wa&&t instanceof Wa?us(e.Ae,t.Ae):e instanceof Ua&&t instanceof Ua}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class il extends Ja{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class ol extends Ja{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function sl(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function al(e,t,n){const r=new Map;ti(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let i=0;i<n.length;i++){const o=e[i],s=o.transform,a=t.data.field(o.field);r.set(o.field,Va(s,a,n[i]))}return r}function ll(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,Ma(e,o,t))}return r}class ul extends Ja{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class cl extends Ja{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class hl{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&el(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=tl(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=tl(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=_a();return this.mutations.forEach(r=>{const i=e.get(r.key),o=i.overlayedDocument;let s=this.applyToLocalView(o,i.mutatedFields);s=t.has(r.key)?null:s;const a=Za(o,s);null!==a&&n.set(r.key,a),o.isValidDocument()||o.convertToNoDocument(Ui.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Pa())}isEqual(e){return this.batchId===e.batchId&&Si(this.mutations,e.mutations,(e,t)=>rl(e,t))&&Si(this.baseMutations,e.baseMutations,(e,t)=>rl(e,t))}}class dl{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){ti(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let r=Ia;const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new dl(e,t,n,r)}}class fl{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class pl{constructor(e,t){this.count=e,this.unchangedNames=t}}var ml,gl;function yl(e){switch(e){case ri.OK:return Zr(64938);case ri.CANCELLED:case ri.UNKNOWN:case ri.DEADLINE_EXCEEDED:case ri.RESOURCE_EXHAUSTED:case ri.INTERNAL:case ri.UNAVAILABLE:case ri.UNAUTHENTICATED:return!1;case ri.INVALID_ARGUMENT:case ri.NOT_FOUND:case ri.ALREADY_EXISTS:case ri.PERMISSION_DENIED:case ri.FAILED_PRECONDITION:case ri.ABORTED:case ri.OUT_OF_RANGE:case ri.UNIMPLEMENTED:case ri.DATA_LOSS:return!0;default:return Zr(15467,{code:e})}}function vl(e){if(void 0===e)return Xr("GRPC error has no .code"),ri.UNKNOWN;switch(e){case ml.OK:return ri.OK;case ml.CANCELLED:return ri.CANCELLED;case ml.UNKNOWN:return ri.UNKNOWN;case ml.DEADLINE_EXCEEDED:return ri.DEADLINE_EXCEEDED;case ml.RESOURCE_EXHAUSTED:return ri.RESOURCE_EXHAUSTED;case ml.INTERNAL:return ri.INTERNAL;case ml.UNAVAILABLE:return ri.UNAVAILABLE;case ml.UNAUTHENTICATED:return ri.UNAUTHENTICATED;case ml.INVALID_ARGUMENT:return ri.INVALID_ARGUMENT;case ml.NOT_FOUND:return ri.NOT_FOUND;case ml.ALREADY_EXISTS:return ri.ALREADY_EXISTS;case ml.PERMISSION_DENIED:return ri.PERMISSION_DENIED;case ml.FAILED_PRECONDITION:return ri.FAILED_PRECONDITION;case ml.ABORTED:return ri.ABORTED;case ml.OUT_OF_RANGE:return ri.OUT_OF_RANGE;case ml.UNIMPLEMENTED:return ri.UNIMPLEMENTED;case ml.DATA_LOSS:return ri.DATA_LOSS;default:return Zr(39323,{code:e})}}(gl=ml||(ml={}))[gl.OK=0]="OK",gl[gl.CANCELLED=1]="CANCELLED",gl[gl.UNKNOWN=2]="UNKNOWN",gl[gl.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",gl[gl.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",gl[gl.NOT_FOUND=5]="NOT_FOUND",gl[gl.ALREADY_EXISTS=6]="ALREADY_EXISTS",gl[gl.PERMISSION_DENIED=7]="PERMISSION_DENIED",gl[gl.UNAUTHENTICATED=16]="UNAUTHENTICATED",gl[gl.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",gl[gl.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",gl[gl.ABORTED=10]="ABORTED",gl[gl.OUT_OF_RANGE=11]="OUT_OF_RANGE",gl[gl.UNIMPLEMENTED=12]="UNIMPLEMENTED",gl[gl.INTERNAL=13]="INTERNAL",gl[gl.UNAVAILABLE=14]="UNAVAILABLE",gl[gl.DATA_LOSS=15]="DATA_LOSS";let bl=null;function wl(){return new TextEncoder}const Sl=new Ar([4294967295,4294967295],0);function El(e){const t=wl().encode(e),n=new Pr;return n.update(t),new Uint8Array(n.digest())}function xl(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Ar([n,r],0),new Ar([i,o],0)]}class Tl{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new kl("Invalid padding: ".concat(t));if(n<0)throw new kl("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new kl("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new kl("Invalid padding when bitmap length is 0: ".concat(t));this.ge=8*e.length-t,this.pe=Ar.fromNumber(this.ge)}ye(e,t,n){let r=e.add(t.multiply(Ar.fromNumber(n)));return 1===r.compare(Sl)&&(r=new Ar([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.ge)return!1;const t=El(e),[n,r]=xl(t);for(let i=0;i<this.hashCount;i++){const e=this.ye(n,r,i);if(!this.we(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Tl(i,r,t);return n.forEach(e=>o.insert(e)),o}insert(e){if(0===this.ge)return;const t=El(e),[n,r]=xl(t);for(let i=0;i<this.hashCount;i++){const e=this.ye(n,r,i);this.Se(e)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class kl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class _l{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Cl.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new _l(Ui.min(),r,new Oo(gi),Sa(),Pa())}}class Cl{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Cl(n,t,Pa(),Pa(),Pa())}}class Il{constructor(e,t,n,r){this.be=e,this.removedTargetIds=t,this.key=n,this.De=r}}class Al{constructor(e,t){this.targetId=e,this.Ce=t}}class Pl{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Bo.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Nl{constructor(){this.ve=0,this.Fe=Fl(),this.Me=Bo.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return 0!==this.ve}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Pa(),t=Pa(),n=Pa();return this.Fe.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Zr(38017,{changeType:i})}}),new Cl(this.Me,this.xe,e,t,n)}qe(){this.Oe=!1,this.Fe=Fl()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ti(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Dl{constructor(e){this.Ge=e,this.ze=new Map,this.je=Sa(),this.Je=Rl(),this.He=Rl(),this.Ye=new Oo(gi)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:Zr(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((e,n)=>{this.rt(n)&&t(n)})}st(e){const t=e.targetId,n=e.Ce.count,r=this.ot(t);if(r){const o=r.target;if(ta(o))if(0===n){const e=new Ci(o.path);this.et(t,e,Is.newNoDocument(e,Ui.min()))}else ti(1===n,20013,{expectedCount:n});else{const r=this._t(t);if(r!==n){var i;const n=this.ut(e),o=n?this.ct(n,e,r):1;if(0!==o){this.it(t);const e=2===o?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,e)}null===(i=bl)||void 0===i||i.lt(function(e,t,n,r,i){var o,s,a,l,u;const c={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(c.bloomFilter={applied:0===i,hashCount:null!==(o=null===h||void 0===h?void 0:h.hashCount)&&void 0!==o?o:0,bitmapLength:null!==(s=null===h||void 0===h||null===(a=h.bits)||void 0===a||null===(a=a.bitmap)||void 0===a?void 0:a.length)&&void 0!==s?s:0,padding:null!==(l=null===h||void 0===h||null===(u=h.bits)||void 0===u?void 0:u.padding)&&void 0!==l?l:0,mightContain:e=>{var t;return null!==(t=null===r||void 0===r?void 0:r.mightContain(e))&&void 0!==t&&t}}),c}(r,e.Ce,this.Ge.ht(),n,o))}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let o,s;try{o=Ko(n).toUint8Array()}catch(e){if(e instanceof zo)return $r("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{s=new Tl(o,r,i)}catch(e){return $r(e instanceof kl?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===s.ge?null:s}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){const n=this.Ge.getRemoteKeysForTarget(t);let r=0;return n.forEach(n=>{const i=this.Ge.ht(),o="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(o)||(this.et(t,n,null),r++)}),r}Tt(e){const t=new Map;this.ze.forEach((n,r)=>{const i=this.ot(r);if(i){if(n.current&&ta(i.target)){const t=new Ci(i.target.path);this.It(t).has(r)||this.Et(r,t)||this.et(r,t,Is.newNoDocument(t,e))}n.Be&&(t.set(r,n.ke()),n.qe())}});let n=Pa();this.He.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.ot(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.je.forEach((t,n)=>n.setReadTime(e));const r=new _l(e,t,this.Ye,this.je,n);return this.je=Sa(),this.Je=Rl(),this.He=Rl(),this.Ye=new Oo(gi),r}Xe(e,t){if(!this.rt(e))return;const n=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,n),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,t)?r.Qe(t,1):r.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Nl,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Vo(gi),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Vo(gi),this.Je=this.Je.insert(e,t)),t}rt(e){const t=null!==this.ot(e);return t||Yr("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Nl),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Rl(){return new Oo(Ci.comparator)}function Fl(){return new Oo(Ci.comparator)}const Ol={asc:"ASCENDING",desc:"DESCENDING"},Ll={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ml={and:"AND",or:"OR"};class Vl{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function jl(e,t){return e.useProto3Json||to(t)?t:{value:t}}function Ul(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function zl(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Bl(e,t){return Ul(e,t.toTimestamp())}function Hl(e){return ti(!!e,49232),Ui.fromTimestamp(function(e){const t=qo(e);return new ji(t.seconds,t.nanos)}(e))}function ql(e,t){return Wl(e,t).canonicalString()}function Wl(e,t){const n=function(e){return new Ti(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function Kl(e){const t=Ti.fromString(e);return ti(du(t),10190,{key:t.toString()}),t}function Gl(e,t){return ql(e.databaseId,t.path)}function Ql(e,t){const n=Kl(t);if(n.get(1)!==e.databaseId.projectId)throw new ii(ri.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ii(ri.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Ci(Jl(n))}function Yl(e,t){return ql(e.databaseId,t)}function Xl(e){const t=Kl(e);return 4===t.length?Ti.emptyPath():Jl(t)}function $l(e){return new Ti(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Jl(e){return ti(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function Zl(e,t,n){return{name:Gl(e,t),fields:n.value.mapValue.fields}}function eu(e,t){let n;if(t instanceof il)n={update:Zl(e,t.key,t.value)};else if(t instanceof ul)n={delete:Gl(e,t.key)};else if(t instanceof ol)n={update:Zl(e,t.key,t.data),updateMask:hu(t.fieldMask)};else{if(!(t instanceof cl))return Zr(16599,{Vt:t.type});n={verify:Gl(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof Ua)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof za)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Ha)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Wa)return{fieldPath:t.field.canonicalString(),increment:n.Ae};throw Zr(20930,{transform:t.transform})}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Bl(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Zr(27497)}(e,t.precondition)),n}function tu(e,t){return{documents:[Yl(e,t.path)]}}function nu(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Yl(e,i);const o=function(e){if(0!==e.length)return cu(Ls.create(e,"and"))}(t.filters);o&&(n.structuredQuery.where=o);const s=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:lu(e.field),direction:ou(e.dir)}}(e))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const a=jl(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ft:n,parent:i}}function ru(e){let t=Xl(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ti(1===r,65062);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=iu(e);return t instanceof Ls&&Vs(t)?t.getFilters():[t]}(n.where));let s=[];n.orderBy&&(s=function(e){return e.map(e=>function(e){return new Ds(uu(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,to(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new As(n,t)}(n.startAt));let u=null;return n.endAt&&(u=function(e){const t=!e.before,n=e.values||[];return new As(n,t)}(n.endAt)),ra(t,i,s,o,a,"F",l,u)}function iu(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=uu(e.unaryFilter.field);return Os.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=uu(e.unaryFilter.field);return Os.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=uu(e.unaryFilter.field);return Os.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=uu(e.unaryFilter.field);return Os.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Zr(61313);default:return Zr(60726)}}(e):void 0!==e.fieldFilter?function(e){return Os.create(uu(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Zr(58110);default:return Zr(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Ls.create(e.compositeFilter.filters.map(e=>iu(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Zr(1026)}}(e.compositeFilter.op))}(e):Zr(30097,{filter:e})}function ou(e){return Ol[e]}function su(e){return Ll[e]}function au(e){return Ml[e]}function lu(e){return{fieldPath:e.canonicalString()}}function uu(e){return _i.fromServerFormat(e.fieldPath)}function cu(e){return e instanceof Os?function(e){if("=="===e.op){if(Ss(e.value))return{unaryFilter:{field:lu(e.field),op:"IS_NAN"}};if(ws(e.value))return{unaryFilter:{field:lu(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Ss(e.value))return{unaryFilter:{field:lu(e.field),op:"IS_NOT_NAN"}};if(ws(e.value))return{unaryFilter:{field:lu(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:lu(e.field),op:su(e.op),value:e.value}}}(e):e instanceof Ls?function(e){const t=e.getFilters().map(e=>cu(e));return 1===t.length?t[0]:{compositeFilter:{op:au(e.op),filters:t}}}(e):Zr(54877,{filter:e})}function hu(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function du(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class fu{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Ui.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Ui.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Bo.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=a}withSequenceNumber(e){return new fu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new fu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new fu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new fu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class pu{constructor(e){this.yt=e}}function mu(e){const t=ru({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?ha(t,t.limit,"L"):t}class gu{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(Wo(e.integerValue));else if("doubleValue"in e){const n=Wo(e.doubleValue);isNaN(n)?this.Ft(t,13):(this.Ft(t,15),no(n)?t.Mt(0):t.Mt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Ft(t,20),"string"==typeof n&&(n=qo(n)),t.xt("".concat(n.seconds||"")),t.Mt(n.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(Ko(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Ft(t,45),t.Mt(n.latitude||0),t.Mt(n.longitude||0)}else"mapValue"in e?ks(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):xs(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):Zr(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){const n=e.fields||{};this.Ft(t,55);for(const r of Object.keys(n))this.Ot(r,t),this.Ct(n[r],t)}kt(e,t){var n;const r=e.fields||{};this.Ft(t,53);const i=as,o=(null===(n=r[i].arrayValue)||void 0===n||null===(n=n.values)||void 0===n?void 0:n.length)||0;this.Ft(t,15),t.Mt(Wo(o)),this.Ot(i,t),this.Ct(r[i],t)}Qt(e,t){const n=e.values||[];this.Ft(t,50);for(const r of n)this.Ct(r,t)}Lt(e,t){this.Ft(t,37),Ci.fromName(e).path.forEach(e=>{this.Ft(t,60),this.Ut(e,t)})}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}gu.Kt=new gu;class yu{constructor(){this.Cn=new vu}addToCollectionParentIndex(e,t){return this.Cn.add(t),Xi.resolve()}getCollectionParents(e,t){return Xi.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Xi.resolve()}deleteFieldIndex(e,t){return Xi.resolve()}deleteAllFieldIndexes(e){return Xi.resolve()}createTargetIndexes(e,t){return Xi.resolve()}getDocumentsMatchingTarget(e,t){return Xi.resolve(null)}getIndexType(e,t){return Xi.resolve(0)}getFieldIndexes(e,t){return Xi.resolve([])}getNextCollectionGroupToUpdate(e){return Xi.resolve(null)}getMinOffset(e,t){return Xi.resolve(Wi.min())}getMinOffsetFromCollectionGroup(e,t){return Xi.resolve(Wi.min())}updateCollectionGroup(e,t,n){return Xi.resolve()}updateIndexEntries(e,t){return Xi.resolve()}}class vu{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Vo(Ti.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Vo(Ti.comparator)).toArray()}}new Uint8Array(0);const bu={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},wu=41943040;class Su{static withCacheSize(e){return new Su(e,Su.DEFAULT_COLLECTION_PERCENTILE,Su.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}Su.DEFAULT_COLLECTION_PERCENTILE=10,Su.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Su.DEFAULT=new Su(wu,Su.DEFAULT_COLLECTION_PERCENTILE,Su.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Su.DISABLED=new Su(-1,0,0);class Eu{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Eu(0)}static cr(){return new Eu(-1)}}const xu="LruGarbageCollector",Tu=1048576;function ku(e,t){let[n,r]=e,[i,o]=t;const s=gi(n,i);return 0===s?gi(r,o):s}class _u{constructor(e){this.Ir=e,this.buffer=new Vo(ku),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();ku(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Cu{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return null!==this.Rr}Vr(e){Yr(xu,"Garbage collection scheduled in ".concat(e,"ms")),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Ji(e)?Yr(xu,"Ignoring IndexedDB error during garbage collection: ",e):await Yi(e)}await this.Vr(3e5)})}}class Iu{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return Xi.resolve(Zi.ce);const n=new _u(t);return this.mr.forEachTarget(e,e=>n.Ar(e.sequenceNumber)).next(()=>this.mr.pr(e,e=>n.Ar(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.mr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Yr("LruGarbageCollector","Garbage collection skipped; disabled"),Xi.resolve(bu)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(Yr("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),bu):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let n,r,i,o,s,a,l;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(Yr("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,s=Date.now(),this.removeTargets(e,n,t))).next(t=>(i=t,a=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(l=Date.now(),Qr()<=sn.DEBUG&&Yr("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(o-u,"ms\n\tDetermined least recently used ").concat(r," in ")+(s-o)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(a-s)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(l-a)+"ms\n"+"Total Duration: ".concat(l-u,"ms")),Xi.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})))}}function Au(e,t){return new Iu(e,t)}class Pu{constructor(){this.changes=new ba(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Is.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Xi.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Nu{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Du{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&tl(n.mutation,e,Uo.empty(),ji.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,Pa()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Pa();const r=ka();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=xa();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=ka();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,Pa()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=Sa();const o=Ca(),s=Ca();return t.forEach((e,t)=>{const s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof ol)?i=i.insert(t.key,t):void 0!==s?(o.set(t.key,s.mutation.getFieldMask()),tl(s.mutation,t,s.mutation.getFieldMask(),ji.now())):o.set(t.key,Uo.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>o.set(e,t)),t.forEach((e,t)=>{var n;return s.set(e,new Nu(t,null!==(n=o.get(e))&&void 0!==n?n:null))}),s))}recalculateAndSaveOverlays(e,t){const n=Ca();let r=new Oo((e,t)=>e-t),i=Pa();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const i of e)i.keys().forEach(e=>{const o=t.get(e);if(null===o)return;let s=n.get(e)||Uo.empty();s=i.applyToLocalView(o,s),n.set(e,s);const a=(r.get(i.batchId)||Pa()).add(e);r=r.insert(i.batchId,a)})}).next(()=>{const o=[],s=r.getReverseIterator();for(;s.hasNext();){const r=s.getNext(),a=r.key,l=r.value,u=_a();l.forEach(e=>{if(!i.has(e)){const r=Za(t.get(e),n.get(e));null!==r&&u.set(e,r),i=i.add(e)}}),o.push(this.documentOverlayCache.saveOverlays(e,a,u))}return Xi.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return Ci.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):sa(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Xi.resolve(ka());let s=zi,a=i;return o.next(t=>Xi.forEach(t,(t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),i.get(t)?Xi.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{a=a.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,a,t,Pa())).next(e=>({batchId:s,changes:Ta(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ci(t)).next(e=>{let t=xa();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let o=xa();return this.indexManager.getCollectionParents(e,i).next(s=>Xi.forEach(s,s=>{const a=function(e,t){return new na(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next(e=>{e.forEach((e,t)=>{o=o.insert(e,t)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r))).next(e=>{i.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Is.newInvalidDocument(r)))});let n=xa();return e.forEach((e,r)=>{const o=i.get(e);void 0!==o&&tl(o.mutation,r,Uo.empty(),ji.now()),ma(t,r)&&(n=n.insert(e,r))}),n})}}class Ru{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return Xi.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Hl(e.createTime)}}(t)),Xi.resolve()}getNamedQuery(e,t){return Xi.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(e){return{name:e.name,query:mu(e.bundledQuery),readTime:Hl(e.readTime)}}(t)),Xi.resolve()}}class Fu{constructor(){this.overlays=new Oo(Ci.comparator),this.qr=new Map}getOverlay(e,t){return Xi.resolve(this.overlays.get(t))}getOverlays(e,t){const n=ka();return Xi.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.St(e,t,r)}),Xi.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.qr.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.qr.delete(n)),Xi.resolve()}getOverlaysForCollection(e,t,n){const r=ka(),i=t.length+1,o=new Ci(t.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const e=s.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Xi.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Oo((e,t)=>e-t);const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=ka(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=ka(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach((e,t)=>s.set(e,t)),!(s.size()>=r)););return Xi.resolve(s)}St(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.qr.get(r.largestBatchId).delete(n.key);this.qr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new fl(t,n));let i=this.qr.get(t);void 0===i&&(i=Pa(),this.qr.set(t,i)),this.qr.set(t,i.add(n.key))}}class Ou{constructor(){this.sessionToken=Bo.EMPTY_BYTE_STRING}getSessionToken(e){return Xi.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Xi.resolve()}}class Lu{constructor(){this.Qr=new Vo(Mu.$r),this.Ur=new Vo(Mu.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const n=new Mu(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Gr(new Mu(e,t))}zr(e,t){e.forEach(e=>this.removeReference(e,t))}jr(e){const t=new Ci(new Ti([])),n=new Mu(t,e),r=new Mu(t,e+1),i=[];return this.Ur.forEachInRange([n,r],e=>{this.Gr(e),i.push(e.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Ci(new Ti([])),n=new Mu(t,e),r=new Mu(t,e+1);let i=Pa();return this.Ur.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new Mu(e,0),n=this.Qr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Mu{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Ci.comparator(e.key,t.key)||gi(e.Yr,t.Yr)}static Kr(e,t){return gi(e.Yr,t.Yr)||Ci.comparator(e.key,t.key)}}class Vu{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Vo(Mu.$r)}checkEmpty(e){return Xi.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new hl(i,t,n,r);this.mutationQueue.push(o);for(const s of r)this.Zr=this.Zr.add(new Mu(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return Xi.resolve(o)}lookupMutationBatch(e,t){return Xi.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.ei(n),i=r<0?0:r;return Xi.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Xi.resolve(0===this.mutationQueue.length?eo:this.tr-1)}getAllMutationBatches(e){return Xi.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Mu(t,0),r=new Mu(t,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([n,r],e=>{const t=this.Xr(e.Yr);i.push(t)}),Xi.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Vo(gi);return t.forEach(e=>{const t=new Mu(e,0),r=new Mu(e,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([t,r],e=>{n=n.add(e.Yr)})}),Xi.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Ci.isDocumentKey(i)||(i=i.child(""));const o=new Mu(new Ci(i),0);let s=new Vo(gi);return this.Zr.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.Yr)),!0)},o),Xi.resolve(this.ti(s))}ti(e){const t=[];return e.forEach(e=>{const n=this.Xr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){ti(0===this.ni(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Zr;return Xi.forEach(t.mutations,r=>{const i=new Mu(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Zr=n})}ir(e){}containsKey(e,t){const n=new Mu(t,0),r=this.Zr.firstAfterOrEqual(n);return Xi.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Xi.resolve()}ni(e,t){return this.ei(e)}ei(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class ju{constructor(e){this.ri=e,this.docs=new Oo(Ci.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Xi.resolve(n?n.document.mutableCopy():Is.newInvalidDocument(t))}getEntries(e,t){let n=Sa();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Is.newInvalidDocument(e))}),Xi.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Sa();const o=t.path,s=new Ci(o.child("__id-9223372036854775808__")),a=this.docs.getIteratorFrom(s);for(;a.hasNext();){const{key:e,value:{document:s}}=a.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||Ki(qi(s),n)<=0||(r.has(s.key)||ma(t,s))&&(i=i.insert(s.key,s.mutableCopy()))}return Xi.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Zr(9500)}ii(e,t){return Xi.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new Uu(this)}getSize(e){return Xi.resolve(this.size)}}class Uu extends Pu{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(n)}),Xi.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class zu{constructor(e){this.persistence=e,this.si=new ba(e=>Zs(e),ea),this.lastRemoteSnapshotVersion=Ui.min(),this.highestTargetId=0,this.oi=0,this._i=new Lu,this.targetCount=0,this.ai=Eu.ur()}forEachTarget(e,t){return this.si.forEach((e,n)=>t(n)),Xi.resolve()}getLastRemoteSnapshotVersion(e){return Xi.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Xi.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Xi.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),Xi.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Eu(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,Xi.resolve()}updateTargetData(e,t){return this.Pr(t),Xi.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,Xi.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.si.forEach((o,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)}),Xi.waitFor(i).next(()=>r)}getTargetCount(e){return Xi.resolve(this.targetCount)}getTargetData(e,t){const n=this.si.get(t)||null;return Xi.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),Xi.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),Xi.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),Xi.resolve()}getMatchingKeysForTargetId(e,t){const n=this._i.Hr(t);return Xi.resolve(n)}containsKey(e,t){return Xi.resolve(this._i.containsKey(t))}}class Bu{constructor(e,t){this.ui={},this.overlays={},this.ci=new Zi(0),this.li=!1,this.li=!0,this.hi=new Ou,this.referenceDelegate=e(this),this.Pi=new zu(this),this.indexManager=new yu,this.remoteDocumentCache=function(e){return new ju(e)}(e=>this.referenceDelegate.Ti(e)),this.serializer=new pu(t),this.Ii=new Ru(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Fu,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new Vu(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){Yr("MemoryPersistence","Starting transaction:",e);const r=new Hu(this.ci.next());return this.referenceDelegate.Ei(),n(r).next(e=>this.referenceDelegate.di(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ai(e,t){return Xi.or(Object.values(this.ui).map(n=>()=>n.containsKey(e,t)))}}class Hu extends Qi{constructor(e){super(),this.currentSequenceNumber=e}}class qu{constructor(e){this.persistence=e,this.Ri=new Lu,this.Vi=null}static mi(e){return new qu(e)}get fi(){if(this.Vi)return this.Vi;throw Zr(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),Xi.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),Xi.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),Xi.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(e=>this.fi.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.fi.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Xi.forEach(this.fi,n=>{const r=Ci.fromPath(n);return this.gi(e,r).next(e=>{e||t.removeEntry(r,Ui.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(e=>{e?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return Xi.or([()=>Xi.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Wu{constructor(e,t){this.persistence=e,this.pi=new ba(e=>oo(e.path),(e,t)=>e.isEqual(t)),this.garbageCollector=Au(this,t)}static mi(e,t){return new Wu(e,t)}Ei(){}di(e){return Xi.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}wr(e){let t=0;return this.pr(e,e=>{t++}).next(()=>t)}pr(e,t){return Xi.forEach(this.pi,(n,r)=>this.br(e,n,r).next(e=>e?Xi.resolve():t(r)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.ii(e,r=>this.br(e,r,t).next(e=>{e||(n++,i.removeEntry(r,Ui.min()))})).next(()=>i.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),Xi.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),Xi.resolve()}removeReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),Xi.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),Xi.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=gs(e.data.value)),t}br(e,t,n){return Xi.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.pi.get(t);return Xi.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Ku{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=r}static As(e,t){let n=Pa(),r=Pa();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Ku(e,t.fromCache,n,r)}}class Gu{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Qu{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=zt()?8:$i(jt())>0?6:4}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ys(e,t).next(e=>{i.result=e}).next(()=>{if(!i.result)return this.ws(e,t,r,n).next(e=>{i.result=e})}).next(()=>{if(i.result)return;const n=new Gu;return this.Ss(e,t,n).next(r=>{if(i.result=r,this.Vs)return this.bs(e,t,n,r.size)})}).next(()=>i.result)}bs(e,t,n,r){return n.documentReadCount<this.fs?(Qr()<=sn.DEBUG&&Yr("QueryEngine","SDK will not create cache indexes for query:",pa(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Xi.resolve()):(Qr()<=sn.DEBUG&&Yr("QueryEngine","Query:",pa(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.gs*r?(Qr()<=sn.DEBUG&&Yr("QueryEngine","The SDK decides to create cache indexes for query:",pa(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,la(t))):Xi.resolve())}ys(e,t){if(oa(t))return Xi.resolve(null);let n=la(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=ha(t,null,"F"),n=la(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const i=Pa(...r);return this.ps.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const o=this.Ds(t,r);return this.Cs(t,o,i,n.readTime)?this.ys(e,ha(t,null,"F")):this.vs(e,o,t,n)}))})))}ws(e,t,n,r){return oa(t)||r.isEqual(Ui.min())?Xi.resolve(null):this.ps.getDocuments(e,n).next(i=>{const o=this.Ds(t,i);return this.Cs(t,o,n,r)?Xi.resolve(null):(Qr()<=sn.DEBUG&&Yr("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),pa(t)),this.vs(e,o,t,Hi(r,zi)).next(e=>e))})}Ds(e,t){let n=new Vo(ya(e));return t.forEach((t,r)=>{ma(e,r)&&(n=n.add(r))}),n}Cs(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ss(e,t,n){return Qr()<=sn.DEBUG&&Yr("QueryEngine","Using full collection scan to execute query:",pa(t)),this.ps.getDocumentsMatchingQuery(e,t,Wi.min(),n)}vs(e,t,n,r){return this.ps.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}const Yu="LocalStore";class Xu{constructor(e,t,n,r){this.persistence=e,this.Fs=t,this.serializer=r,this.Ms=new Oo(gi),this.xs=new ba(e=>Zs(e),ea),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Du(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function $u(e,t,n,r){return new Xu(e,t,n,r)}async function Ju(e,t){const n=ni(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(i=>(r=i,n.Bs(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const i=[],o=[];let s=Pa();for(const e of r){i.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return n.localDocuments.getDocuments(e,s).next(e=>({Ls:e,removedBatchIds:i,addedBatchIds:o}))})})}function Zu(e){const t=ni(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Pi.getLastRemoteSnapshotVersion(e))}function ec(e,t,n){let r=Pa(),i=Pa();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=Sa();return n.forEach((n,o)=>{const s=e.get(n);o.isFoundDocument()!==s.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(Ui.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!s.isValidDocument()||o.version.compareTo(s.version)>0||0===o.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):Yr(Yu,"Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)}),{ks:r,qs:i}})}function tc(e,t){const n=ni(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=eo),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function nc(e,t){const n=ni(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Pi.getTargetData(e,t).next(i=>i?(r=i,Xi.resolve(r)):n.Pi.allocateTargetId(e).next(i=>(r=new fu(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Pi.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Ms.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(e.targetId,e),n.xs.set(t,e.targetId)),e})}async function rc(e,t,n){const r=ni(e),i=r.Ms.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,e=>r.persistence.referenceDelegate.removeTarget(e,i))}catch(e){if(!Ji(e))throw e;Yr(Yu,"Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.Ms=r.Ms.remove(t),r.xs.delete(i.target)}function ic(e,t,n){const r=ni(e);let i=Ui.min(),o=Pa();return r.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,n){const r=ni(e),i=r.xs.get(n);return void 0!==i?Xi.resolve(r.Ms.get(i)):r.Pi.getTargetData(t,n)}(r,e,la(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(e,t.targetId).next(e=>{o=e})}).next(()=>r.Fs.getDocumentsMatchingQuery(e,t,n?i:Ui.min(),n?o:Pa())).next(e=>(oc(r,ga(t),e),{documents:e,Qs:o})))}function oc(e,t,n){let r=e.Os.get(t)||Ui.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.Os.set(t,r)}class sc{constructor(){this.activeTargetIds=Da()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ac{constructor(){this.Mo=new sc,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new sc,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class lc{Oo(e){}shutdown(){}}const uc="ConnectivityMonitor";class cc{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Yr(uc,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Yr(uc,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let hc=null;function dc(){return null===hc?hc=268435456+Math.round(2147483648*Math.random()):hc++,"0x"+hc.toString(16)}const fc="RestConnection",pc={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class mc{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko="projects/".concat(n,"/databases/").concat(r),this.Wo=this.databaseId.database===ts?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}Go(e,t,n,r,i){const o=dc(),s=this.zo(e,t.toUriEncodedString());Yr(fc,"Sending RPC '".concat(e,"' ").concat(o,":"),s,n);const a={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(a,r,i);const{host:l}=new URL(s),u=Ft(l);return this.Jo(e,s,a,n,u).then(t=>(Yr(fc,"Received RPC '".concat(e,"' ").concat(o,": "),t),t),t=>{throw $r(fc,"RPC '".concat(e,"' ").concat(o," failed with error: "),t,"url: ",s,"request:",n),t})}Ho(e,t,n,r,i,o){return this.Go(e,t,n,r,i)}jo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Kr,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}zo(e,t){const n=pc[e];return"".concat(this.Uo,"/v1/").concat(t,":").concat(n)}terminate(){}}class gc{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const yc="WebChannelConnection";class vc extends mc{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,r,i){const o=dc();return new Promise((i,s)=>{const a=new Rr;a.setWithCredentials(!0),a.listenOnce(Or.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case Lr.NO_ERROR:const n=a.getResponseJson();Yr(yc,"XHR for RPC '".concat(e,"' ").concat(o," received:"),JSON.stringify(n)),i(n);break;case Lr.TIMEOUT:Yr(yc,"RPC '".concat(e,"' ").concat(o," timed out")),s(new ii(ri.DEADLINE_EXCEEDED,"Request time out"));break;case Lr.HTTP_ERROR:const r=a.getStatus();if(Yr(yc,"RPC '".concat(e,"' ").concat(o," failed with status:"),r,"response text:",a.getResponseText()),r>0){var t;let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const n=null===(t=e)||void 0===t?void 0:t.error;if(n&&n.status&&n.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(ri).indexOf(t)>=0?t:ri.UNKNOWN}(n.status);s(new ii(e,n.message))}else s(new ii(ri.UNKNOWN,"Server responded with status "+a.getStatus()))}else s(new ii(ri.UNAVAILABLE,"Connection failed."));break;default:Zr(9055,{l_:e,streamId:o,h_:a.getLastErrorCode(),P_:a.getLastError()})}}finally{Yr(yc,"RPC '".concat(e,"' ").concat(o," completed."))}});const l=JSON.stringify(r);Yr(yc,"RPC '".concat(e,"' ").concat(o," sending request:"),r),a.send(t,"POST",l,n,15)})}T_(e,t,n){const r=dc(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Ur(),s=jr(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.jo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const u=i.join("");Yr(yc,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(u),a);const c=o.createWebChannel(u,a);this.I_(c);let h=!1,d=!1;const f=new gc({Yo:t=>{d?Yr(yc,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(h||(Yr(yc,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),c.open(),h=!0),Yr(yc,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),c.send(t))},Zo:()=>c.close()}),p=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return p(c,Fr.EventType.OPEN,()=>{d||(Yr(yc,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),f.o_())}),p(c,Fr.EventType.CLOSE,()=>{d||(d=!0,Yr(yc,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.a_(),this.E_(c))}),p(c,Fr.EventType.ERROR,t=>{d||(d=!0,$r(yc,"RPC '".concat(e,"' stream ").concat(r," transport errored. Name:"),t.name,"Message:",t.message),f.a_(new ii(ri.UNAVAILABLE,"The operation could not be completed")))}),p(c,Fr.EventType.MESSAGE,t=>{if(!d){var n;const i=t.data[0];ti(!!i,16349);const o=i,s=(null===o||void 0===o?void 0:o.error)||(null===(n=o[0])||void 0===n?void 0:n.error);if(s){Yr(yc,"RPC '".concat(e,"' stream ").concat(r," received error:"),s);const t=s.status;let n=function(e){const t=ml[e];if(void 0!==t)return vl(t)}(t),i=s.message;void 0===n&&(n=ri.INTERNAL,i="Unknown error status: "+t+" with message "+s.message),d=!0,f.a_(new ii(n,i)),c.close()}else Yr(yc,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.u_(i)}}),p(s,Vr.STAT_EVENT,t=>{t.stat===Mr.PROXY?Yr(yc,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Mr.NOPROXY&&Yr(yc,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))}),setTimeout(()=>{f.__()},0),f}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function bc(){return"undefined"!=typeof document?document:null}function wc(e){return new Vl(e,!0)}class Sc{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Mi=e,this.timerId=t,this.d_=n,this.A_=r,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),r=Math.max(0,t-n);r>0&&Yr("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.V_," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){null!==this.m_&&(this.m_.skipDelay(),this.m_=null)}cancel(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Ec="PersistentStream";class xc{constructor(e,t,n,r,i,o,s,a){this.Mi=e,this.S_=n,this.b_=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=a,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Sc(e,t)}x_(){return 1===this.state||5===this.state||this.O_()}O_(){return 2===this.state||3===this.state}start(){this.F_=0,4!==this.state?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&null===this.C_&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,4!==e?this.M_.reset():t&&t.code===ri.RESOURCE_EXHAUSTED?(Xr(t.toString()),Xr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ri.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.D_===t&&this.G_(n,r)},t=>{e(()=>{const e=new ii(ri.UNKNOWN,"Fetching auth token failed: "+t.message);return this.z_(e)})})}G_(e,t){const n=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(e=>{n(()=>this.z_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.F_?this.J_(e):this.onNext(e))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Yr(Ec,"close with error: ".concat(e)),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(Yr(Ec,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Tc extends xc{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Zr(39313,{state:e})}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?(ti(void 0===t||"string"==typeof t,58123),Bo.fromBase64String(t||"")):(ti(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),Bo.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(e){const t=void 0===e.code?ri.UNKNOWN:vl(e.code);return new ii(t,e.message||"")}(s);n=new Pl(r,i,o,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ql(e,r.document.name),o=Hl(r.document.updateTime),s=r.document.createTime?Hl(r.document.createTime):Ui.min(),a=new _s({mapValue:{fields:r.document.fields}}),l=Is.newFoundDocument(i,o,s,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Il(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Ql(e,r.document),o=r.readTime?Hl(r.readTime):Ui.min(),s=Is.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Il([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Ql(e,r.document),o=r.removedTargetIds||[];n=new Il([],o,i,null)}else{if(!("filter"in t))return Zr(11601,{Rt:t});{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,o=new pl(r,i),s=e.targetId;n=new Al(s,o)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Ui.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Ui.min():t.readTime?Hl(t.readTime):Ui.min()}(e);return this.listener.H_(t,n)}Y_(e){const t={};t.database=$l(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=ta(r)?{documents:tu(e,r)}:{query:nu(e,r).ft},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=zl(e,t.resumeToken);const r=jl(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Ui.min())>0){n.readTime=Ul(e,t.snapshotVersion.toTimestamp());const r=jl(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Zr(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.q_(t)}Z_(e){const t={};t.database=$l(this.serializer),t.removeTarget=e,this.q_(t)}}class kc extends xc{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return ti(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ti(!e.writeResults||0===e.writeResults.length,55816),this.listener.ta()}onNext(e){ti(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=function(e,t){return e&&e.length>0?(ti(void 0!==t,14353),e.map(e=>function(e,t){let n=e.updateTime?Hl(e.updateTime):Hl(t);return n.isEqual(Ui.min())&&(n=Hl(t)),new Ya(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=Hl(e.commitTime);return this.listener.na(n,t)}ra(){const e={};e.database=$l(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>eu(this.serializer,e))};this.q_(t)}}class _c{}class Cc extends _c{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new ii(ri.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,n,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[o,s]=i;return this.connection.Go(e,Wl(t,n),r,o,s)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===ri.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new ii(ri.UNKNOWN,e.toString())})}Ho(e,t,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(o=>{let[s,a]=o;return this.connection.Ho(e,Wl(t,n),r,s,a,i)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===ri.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new ii(ri.UNKNOWN,e.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class Ic{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){0===this.oa&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){"Online"===this.state?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,"Online"===e&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.aa?(Xr(t),this.aa=!1):Yr("OnlineStateTracker",t)}Pa(){null!==this._a&&(this._a.cancel(),this._a=null)}}const Ac="RemoteStore";class Pc{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(e=>{n.enqueueAndForget(async()=>{jc(this)&&(Yr(Ac,"Restarting streams for network reachability change."),await async function(e){const t=ni(e);t.Ea.add(4),await Dc(t),t.Ra.set("Unknown"),t.Ea.delete(4),await Nc(t)}(this))})}),this.Ra=new Ic(n,r)}}async function Nc(e){if(jc(e))for(const t of e.da)await t(!0)}async function Dc(e){for(const t of e.da)await t(!1)}function Rc(e,t){const n=ni(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Vc(n)?Mc(n):ih(n).O_()&&Oc(n,t))}function Fc(e,t){const n=ni(e),r=ih(n);n.Ia.delete(t),r.O_()&&Lc(n,t),0===n.Ia.size&&(r.O_()?r.L_():jc(n)&&n.Ra.set("Unknown"))}function Oc(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ui.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}ih(e).Y_(t)}function Lc(e,t){e.Va.Ue(t),ih(e).Z_(t)}function Mc(e){e.Va=new Dl({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),ih(e).start(),e.Ra.ua()}function Vc(e){return jc(e)&&!ih(e).x_()&&e.Ia.size>0}function jc(e){return 0===ni(e).Ea.size}function Uc(e){e.Va=void 0}async function zc(e){e.Ra.set("Online")}async function Bc(e){e.Ia.forEach((t,n)=>{Oc(e,t)})}async function Hc(e,t){Uc(e),Vc(e)?(e.Ra.ha(t),Mc(e)):e.Ra.set("Unknown")}async function qc(e,t,n){if(e.Ra.set("Online"),t instanceof Pl&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Ia.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ia.delete(r),e.Va.removeTarget(r))}(e,t)}catch(n){Yr(Ac,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Wc(e,n)}else if(t instanceof Il?e.Va.Ze(t):t instanceof Al?e.Va.st(t):e.Va.tt(t),!n.isEqual(Ui.min()))try{const t=await Zu(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Va.Tt(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Ia.get(r);i&&e.Ia.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.Ia.get(t);if(!r)return;e.Ia.set(t,r.withResumeToken(Bo.EMPTY_BYTE_STRING,r.snapshotVersion)),Lc(e,t);const i=new fu(r.target,t,n,r.sequenceNumber);Oc(e,i)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Yr(Ac,"Failed to raise snapshot:",t),await Wc(e,t)}}async function Wc(e,t,n){if(!Ji(t))throw t;e.Ea.add(1),await Dc(e),e.Ra.set("Offline"),n||(n=()=>Zu(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Yr(Ac,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await Nc(e)})}function Kc(e,t){return t().catch(n=>Wc(e,n,t))}async function Gc(e){const t=ni(e),n=oh(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:eo;for(;Qc(t);)try{const e=await tc(t.localStore,r);if(null===e){0===t.Ta.length&&n.L_();break}r=e.batchId,Yc(t,e)}catch(e){await Wc(t,e)}Xc(t)&&$c(t)}function Qc(e){return jc(e)&&e.Ta.length<10}function Yc(e,t){e.Ta.push(t);const n=oh(e);n.O_()&&n.X_&&n.ea(t.mutations)}function Xc(e){return jc(e)&&!oh(e).x_()&&e.Ta.length>0}function $c(e){oh(e).start()}async function Jc(e){oh(e).ra()}async function Zc(e){const t=oh(e);for(const n of e.Ta)t.ea(n.mutations)}async function eh(e,t,n){const r=e.Ta.shift(),i=dl.from(r,t,n);await Kc(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await Gc(e)}async function th(e,t){t&&oh(e).X_&&await async function(e,t){if(function(e){return yl(e)&&e!==ri.ABORTED}(t.code)){const n=e.Ta.shift();oh(e).B_(),await Kc(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await Gc(e)}}(e,t),Xc(e)&&$c(e)}async function nh(e,t){const n=ni(e);n.asyncQueue.verifyOperationInProgress(),Yr(Ac,"RemoteStore received new credentials");const r=jc(n);n.Ea.add(3),await Dc(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Nc(n)}async function rh(e,t){const n=ni(e);t?(n.Ea.delete(2),await Nc(n)):t||(n.Ea.add(2),await Dc(n),n.Ra.set("Unknown"))}function ih(e){return e.ma||(e.ma=function(e,t,n){const r=ni(e);return r.sa(),new Tc(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:zc.bind(null,e),t_:Bc.bind(null,e),r_:Hc.bind(null,e),H_:qc.bind(null,e)}),e.da.push(async t=>{t?(e.ma.B_(),Vc(e)?Mc(e):e.Ra.set("Unknown")):(await e.ma.stop(),Uc(e))})),e.ma}function oh(e){return e.fa||(e.fa=function(e,t,n){const r=ni(e);return r.sa(),new kc(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:Jc.bind(null,e),r_:th.bind(null,e),ta:Zc.bind(null,e),na:eh.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await Gc(e)):(await e.fa.stop(),e.Ta.length>0&&(Yr(Ac,"Stopping write stream with ".concat(e.Ta.length," pending writes")),e.Ta=[]))})),e.fa}class sh{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new oi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,s=new sh(e,t,o,r,i);return s.start(n),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ii(ri.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ah(e,t){if(Xr("AsyncQueue","".concat(t,": ").concat(e)),Ji(e))return new ii(ri.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class lh{static emptySet(e){return new lh(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||Ci.comparator(t.key,n.key):(e,t)=>Ci.comparator(e.key,t.key),this.keyedMap=xa(),this.sortedSet=new Oo(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof lh))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new lh;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class uh{constructor(){this.ga=new Oo(Ci.comparator)}track(e){const t=e.doc.key,n=this.ga.get(t);n?0!==e.type&&3===n.type?this.ga=this.ga.insert(t,e):3===e.type&&1!==n.type?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.ga=this.ga.remove(t):1===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Zr(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,n)=>{e.push(n)}),e}}class ch{constructor(e,t,n,r,i,o,s,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const o=[];return t.forEach(e=>{o.push({type:0,doc:e})}),new ch(e,t,lh.emptySet(t),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&da(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class hh{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class dh{constructor(){this.queries=fh(),this.onlineState="Unknown",this.Ca=new Set}terminate(){!function(e,t){const n=ni(e),r=n.queries;n.queries=fh(),r.forEach((e,n)=>{for(const r of n.Sa)r.onError(t)})}(this,new ii(ri.ABORTED,"Firestore shutting down"))}}function fh(){return new ba(e=>fa(e),da)}async function ph(e,t){const n=ni(e);let r=3;const i=t.query;let o=n.queries.get(i);o?!o.ba()&&t.Da()&&(r=2):(o=new hh,r=t.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(i,!0);break;case 1:o.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=ah(e,"Initialization of query '".concat(pa(t.query),"' failed"));return void t.onError(n)}n.queries.set(i,o),o.Sa.push(t),t.va(n.onlineState),o.wa&&t.Fa(o.wa)&&vh(n)}async function mh(e,t){const n=ni(e),r=t.query;let i=3;const o=n.queries.get(r);if(o){const e=o.Sa.indexOf(t);e>=0&&(o.Sa.splice(e,1),0===o.Sa.length?i=t.Da()?0:1:!o.ba()&&t.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function gh(e,t){const n=ni(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.Sa)e.Fa(i)&&(r=!0);t.wa=i}}r&&vh(n)}function yh(e,t,n){const r=ni(e),i=r.queries.get(t);if(i)for(const o of i.Sa)o.onError(n);r.queries.delete(t)}function vh(e){e.Ca.forEach(e=>{e.next()})}var bh,wh;(wh=bh||(bh={})).Ma="default",wh.Cache="cache";class Sh{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new ch(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache)return!0;if(!this.Da())return!0;const n="Offline"!==t;return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}ka(e){e=ch.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==bh.Cache}}class Eh{constructor(e){this.key=e}}class xh{constructor(e){this.key=e}}class Th{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Pa(),this.mutatedKeys=Pa(),this.eu=ya(e),this.tu=new lh(this.eu)}get nu(){return this.Ya}ru(e,t){const n=t?t.iu:new uh,r=t?t.tu:this.tu;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,s=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const u=r.get(e),c=ma(this.query,t)?t:null,h=!!u&&this.mutatedKeys.has(u.key),d=!!c&&(c.hasLocalMutations||this.mutatedKeys.has(c.key)&&c.hasCommittedMutations);let f=!1;u&&c?u.data.isEqual(c.data)?h!==d&&(n.track({type:3,doc:c}),f=!0):this.su(u,c)||(n.track({type:2,doc:c}),f=!0,(a&&this.eu(c,a)>0||l&&this.eu(c,l)<0)&&(s=!0)):!u&&c?(n.track({type:0,doc:c}),f=!0):u&&!c&&(n.track({type:1,doc:u}),f=!0,(a||l)&&(s=!0)),f&&(c?(o=o.add(c),i=d?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{tu:o,iu:n,Cs:s,mutatedKeys:i}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Zr(20277,{Rt:e})}};return n(e)-n(t)}(e.type,t.type)||this.eu(e.doc,t.doc)),this.ou(n),r=null!==r&&void 0!==r&&r;const s=t&&!r?this._u():[],a=0===this.Xa.size&&this.current&&!r?1:0,l=a!==this.Za;return this.Za=a,0!==o.length||l?{snapshot:new ch(this.query,e.tu,i,o,e.mutatedKeys,0===a,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:s}:{au:s}}va(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tu:this.tu,iu:new uh,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(e=>this.Ya=this.Ya.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ya=this.Ya.delete(e)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Pa(),this.tu.forEach(e=>{this.uu(e.key)&&(this.Xa=this.Xa.add(e.key))});const t=[];return e.forEach(e=>{this.Xa.has(e)||t.push(new xh(e))}),this.Xa.forEach(n=>{e.has(n)||t.push(new Eh(n))}),t}cu(e){this.Ya=e.Qs,this.Xa=Pa();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return ch.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,0===this.Za,this.hasCachedResults)}}const kh="SyncEngine";class _h{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Ch{constructor(e){this.key=e,this.hu=!1}}class Ih{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new ba(e=>fa(e),da),this.Iu=new Map,this.Eu=new Set,this.du=new Oo(Ci.comparator),this.Au=new Map,this.Ru=new Lu,this.Vu={},this.mu=new Map,this.fu=Eu.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return!0===this.gu}}async function Ah(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=Xh(e);let i;const o=r.Tu.get(t);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await Nh(r,t,n,!0),i}async function Ph(e,t){const n=Xh(e);await Nh(n,t,!0,!1)}async function Nh(e,t,n,r){const i=await nc(e.localStore,la(t)),o=i.targetId,s=e.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await Dh(e,t,o,"current"===s,i.resumeToken)),e.isPrimaryClient&&n&&Rc(e.remoteStore,i),a}async function Dh(e,t,n,r,i){e.pu=(t,n,r)=>async function(e,t,n,r){let i=t.view.ru(n);i.Cs&&(i=await ic(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.ru(n,i)}));const o=r&&r.targetChanges.get(t.targetId),s=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o,s);return qh(e,t.targetId,a.au),a.snapshot}(e,t,n,r);const o=await ic(e.localStore,t,!0),s=new Th(t,o.Qs),a=s.ru(o.documents),l=Cl.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),u=s.applyChanges(a,e.isPrimaryClient,l);qh(e,n,u.au);const c=new _h(t,n,s);return e.Tu.set(t,c),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),u.snapshot}async function Rh(e,t,n){const r=ni(e),i=r.Tu.get(t),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter(e=>!da(e,t))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await rc(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Fc(r.remoteStore,i.targetId),Bh(r,i.targetId)}).catch(Yi)):(Bh(r,i.targetId),await rc(r.localStore,i.targetId,!0))}async function Fh(e,t){const n=ni(e),r=n.Tu.get(t),i=n.Iu.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Fc(n.remoteStore,r.targetId))}async function Oh(e,t){const n=ni(e);try{const e=await function(e,t){const n=ni(e),r=t.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const s=[];t.targetChanges.forEach((o,a)=>{const l=i.get(a);if(!l)return;s.push(n.Pi.removeMatchingKeys(e,o.removedDocuments,a).next(()=>n.Pi.addMatchingKeys(e,o.addedDocuments,a)));let u=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?u=u.withResumeToken(Bo.EMPTY_BYTE_STRING,Ui.min()).withLastLimboFreeSnapshotVersion(Ui.min()):o.resumeToken.approximateByteSize()>0&&(u=u.withResumeToken(o.resumeToken,r)),i=i.insert(a,u),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,u,o)&&s.push(n.Pi.updateTargetData(e,u))});let a=Sa(),l=Pa();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),s.push(ec(e,o,t.documentUpdates).next(e=>{a=e.ks,l=e.qs})),!r.isEqual(Ui.min())){const t=n.Pi.getLastRemoteSnapshotVersion(e).next(t=>n.Pi.setTargetsMetadata(e,e.currentSequenceNumber,r));s.push(t)}return Xi.waitFor(s).next(()=>o.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,a,l)).next(()=>a)}).then(e=>(n.Ms=i,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Au.get(t);r&&(ti(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.hu=!0:e.modifiedDocuments.size>0?ti(r.hu,14607):e.removedDocuments.size>0&&(ti(r.hu,42227),r.hu=!1))}),await Gh(n,e,t)}catch(e){await Yi(e)}}function Lh(e,t,n){const r=ni(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Tu.forEach((n,r)=>{const i=r.view.va(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=ni(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.Sa)i.va(t)&&(r=!0)}),r&&vh(n)}(r.eventManager,t),e.length&&r.Pu.H_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Mh(e,t,n){const r=ni(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Au.get(t),o=i&&i.key;if(o){let e=new Oo(Ci.comparator);e=e.insert(o,Is.newNoDocument(o,Ui.min()));const n=Pa().add(o),i=new _l(Ui.min(),new Map,new Oo(gi),e,n);await Oh(r,i),r.du=r.du.remove(o),r.Au.delete(t),Kh(r)}else await rc(r.localStore,t,!1).then(()=>Bh(r,t,n)).catch(Yi)}async function Vh(e,t){const n=ni(e),r=t.batch.batchId;try{const e=await function(e,t){const n=ni(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let s=Xi.resolve();return o.forEach(e=>{s=s.next(()=>r.getEntry(t,e)).next(t=>{const o=n.docVersions.get(e);ti(null!==o,48541),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),s.next(()=>e.mutationQueue.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Pa();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);zh(n,r,null),Uh(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Gh(n,e)}catch(e){await Yi(e)}}async function jh(e,t,n){const r=ni(e);try{const e=await function(e,t){const n=ni(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(ti(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);zh(r,t,n),Uh(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Gh(r,e)}catch(n){await Yi(n)}}function Uh(e,t){(e.mu.get(t)||[]).forEach(e=>{e.resolve()}),e.mu.delete(t)}function zh(e,t,n){const r=ni(e);let i=r.Vu[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Vu[r.currentUser.toKey()]=i}}function Bh(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Iu.get(t))e.Tu.delete(r),n&&e.Pu.yu(r,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(t=>{e.Ru.containsKey(t)||Hh(e,t)})}function Hh(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);null!==n&&(Fc(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),Kh(e))}function qh(e,t,n){for(const r of n)r instanceof Eh?(e.Ru.addReference(r.key,t),Wh(e,r)):r instanceof xh?(Yr(kh,"Document no longer in limbo: "+r.key),e.Ru.removeReference(r.key,t),e.Ru.containsKey(r.key)||Hh(e,r.key)):Zr(19791,{wu:r})}function Wh(e,t){const n=t.key,r=n.path.canonicalString();e.du.get(n)||e.Eu.has(r)||(Yr(kh,"New document in limbo: "+n),e.Eu.add(r),Kh(e))}function Kh(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new Ci(Ti.fromString(t)),r=e.fu.next();e.Au.set(r,new Ch(n)),e.du=e.du.insert(n,r),Rc(e.remoteStore,new fu(la(ia(n.path)),r,"TargetPurposeLimboResolution",Zi.ce))}}async function Gh(e,t,n){const r=ni(e),i=[],o=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach((e,a)=>{s.push(r.pu(a,t,n).then(e=>{if((e||n)&&r.isPrimaryClient){var t;const i=e?!e.fromCache:null===n||void 0===n||null===(t=n.targetChanges.get(a.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(a.targetId,i?"current":"not-current")}if(e){i.push(e);const t=Ku.As(a.targetId,e);o.push(t)}}))}),await Promise.all(s),r.Pu.H_(i),await async function(e,t){const n=ni(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>Xi.forEach(t,t=>Xi.forEach(t.Es,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>Xi.forEach(t.ds,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!Ji(e))throw e;Yr(Yu,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ms.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ms=n.Ms.insert(e,i)}}}(r.localStore,o))}async function Qh(e,t){const n=ni(e);if(!n.currentUser.isEqual(t)){Yr(kh,"User change. New user:",t.toKey());const e=await Ju(n.localStore,t);n.currentUser=t,function(e,t){e.mu.forEach(e=>{e.forEach(e=>{e.reject(new ii(ri.CANCELLED,t))})}),e.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Gh(n,e.Ls)}}function Yh(e,t){const n=ni(e),r=n.Au.get(t);if(r&&r.hu)return Pa().add(r.key);{let e=Pa();const r=n.Iu.get(t);if(!r)return e;for(const t of r){const r=n.Tu.get(t);e=e.unionWith(r.view.nu)}return e}}function Xh(e){const t=ni(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Oh.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Yh.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Mh.bind(null,t),t.Pu.H_=gh.bind(null,t.eventManager),t.Pu.yu=yh.bind(null,t.eventManager),t}function $h(e){const t=ni(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Vh.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=jh.bind(null,t),t}class Jh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=wc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return $u(this.persistence,new Qu,e.initialUser,this.serializer)}Cu(e){return new Bu(qu.mi,this.serializer)}Du(e){return new ac}async terminate(){var e,t;null!==(e=this.gcScheduler)&&void 0!==e&&e.stop(),null!==(t=this.indexBackfillerScheduler)&&void 0!==t&&t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Jh.provider={build:()=>new Jh};class Zh extends Jh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){ti(this.persistence.referenceDelegate instanceof Wu,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new Cu(n,e.asyncQueue,t)}Cu(e){const t=void 0!==this.cacheSizeBytes?Su.withCacheSize(this.cacheSizeBytes):Su.DEFAULT;return new Bu(e=>Wu.mi(e,t),this.serializer)}}class ed{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Lh(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Qh.bind(null,this.syncEngine),await rh(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new dh}createDatastore(e){const t=wc(e.databaseInfo.databaseId),n=function(e){return new vc(e)}(e.databaseInfo);return function(e,t,n,r){return new Cc(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new Pc(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,e=>Lh(this.syncEngine,e,0),cc.v()?new cc:new lc)}createSyncEngine(e,t){return function(e,t,n,r,i,o,s){const a=new Ih(e,t,n,r,i,o);return s&&(a.gu=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=ni(e);Yr(Ac,"RemoteStore shutting down."),t.Ea.add(5),await Dc(t),t.Aa.shutdown(),t.Ra.set("Unknown")}(this.remoteStore),null!==(e=this.datastore)&&void 0!==e&&e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}ed.provider={build:()=>new ed};class td{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Xr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}const nd="FirestoreClient";class rd{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Wr.UNAUTHENTICATED,this.clientId=mi.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async e=>{Yr(nd,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(Yr(nd,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new oi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=ah(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function id(e,t){e.asyncQueue.verifyOperationInProgress(),Yr(nd,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await Ju(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function od(e,t){e.asyncQueue.verifyOperationInProgress();const n=await sd(e);Yr(nd,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>nh(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>nh(t.remoteStore,n)),e._onlineComponents=t}async function sd(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Yr(nd,"Using user provided OfflineComponentProvider");try{await id(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===ri.FAILED_PRECONDITION||e.code===ri.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;$r("Error using user provided cache. Falling back to memory cache: "+n),await id(e,new Jh)}}else Yr(nd,"Using default OfflineComponentProvider"),await id(e,new Zh(void 0));return e._offlineComponents}async function ad(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Yr(nd,"Using user provided OnlineComponentProvider"),await od(e,e._uninitializedComponentsProvider._online)):(Yr(nd,"Using default OnlineComponentProvider"),await od(e,new ed))),e._onlineComponents}function ld(e){return ad(e).then(e=>e.syncEngine)}async function ud(e){const t=await ad(e),n=t.eventManager;return n.onListen=Ah.bind(null,t.syncEngine),n.onUnlisten=Rh.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Ph.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Fh.bind(null,t.syncEngine),n}function cd(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new oi;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const o=new td({next:n=>{o.Nu(),t.enqueueAndForget(()=>mh(e,s)),n.fromCache&&"server"===r.source?i.reject(new ii(ri.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),s=new Sh(n,o,{includeMetadataChanges:!0,qa:!0});return ph(e,s)}(await ud(e),e.asyncQueue,t,n,r)),r.promise}function hd(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const dd=new Map,fd="firestore.googleapis.com",pd=!0;class md{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new ii(ri.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=fd,this.ssl=pd}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:pd;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=wu;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<Tu)throw new ii(ri.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new ii(ri.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hd(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new ii(ri.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new ii(ri.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new ii(ri.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gd{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new md({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ii(ri.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ii(ri.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new md(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new ai;switch(e.type){case"firstParty":return new hi(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new ii(ri.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=dd.get(e);t&&(Yr("ComponentProvider","Removing Datastore"),dd.delete(e),t.terminate())}(this),Promise.resolve()}}function yd(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=Ri(e,gd);const i=Ft(t),o=e._getSettings(),s=c(c({},o),{},{emulatorOptions:e._getEmulatorOptions()}),a="".concat(t,":").concat(n);i&&(Ot("https://".concat(a)),Vt("Firestore",!0)),o.host!==fd&&o.host!==a&&$r("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=c(c({},o),{},{host:a,ssl:i,emulatorOptions:r});if(!Kt(l,s)&&(e._setSettings(l),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Wr.MOCK_USER;else{var u;t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=c({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[_t(JSON.stringify({alg:"none",type:"JWT"})),_t(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(u=e._app)||void 0===u?void 0:u.options.projectId);const i=r.mockUserToken.sub||r.mockUserToken.user_id;if(!i)throw new ii(ri.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Wr(i)}e._authCredentials=new li(new si(t,n))}}class vd{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new vd(this.firestore,e,this._query)}}class bd{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wd(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new bd(this.firestore,e,this._key)}toJSON(){return{type:bd._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(Li(t,bd._jsonSchema))return new bd(e,n||null,new Ci(Ti.fromString(t.referencePath)))}}bd._jsonSchemaVersion="firestore/documentReference/1.0",bd._jsonSchema={type:Oi("string",bd._jsonSchemaVersion),referencePath:Oi("string")};class wd extends vd{constructor(e,t,n){super(e,t,ia(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new bd(this.firestore,null,new Ci(e))}withConverter(e){return new wd(this.firestore,e,this._path)}}function Sd(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Zt(e),Ii("collection","path",t),e instanceof gd){const n=Ti.fromString(t,...r);return Pi(n),new wd(e,null,n)}{if(!(e instanceof bd||e instanceof wd))throw new ii(ri.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Ti.fromString(t,...r));return Pi(n),new wd(e.firestore,null,n)}}function Ed(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Zt(e),1===arguments.length&&(t=mi.newId()),Ii("doc","path",t),e instanceof gd){const n=Ti.fromString(t,...r);return Ai(n),new bd(e,null,new Ci(n))}{if(!(e instanceof bd||e instanceof wd))throw new ii(ri.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Ti.fromString(t,...r));return Ai(n),new bd(e.firestore,e instanceof wd?e.converter:null,new Ci(n))}}const xd="AsyncQueue";class Td{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Sc(this,"async_queue_retry"),this._c=()=>{const e=bc();e&&Yr(xd,"Visibility state changed to "+e.visibilityState),this.M_.w_()},this.ac=e;const t=bc();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=bc();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new oi;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(0!==this.Xu.length){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(Ok){if(!Ji(Ok))throw Ok;Yr(xd,"Operation failed with retryable error: "+Ok)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(e=>{throw this.nc=e,this.rc=!1,Xr("INTERNAL UNHANDLED ERROR: ",kd(e)),e}).then(e=>(this.rc=!1,e))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const r=sh.createAndSchedule(this,e,t,n,e=>this.hc(e));return this.tc.push(r),r}uc(){this.nc&&Zr(47125,{Pc:kd(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do{e=this.ac,await e}while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function kd(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}function _d(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class Cd extends gd{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Td,this._persistenceKey=(null===r||void 0===r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Td(e),this._firestoreClient=void 0,await e}}}function Id(e){if(e._terminated)throw new ii(ri.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||Ad(e),e._firestoreClient}function Ad(e){var t,n,r;const i=e._freezeSettings(),o=function(e,t,n,r){return new es(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,hd(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||null!==(n=i.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new rd(e._authCredentials,e._appCheckCredentials,e._queue,o,e._componentsProvider&&function(e){const t=null===e||void 0===e?void 0:e._online.build();return{_offline:null===e||void 0===e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class Pd{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Pd(Bo.fromBase64String(e))}catch(e){throw new ii(ri.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Pd(Bo.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Pd._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Li(e,Pd._jsonSchema))return Pd.fromBase64String(e.bytes)}}Pd._jsonSchemaVersion="firestore/bytes/1.0",Pd._jsonSchema={type:Oi("string",Pd._jsonSchemaVersion),bytes:Oi("string")};class Nd{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new ii(ri.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _i(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Dd{constructor(e){this._methodName=e}}class Rd{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ii(ri.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ii(ri.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return gi(this._lat,e._lat)||gi(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Rd._jsonSchemaVersion}}static fromJSON(e){if(Li(e,Rd._jsonSchema))return new Rd(e.latitude,e.longitude)}}Rd._jsonSchemaVersion="firestore/geoPoint/1.0",Rd._jsonSchema={type:Oi("string",Rd._jsonSchemaVersion),latitude:Oi("number"),longitude:Oi("number")};class Fd{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Fd._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Li(e,Fd._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(e=>"number"==typeof e))return new Fd(e.vectorValues);throw new ii(ri.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Fd._jsonSchemaVersion="firestore/vectorValue/1.0",Fd._jsonSchema={type:Oi("string",Fd._jsonSchemaVersion),vectorValues:Oi("object")};const Od=/^__.*__$/;class Ld{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new ol(e,this.data,this.fieldMask,t,this.fieldTransforms):new il(e,this.data,t,this.fieldTransforms)}}function Md(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Zr(40011,{Ac:e})}}class Vd{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Vd(c(c({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return $d(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(0===e.length)throw this.Sc("Document fields must not be empty");if(Md(this.Ac)&&Od.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class jd{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||wc(e)}Cc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Vd({Ac:e,methodName:t,Dc:n,path:_i.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ud(e){const t=e._freezeSettings(),n=wc(e._databaseId);return new jd(e._databaseId,!!t.ignoreUndefinedProperties,n)}function zd(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const s=e.Cc(o.merge||o.mergeFields?2:0,t,n,i);Gd("Data must be an object, but it was:",s,r);const a=Wd(r,s);let l,u;if(o.merge)l=new Uo(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=Qd(t,r,n);if(!s.contains(i))throw new ii(ri.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));Jd(e,i)||e.push(i)}l=new Uo(e),u=s.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,u=s.fieldTransforms;return new Ld(new _s(a),l,u)}class Bd extends Dd{_toFieldTransform(e){return new Qa(e.path,new Ua)}isEqual(e){return e instanceof Bd}}function Hd(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return qd(n,e.Cc(r?4:3,t))}function qd(e,t){if(Kd(e=Zt(e)))return Gd("Unsupported field value:",t,e),Wd(e,t);if(e instanceof Dd)return function(e,t){if(!Md(t.Ac))throw t.Sc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Sc("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&4!==t.Ac)throw t.Sc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=qd(i,t.wc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Zt(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Oa(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=ji.fromDate(e);return{timestampValue:Ul(t.serializer,n)}}if(e instanceof ji){const n=new ji(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Ul(t.serializer,n)}}if(e instanceof Rd)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Pd)return{bytesValue:zl(t.serializer,e._byteString)};if(e instanceof bd){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Sc("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:ql(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof Fd)return function(e,t){return{mapValue:{fields:{[rs]:{stringValue:ss},[as]:{arrayValue:{values:e.toArray().map(e=>{if("number"!=typeof e)throw t.Sc("VectorValues must only contain numeric values.");return Ra(t.serializer,e)})}}}}}}(e,t);throw t.Sc("Unsupported field value: ".concat(Di(e)))}(e,t)}function Wd(e,t){const n={};return Fo(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ro(e,(e,r)=>{const i=qd(r,t.mc(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function Kd(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof ji||e instanceof Rd||e instanceof Pd||e instanceof bd||e instanceof Dd||e instanceof Fd)}function Gd(e,t,n){if(!Kd(n)||!Ni(n)){const r=Di(n);throw"an object"===r?t.Sc(e+" a custom object"):t.Sc(e+" "+r)}}function Qd(e,t,n){if((t=Zt(t))instanceof Nd)return t._internalPath;if("string"==typeof t)return Xd(e,t);throw $d("Field path arguments must be of type string or ",e,!1,void 0,n)}const Yd=new RegExp("[~\\*/\\[\\]]");function Xd(e,t,n){if(t.search(Yd)>=0)throw $d("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new Nd(...t.split("."))._internalPath}catch(r){throw $d("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function $d(e,t,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=" in field ".concat(r)),s&&(l+=" in document ".concat(i)),l+=")"),new ii(ri.INVALID_ARGUMENT,a+e+l)}function Jd(e,t){return e.some(e=>e.isEqual(t))}class Zd{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new bd(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new ef(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(tf("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class ef extends Zd{data(){return super.data()}}function tf(e,t){return"string"==typeof t?Xd(e,t):t instanceof Nd?t._internalPath:t._delegate._internalPath}function nf(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new ii(ri.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class rf{}class of extends rf{}function sf(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];t instanceof rf&&n.push(t),n=n.concat(i),function(e){const t=e.filter(e=>e instanceof lf).length,n=e.filter(e=>e instanceof af).length;if(t>1||t>0&&n>0)throw new ii(ri.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const s of n)e=s._apply(e);return e}class af extends of{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new af(e,t,n)}_apply(e){const t=this._parse(e);return ff(e._query,t),new vd(e.firestore,e.converter,ca(e._query,t))}_parse(e){const t=Ud(e.firestore),n=function(e,t,n,r,i,o,s){let a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new ii(ri.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(o,"' queries on documentId()."));if("in"===o||"not-in"===o){df(s,o);const t=[];for(const n of s)t.push(hf(r,e,n));a={arrayValue:{values:t}}}else a=hf(r,e,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||df(s,o),a=Hd(n,t,s,"in"===o||"not-in"===o);return Os.create(i,o,a)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class lf extends rf{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new lf(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:Ls.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)ff(n,i),n=ca(n,i)}(e._query,t),new vd(e.firestore,e.converter,ca(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class uf extends of{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new uf(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new ii(ri.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new ii(ri.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ds(t,n)}(e._query,this._field,this._direction);return new vd(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new na(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class cf extends of{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new cf(e,t,n)}_apply(e){return new vd(e.firestore,e.converter,ha(e._query,this._limit,this._limitType))}}function hf(e,t,n){if("string"==typeof(n=Zt(n))){if(""===n)throw new ii(ri.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!sa(t)&&-1!==n.indexOf("/"))throw new ii(ri.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(Ti.fromString(n));if(!Ci.isDocumentKey(r))throw new ii(ri.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return ys(e,new Ci(r))}if(n instanceof bd)return ys(e,n._key);throw new ii(ri.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Di(n),"."))}function df(e,t){if(!Array.isArray(e)||0===e.length)throw new ii(ri.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function ff(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new ii(ri.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new ii(ri.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class pf{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(ls(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Wo(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ko(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Zr(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Ro(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){var t;const n=null===(t=e.fields)||void 0===t||null===(t=t[as].arrayValue)||void 0===t||null===(t=t.values)||void 0===t?void 0:t.map(e=>Wo(e.doubleValue));return new Fd(n)}convertGeoPoint(e){return new Rd(Wo(e.latitude),Wo(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Jo(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Zo(e));default:return null}}convertTimestamp(e){const t=qo(e);return new ji(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Ti.fromString(e);ti(du(n),9688,{name:e});const r=new ns(n.get(1),n.get(3)),i=new Ci(n.popFirst(5));return r.isEqual(t)||Xr("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function mf(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class gf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class yf extends Zd{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new vf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(tf("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ii(ri.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=yf._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),e&&e.isValidDocument()&&e.isFoundDocument()?(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t):t}}yf._jsonSchemaVersion="firestore/documentSnapshot/1.0",yf._jsonSchema={type:Oi("string",yf._jsonSchemaVersion),bundleSource:Oi("string","DocumentSnapshot"),bundleName:Oi("string"),bundle:Oi("string")};class vf extends yf{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class bf{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new gf(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new vf(this._firestore,this._userDataWriter,n.key,n,new gf(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ii(ri.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new vf(e._firestore,e._userDataWriter,n.doc.key,n.doc,new gf(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new vf(e._firestore,e._userDataWriter,t.doc.key,t.doc,new gf(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:wf(t.type),doc:r,oldIndex:i,newIndex:o}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ii(ri.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=bf._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=mi.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],r=[];return this.docs.forEach(e=>{null!==e._document&&(t.push(e._document),n.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,"previous")),r.push(e.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function wf(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Zr(61501,{type:e})}}bf._jsonSchemaVersion="firestore/querySnapshot/1.0",bf._jsonSchema={type:Oi("string",bf._jsonSchemaVersion),bundleSource:Oi("string","QuerySnapshot"),bundleName:Oi("string"),bundle:Oi("string")};class Sf extends pf{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pd(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new bd(this.firestore,null,t)}}function Ef(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e=Zt(e);let i={includeMetadataChanges:!1,source:"default"},o=0;"object"!=typeof n[o]||_d(n[o])||(i=n[o++]);const s={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(_d(n[o])){var a,l,u;const e=n[o];n[o]=null===(a=e.next)||void 0===a?void 0:a.bind(e),n[o+1]=null===(l=e.error)||void 0===l?void 0:l.bind(e),n[o+2]=null===(u=e.complete)||void 0===u?void 0:u.bind(e)}let c,h,d;if(e instanceof bd)h=Ri(e.firestore,Cd),d=ia(e._key.path),c={next:t=>{n[o]&&n[o](Tf(h,e,t))},error:n[o+1],complete:n[o+2]};else{const t=Ri(e,vd);h=Ri(t.firestore,Cd),d=t._query;const r=new Sf(h);c={next:e=>{n[o]&&n[o](new bf(h,r,t,e))},error:n[o+1],complete:n[o+2]},nf(e._query)}return function(e,t,n,r){const i=new td(r),o=new Sh(t,i,n);return e.asyncQueue.enqueueAndForget(async()=>ph(await ud(e),o)),()=>{i.Nu(),e.asyncQueue.enqueueAndForget(async()=>mh(await ud(e),o))}}(Id(h),d,s,c)}function xf(e,t){return function(e,t){const n=new oi;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=$h(e);try{const e=await function(e,t){const n=ni(e),r=ji.now(),i=t.reduce((e,t)=>e.add(t.key),Pa());let o,s;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let a=Sa(),l=Pa();return n.Ns.getEntries(e,i).next(e=>{a=e,a.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,a)).next(i=>{o=i;const s=[];for(const e of t){const t=nl(e,o.get(e.key).overlayedDocument);null!=t&&s.push(new ol(e.key,t,Cs(t.value.mapValue),Xa.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,s,t)}).next(t=>{s=t;const r=t.applyToLocalDocumentSet(o,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:s.batchId,changes:Ta(o)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Vu[e.currentUser.toKey()];r||(r=new Oo(gi)),r=r.insert(t,n),e.Vu[e.currentUser.toKey()]=r}(r,e.batchId,n),await Gh(r,e.changes),await Gc(r.remoteStore)}catch(e){const t=ah(e,"Failed to persist write");n.reject(t)}}(await ld(e),t,n)),n.promise}(Id(e),t)}function Tf(e,t,n){const r=n.docs.get(t._key),i=new Sf(e);return new yf(e,i,t._key,r,new gf(n.hasPendingWrites,n.fromCache),t.converter)}function kf(){return new Bd("serverTimestamp")}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Kr=e}(mr),cr(new en("firestore",(e,n)=>{let{instanceIdentifier:r,options:i}=n;const o=e.getProvider("app").getImmediate(),s=new Cd(new ui(e.getProvider("auth-internal")),new fi(o,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new ii(ri.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ns(e.options.projectId,t)}(o,r),o);return i=c({useFetchStreams:t},i),s._setSettings(i),s},"PUBLIC").setMultipleInstances(!0)),vr(Hr,qr,e),vr(Hr,qr,"esm2020")}();const _f=["providerId"],Cf=["uid","auth","stsTokenManager"],If=["providerId","signInMethod"];function Af(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Pf=Af,Nf=new qt("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Df=new hn("@firebase/auth");function Rf(e){if(Df.logLevel<=sn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Df.error("Auth (".concat(mr,"): ").concat(e),...n)}}function Ff(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw jf(e,...n)}function Of(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return jf(e,...n)}function Lf(e,t,n){const r=c(c({},Pf()),{},{[t]:n});return new qt("auth","Firebase",r).create(t,{appName:e.name})}function Mf(e){return Lf(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Vf(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Ff(e,"argument-error"),Lf(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function jf(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Nf.create(e,...n)}function Uf(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw jf(t,...r)}}function zf(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Rf(t),new Error(t)}function Bf(e,t){e||zf(t)}function Hf(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function qf(){return"http:"===Wf()||"https:"===Wf()}function Wf(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function Kf(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(qf()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class Gf{constructor(e,t){this.shortDelay=e,this.longDelay=t,Bf(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(jt())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return Kf()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Qf(e,t){Bf(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class Yf{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void zf("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void zf("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void zf("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Xf={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},$f=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Jf=new Gf(3e4,6e4);function Zf(e,t){return e.tenantId&&!t.tenantId?c(c({},t),{},{tenantId:e.tenantId}):t}async function ep(e,t,n,r){return tp(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const s=Qt(c({key:e.config.apiKey},o)).slice(1),a=await e._getAdditionalHeaders();a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode);const l=c({method:t,headers:a},i);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),e.emulatorConfig&&Ft(e.emulatorConfig.host)&&(l.credentials="include"),Yf.fetch()(await rp(e,e.config.apiHost,n,s),l)})}async function tp(e,t,n){e._canInitEmulator=!1;const r=c(c({},Xf),t);try{const t=new op(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw sp(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw sp(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw sp(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw sp(e,"user-disabled",o);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw Lf(e,a,s);Ff(e,a)}}catch(Ok){if(Ok instanceof Ht)throw Ok;Ff(e,"network-request-failed",{message:String(Ok)})}}async function np(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const o=await ep(e,t,n,r,i);return"mfaPendingCredential"in o&&Ff(e,"multi-factor-auth-required",{_serverResponse:o}),o}async function rp(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r),o=e,s=o.config.emulator?Qf(e.config,i):"".concat(e.config.apiScheme,"://").concat(i);if($f.includes(n)&&(await o._persistenceManagerAvailable,"COOKIE"===o._getPersistenceType())){return o._getPersistence()._getFinalTarget(s).toString()}return s}function ip(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class op{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(Of(this.auth,"network-request-failed")),Jf.get())})}}function sp(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Of(e,t,r);return i.customData._tokenResponse=n,i}function ap(e){return void 0!==e&&void 0!==e.enterprise}class lp{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return ip(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function up(e,t){return ep(e,"GET","/v2/recaptchaConfig",Zf(e,t))}async function cp(e,t){return ep(e,"POST","/v1/accounts:lookup",t)}function hp(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(Ok){}}function dp(e){return 1e3*Number(e)}function fp(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Rf("JWT malformed, contained fewer than 3 sections"),null;try{const e=Ct(n);return e?JSON.parse(e):(Rf("Failed to decode base64 JWT payload"),null)}catch(Ok){return Rf("Caught error parsing JWT payload as JSON",null===Ok||void 0===Ok?void 0:Ok.toString()),null}}function pp(e){const t=fp(e);return Uf(t,"internal-error"),Uf("undefined"!==typeof t.exp,"internal-error"),Uf("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function mp(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(Ok){throw Ok instanceof Ht&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(Ok)&&e.auth.currentUser===e&&await e.auth.signOut(),Ok}}class gp{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{var t;this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(Ok){return void((null===Ok||void 0===Ok?void 0:Ok.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class yp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=hp(this.lastLoginAt),this.creationTime=hp(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function vp(e){var t;const n=e.auth,r=await e.getIdToken(),i=await mp(e,cp(n,{idToken:r}));Uf(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const s=null!==(t=o.providerUserInfo)&&void 0!==t&&t.length?bp(o.providerUserInfo):[],a=(l=e.providerData,u=s,[...l.filter(e=>!u.some(t=>t.providerId===e.providerId)),...u]);var l,u;const c=e.isAnonymous,h=!(e.email&&o.passwordHash)&&!(null!==a&&void 0!==a&&a.length),d=!!c&&h,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new yp(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(e,f)}function bp(e){return e.map(e=>{let{providerId:t}=e,n=o(e,_f);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}class wp{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Uf(e.idToken,"internal-error"),Uf("undefined"!==typeof e.idToken,"internal-error"),Uf("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):pp(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Uf(0!==e.length,"internal-error");const t=pp(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(Uf(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await tp(e,{},async()=>{const n=Qt({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=await rp(e,r,"/v1/token","key=".concat(i)),s=await e._getAdditionalHeaders();s["Content-Type"]="application/x-www-form-urlencoded";const a={method:"POST",headers:s,body:n};return e.emulatorConfig&&Ft(e.emulatorConfig.host)&&(a.credentials="include"),Yf.fetch()(o,a)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new wp;return n&&(Uf("string"===typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(Uf("string"===typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(Uf("number"===typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new wp,this.toJSON())}_performRefresh(){return zf("not implemented")}}function Sp(e,t){Uf("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Ep{constructor(e){let{uid:t,auth:n,stsTokenManager:r}=e,i=o(e,Cf);this.providerId="firebase",this.proactiveRefresh=new gp(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new yp(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await mp(this,this.stsTokenManager.getToken(this.auth,e));return Uf(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Zt(e),r=await n.getIdToken(t),i=fp(r);Uf(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"===typeof i.firebase?i.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:hp(dp(i.auth_time)),issuedAtTime:hp(dp(i.iat)),expirationTime:hp(dp(i.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=Zt(e);await vp(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Uf(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>c({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ep(c(c({},this),{},{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Uf(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await vp(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(dr(this.auth.app))return Promise.reject(Mf(this.auth));const e=await this.getIdToken();return await mp(this,async function(e,t){return ep(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return c(c({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>c({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{},{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,s,a,l,u;const h=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,f=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,p=null!==(o=t.photoURL)&&void 0!==o?o:void 0,m=null!==(s=t.tenantId)&&void 0!==s?s:void 0,g=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,y=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:b,emailVerified:w,isAnonymous:S,providerData:E,stsTokenManager:x}=t;Uf(b&&x,e,"internal-error");const T=wp.fromJSON(this.name,x);Uf("string"===typeof b,e,"internal-error"),Sp(h,e.name),Sp(d,e.name),Uf("boolean"===typeof w,e,"internal-error"),Uf("boolean"===typeof S,e,"internal-error"),Sp(f,e.name),Sp(p,e.name),Sp(m,e.name),Sp(g,e.name),Sp(y,e.name),Sp(v,e.name);const k=new Ep({uid:b,auth:e,email:d,emailVerified:w,displayName:h,isAnonymous:S,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:T,createdAt:y,lastLoginAt:v});return E&&Array.isArray(E)&&(k.providerData=E.map(e=>c({},e))),g&&(k._redirectEventId=g),k}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new wp;r.updateFromServerResponse(t);const i=new Ep({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await vp(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];Uf(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?bp(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(null!==i&&void 0!==i&&i.length),s=new wp;s.updateFromIdToken(n);const a=new Ep({uid:r.localId,auth:e,stsTokenManager:s,isAnonymous:o}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new yp(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null!==i&&void 0!==i&&i.length)};return Object.assign(a,l),a}}const xp=new Map;function Tp(e){Bf(e instanceof Function,"Expected a class definition");let t=xp.get(e);return t?(Bf(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,xp.set(e,t),t)}class kp{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}kp.type="NONE";const _p=kp;function Cp(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class Ip{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=Cp(this.userKey,r.apiKey,i),this.fullPersistenceKey=Cp("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const t=await cp(this.auth,{idToken:e}).catch(()=>{});return t?Ep._fromGetAccountInfoResponse(this.auth,t,e):null}return Ep._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new Ip(Tp(_p),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let i=r[0]||Tp(_p);const o=Cp(n,e.config.apiKey,e.name);let s=null;for(const u of t)try{const t=await u._get(o);if(t){let n;if("string"===typeof t){const r=await cp(e,{idToken:t}).catch(()=>{});if(!r)break;n=await Ep._fromGetAccountInfoResponse(e,r,t)}else n=Ep._fromJSON(e,t);u!==i&&(s=n),i=u;break}}catch(l){}const a=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&a.length?(i=a[0],s&&await i._set(o,s.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(o)}catch(t){}})),new Ip(i,e,n)):new Ip(i,e,n)}}function Ap(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Rp(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Pp(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Op(t))return"Blackberry";if(Lp(t))return"Webos";if(Np(t))return"Safari";if((t.includes("chrome/")||Dp(t))&&!t.includes("edge/"))return"Chrome";if(Fp(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Pp(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt();return/firefox\//i.test(e)}function Np(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Dp(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt();return/crios\//i.test(e)}function Rp(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt();return/iemobile/i.test(e)}function Fp(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt();return/android/i.test(e)}function Op(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt();return/blackberry/i.test(e)}function Lp(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt();return/webos/i.test(e)}function Mp(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Vp(){return function(){const e=jt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function jp(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt();return Mp(e)||Fp(e)||Lp(e)||Op(e)||/windows phone/i.test(e)||Rp(e)}function Up(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Ap(jt());break;case"Worker":t="".concat(Ap(jt()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(mr,"/").concat(r)}class zp{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(Ok){r(Ok)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(Ok){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===Ok||void 0===Ok?void 0:Ok.message})}}}class Bp{constructor(e){var t,n,r,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=o.minPasswordLength)&&void 0!==t?t:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(n=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==n?n:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,o,s;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(o=a.containsNumericCharacter)||void 0===o||o),a.isValid&&(a.isValid=null===(s=a.containsNonAlphanumericCharacter)||void 0===s||s),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class Hp{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Wp(this),this.idTokenSubscription=new Wp(this),this.beforeStateQueue=new zp(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Nf,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Tp(t)),this._initializationPromise=this.queue(async()=>{var n,r,i;if(!this._deleted&&(this.persistenceManager=await Ip.create(this,e),null===(n=this._resolvePersistenceManagerAvailable)||void 0===n||n.call(this),!this._deleted)){if(null!==(r=this._popupRedirectResolver)&&void 0!==r&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(Ok){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(i=this.currentUser)||void 0===i?void 0:i.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await cp(this,{idToken:e}),n=await Ep._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(dr(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let n=t,r=!1;if(e&&this.config.authDomain){var i,o;await this.getOrInitRedirectPersistenceManager();const t=null===(i=this.redirectUser)||void 0===i?void 0:i._redirectEventId,s=null===(o=n)||void 0===o?void 0:o._redirectEventId,a=await this.tryRedirectSignIn(e);t&&t!==s||null===a||void 0===a||!a.user||(n=a.user,r=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(n)}catch(Ok){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(Ok))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return Uf(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(Ok){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await vp(e)}catch(Ok){if((null===Ok||void 0===Ok?void 0:Ok.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(dr(this.app))return Promise.reject(Mf(this));const t=e?Zt(e):null;return t&&Uf(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Uf(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return dr(this.app)?Promise.reject(Mf(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return dr(this.app)?Promise.reject(Mf(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Tp(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return ep(e,"GET","/v2/passwordPolicy",Zf(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Bp(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new qt("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return ep(e,"POST","/v2/accounts:revokeToken",Zf(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Tp(e)||this._popupRedirectResolver;Uf(t,this,"argument-error"),this.redirectPersistenceManager=await Ip.create(this,[Tp(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let o=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(Uf(s,this,"internal-error"),s.then(()=>{o||i(this.currentUser)}),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{o=!0,i()}}{const n=e.addObserver(t);return()=>{o=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Uf(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Up(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(dr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return null!==t&&void 0!==t&&t.error&&function(e){if(Df.logLevel<=sn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Df.warn("Auth (".concat(mr,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function qp(e){return Zt(e)}class Wp{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new $t(e,t);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return Uf(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Kp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Gp(e){return Kp.loadJS(e)}function Qp(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class Yp{constructor(){this.enterprise=new Xp}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Xp{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const $p="NO_RECAPTCHA";class Jp{constructor(e){this.type="recaptcha-enterprise",this.auth=qp(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;ap(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n($p)})}):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new Yp).execute("siteKey",{action:"verify"})}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{up(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new lp(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(i=>{if(!t&&ap(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Kp.recaptchaEnterpriseScript;0!==t.length&&(t+=i),Gp(t).then(()=>{n(i,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function Zp(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const o=new Jp(e);let s;if(i)s=$p;else try{s=await o.verify(n)}catch(l){s=await o.verify(n,!0)}const a=c({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in a){const e=a.phoneEnrollmentInfo.phoneNumber,t=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const e=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function em(e,t,n,r,i){if("EMAIL_PASSWORD_PROVIDER"===i){var o;if(null!==(o=e._getRecaptchaConfig())&&void 0!==o&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Zp(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch(async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await Zp(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)})}if("PHONE_PROVIDER"===i){var s;if(null!==(s=e._getRecaptchaConfig())&&void 0!==s&&s.isProviderEnabled("PHONE_PROVIDER")){const i=await Zp(e,t,n);return r(e,i).catch(async i=>{var o;if("AUDIT"===(null===(o=e._getRecaptchaConfig())||void 0===o?void 0:o.getProviderEnforcementState("PHONE_PROVIDER"))&&(i.code==="auth/".concat("missing-recaptcha-token")||i.code==="auth/".concat("invalid-app-credential"))){console.log("Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ".concat(n," flow."));const i=await Zp(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)})}{const i=await Zp(e,t,n,!1,!0);return r(e,i)}}return Promise.reject(i+" provider is not supported.")}async function tm(e){const t=qp(e),n=await up(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new lp(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new Jp(t).verify()}}function nm(e,t,n){const r=qp(e);Uf(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!(null===n||void 0===n||!n.disableWarnings),o=rm(t),{host:s,port:a}=function(e){const t=rm(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:im(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:im(t)}}}(t),l=null===a?"":":".concat(a),u={url:"".concat(o,"//").concat(s).concat(l,"/")},c=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator)return Uf(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void Uf(Kt(u,r.config.emulator)&&Kt(c,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=u,r.emulatorConfig=c,r.settings.appVerificationDisabledForTesting=!0,Ft(s)?(Ot("".concat(o,"//").concat(s).concat(l)),Vt("Auth",!0)):i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function rm(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function im(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class om{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return zf("not implemented")}_getIdTokenResponse(e){return zf("not implemented")}_linkToIdToken(e,t){return zf("not implemented")}_getReauthenticationResolver(e){return zf("not implemented")}}async function sm(e,t){return ep(e,"POST","/v1/accounts:signUp",t)}async function am(e,t){return np(e,"POST","/v1/accounts:signInWithPassword",Zf(e,t))}class lm extends om{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new lm(e,t,"password")}static _fromEmailAndCode(e,t){return new lm(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if(null!==t&&void 0!==t&&t.email&&null!==t&&void 0!==t&&t.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return em(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",am,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return np(e,"POST","/v1/accounts:signInWithEmailLink",Zf(e,t))}(e,{email:this._email,oobCode:this._password});default:Ff(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return em(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",sm,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return np(e,"POST","/v1/accounts:signInWithEmailLink",Zf(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Ff(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function um(e,t){return np(e,"POST","/v1/accounts:signInWithIdp",Zf(e,t))}class cm extends om{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new cm(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ff("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=o(t,If);if(!n||!r)return null;const s=new cm(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return um(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,um(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,um(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Qt(t)}return e}}async function hm(e,t){return ep(e,"POST","/v1/accounts:sendVerificationCode",Zf(e,t))}const dm={USER_NOT_FOUND:"user-not-found"};class fm extends om{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new fm({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new fm({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return np(e,"POST","/v1/accounts:signInWithPhoneNumber",Zf(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await np(e,"POST","/v1/accounts:signInWithPhoneNumber",Zf(e,t));if(n.temporaryProof)throw sp(e,"account-exists-with-different-credential",n);return n}(e,c({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return np(e,"POST","/v1/accounts:signInWithPhoneNumber",Zf(e,c(c({},t),{},{operation:"REAUTH"})),dm)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new fm({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class pm{constructor(e){var t,n,r,i,o,s;const a=Yt(Xt(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,u=null!==(n=a.oobCode)&&void 0!==n?n:null,c=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);Uf(l&&u&&c,"argument-error"),this.apiKey=l,this.operation=c,this.code=u,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=a.lang)&&void 0!==o?o:null,this.tenantId=null!==(s=a.tenantId)&&void 0!==s?s:null}static parseLink(e){const t=function(e){const t=Yt(Xt(e)).link,n=t?Yt(Xt(t)).deep_link_id:null,r=Yt(Xt(e)).deep_link_id;return(r?Yt(Xt(r)).link:null)||r||n||t||e}(e);try{return new pm(t)}catch(n){return null}}}class mm{constructor(){this.providerId=mm.PROVIDER_ID}static credential(e,t){return lm._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=pm.parseLink(t);return Uf(n,"argument-error"),lm._fromEmailAndCode(e,n.code,n.tenantId)}}mm.PROVIDER_ID="password",mm.EMAIL_PASSWORD_SIGN_IN_METHOD="password",mm.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class gm{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ym extends gm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class vm extends ym{constructor(){super("facebook.com")}static credential(e){return cm._fromParams({providerId:vm.PROVIDER_ID,signInMethod:vm.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vm.credentialFromTaggedObject(e)}static credentialFromError(e){return vm.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return vm.credential(t.oauthAccessToken)}catch(n){return null}}}vm.FACEBOOK_SIGN_IN_METHOD="facebook.com",vm.PROVIDER_ID="facebook.com";class bm extends ym{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return cm._fromParams({providerId:bm.PROVIDER_ID,signInMethod:bm.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return bm.credentialFromTaggedObject(e)}static credentialFromError(e){return bm.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return bm.credential(n,r)}catch(i){return null}}}bm.GOOGLE_SIGN_IN_METHOD="google.com",bm.PROVIDER_ID="google.com";class wm extends ym{constructor(){super("github.com")}static credential(e){return cm._fromParams({providerId:wm.PROVIDER_ID,signInMethod:wm.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wm.credentialFromTaggedObject(e)}static credentialFromError(e){return wm.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return wm.credential(t.oauthAccessToken)}catch(n){return null}}}wm.GITHUB_SIGN_IN_METHOD="github.com",wm.PROVIDER_ID="github.com";class Sm extends ym{constructor(){super("twitter.com")}static credential(e,t){return cm._fromParams({providerId:Sm.PROVIDER_ID,signInMethod:Sm.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Sm.credentialFromTaggedObject(e)}static credentialFromError(e){return Sm.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Sm.credential(n,r)}catch(i){return null}}}Sm.TWITTER_SIGN_IN_METHOD="twitter.com",Sm.PROVIDER_ID="twitter.com";class Em{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await Ep._fromIdTokenResponse(e,n,r),o=xm(n);return new Em({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=xm(n);return new Em({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function xm(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Tm extends Ht{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Tm.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Tm(e,t,n,r)}}function km(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw Tm._fromErrorAndOperation(e,n,t,r);throw n})}async function _m(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await mp(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Em._forOperation(e,"link",r)}async function Cm(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(dr(r.app))return Promise.reject(Mf(r));const i="reauthenticate";try{const o=await mp(e,km(r,i,t,e),n);Uf(o.idToken,r,"internal-error");const s=fp(o.idToken);Uf(s,r,"internal-error");const{sub:a}=s;return Uf(e.uid===a,r,"user-mismatch"),Em._forOperation(e,i,o)}catch(Ok){throw(null===Ok||void 0===Ok?void 0:Ok.code)==="auth/".concat("user-not-found")&&Ff(r,"user-mismatch"),Ok}}async function Im(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(dr(e.app))return Promise.reject(Mf(e));const r="signIn",i=await km(e,r,t),o=await Em._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}function Am(e,t){return ep(e,"POST","/v2/accounts/mfaEnrollment:start",Zf(e,t))}new WeakMap;const Pm="__sak";class Nm{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Pm,"1"),this.storage.removeItem(Pm),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Dm extends Nm{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=jp(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);Vp()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Dm.type="LOCAL";const Rm=Dm;function Fm(e){var t,n;const r=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),i=RegExp("".concat(r,"=([^;]+)"));return null!==(t=null===(n=document.cookie.match(i))||void 0===n?void 0:n[1])&&void 0!==t?t:null}function Om(e){const t="http:"===window.location.protocol;return"".concat(t?"__dev_":"__HOST-","FIREBASE_").concat(e.split(":")[3])}class Lm{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL("".concat(window.location.origin,"/__cookies__"));return t.searchParams.set("finalTarget",e),t}async _isAvailable(){var e;return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(null===(e=navigator.cookieEnabled)||void 0===e||e))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=Om(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return null===e||void 0===e?void 0:e.value}return Fm(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=Om(e);document.cookie="".concat(t,"=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High"),await fetch("/__cookies__",{method:"DELETE"}).catch(()=>{})}_addListener(e,t){if(!this._isAvailable())return;const n=Om(e);if(window.cookieStore){const e=e=>{const r=e.changed.find(e=>e.name===n);r&&t(r.value);e.deleted.find(e=>e.name===n)&&t(null)},r=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,r),window.cookieStore.addEventListener("change",e)}let r=Fm(n);const i=setInterval(()=>{const e=Fm(n);e!==r&&(t(e),r=e)},1e3);this.listenerUnsubscribes.set(t,()=>clearInterval(i))}_removeListener(e,t){const n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}}Lm.type="COOKIE";class Mm extends Nm{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Mm.type="SESSION";const Vm=Mm;class jm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new jm(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(null===o||void 0===o||!o.size)return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(o).map(async e=>e(t.origin,i)),a=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Um(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}jm.receivers=[];class zm{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise((s,a)=>{const l=Um("",20);r.port1.start();const u=setTimeout(()=>{a(new Error("unsupported_event"))},n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{a(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),s(t.data.response);break;default:clearTimeout(u),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}function Bm(){return window}function Hm(){return"undefined"!==typeof Bm().WorkerGlobalScope&&"function"===typeof Bm().importScripts}const qm="firebaseLocalStorageDb",Wm="firebaseLocalStorage",Km="fbase_key";class Gm{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Qm(e,t){return e.transaction([Wm],t?"readwrite":"readonly").objectStore(Wm)}function Ym(){const e=indexedDB.open(qm,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(Wm,{keyPath:Km})}catch(Ok){n(Ok)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(Wm)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(qm);return new Gm(e).toPromise()}(),t(await Ym()))})})}async function Xm(e,t,n){const r=Qm(e,!0).put({[Km]:t,value:n});return new Gm(r).toPromise()}function $m(e,t){const n=Qm(e,!0).delete(t);return new Gm(n).toPromise()}class Jm{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await Ym()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(Ok){if(t++>3)throw Ok;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Hm()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=jm._getInstance(Hm()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){var e;if(null===(e=navigator)||void 0===e||!e.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch(t){return null}}(),!this.activeServiceWorker)return;this.sender=new zm(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&null!==(e=n[0])&&void 0!==e&&e.fulfilled&&null!==(t=n[0])&&void 0!==t&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=navigator)||void 0===e||null===(e=e.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ym();return await Xm(e,Pm,"1"),await $m(e,Pm),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Xm(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=Qm(e,!1).get(t),r=await new Gm(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>$m(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=Qm(e,!1).getAll();return new Gm(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Jm.type="LOCAL";const Zm=Jm;function eg(e,t){return ep(e,"POST","/v2/accounts/mfaSignIn:start",Zf(e,t))}Qp("rcb"),new Gf(3e4,6e4);const tg="recaptcha";async function ng(e,t,n){if(!e._getRecaptchaConfig())try{await tm(e)}catch(i){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(i="string"===typeof t?{phoneNumber:t}:t,"session"in i){const t=i.session;if("phoneNumber"in i){Uf("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},o=em(e,r,"mfaSmsEnrollment",async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===$p){Uf((null===n||void 0===n?void 0:n.type)===tg,e,"argument-error");return Am(e,await rg(e,t,n))}return Am(e,t)},"PHONE_PROVIDER");return(await o.catch(e=>Promise.reject(e))).phoneSessionInfo.sessionInfo}{var r;Uf("signin"===t.type,e,"internal-error");const o=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;Uf(o,e,"missing-multi-factor-info");const s={mfaPendingCredential:t.credential,mfaEnrollmentId:o,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},a=em(e,s,"mfaSmsSignIn",async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===$p){Uf((null===n||void 0===n?void 0:n.type)===tg,e,"argument-error");return eg(e,await rg(e,t,n))}return eg(e,t)},"PHONE_PROVIDER");return(await a.catch(e=>Promise.reject(e))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=em(e,t,"sendVerificationCode",async(e,t)=>{if(t.captchaResponse===$p){Uf((null===n||void 0===n?void 0:n.type)===tg,e,"argument-error");return hm(e,await rg(e,t,n))}return hm(e,t)},"PHONE_PROVIDER");return(await r.catch(e=>Promise.reject(e))).sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function rg(e,t,n){Uf(n.type===tg,e,"argument-error");const r=await n.verify();Uf("string"===typeof r,e,"argument-error");const i=c({},t);if("phoneEnrollmentInfo"in i){const e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,o=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:o}}),i}if("phoneSignInInfo"in i){const e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}return Object.assign(i,{recaptchaToken:r}),i}class ig{constructor(e){this.providerId=ig.PROVIDER_ID,this.auth=qp(e)}verifyPhoneNumber(e,t){return ng(this.auth,e,Zt(t))}static credential(e,t){return fm._fromVerification(e,t)}static credentialFromResult(e){const t=e;return ig.credentialFromTaggedObject(t)}static credentialFromError(e){return ig.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?fm._fromTokenResponse(n,r):null}}function og(e,t){return t?Tp(t):(Uf(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}ig.PROVIDER_ID="phone",ig.PHONE_SIGN_IN_METHOD="phone";class sg extends om{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return um(e,this._buildIdpRequest())}_linkToIdToken(e,t){return um(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return um(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function ag(e){return Im(e.auth,new sg(e),e.bypassAuthState)}function lg(e){const{auth:t,user:n}=e;return Uf(n,t,"internal-error"),Cm(n,new sg(e),e.bypassAuthState)}async function ug(e){const{auth:t,user:n}=e;return Uf(n,t,"internal-error"),_m(n,new sg(e),e.bypassAuthState)}class cg{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(Ok){this.reject(Ok)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:s}=e;if(o)return void this.reject(o);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(a))}catch(Ok){this.reject(Ok)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ag;case"linkViaPopup":case"linkViaRedirect":return ug;case"reauthViaPopup":case"reauthViaRedirect":return lg;default:Ff(this.auth,"internal-error")}}resolve(e){Bf(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Bf(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const hg=new Gf(2e3,1e4);class dg extends cg{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,dg.currentPopupAction&&dg.currentPopupAction.cancel(),dg.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Uf(e,this.auth,"internal-error"),e}async onExecution(){Bf(1===this.filter.length,"Popup operations only handle one event");const e=Um();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Of(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Of(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,dg.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t;null!==(t=this.authWindow)&&void 0!==t&&null!==(t=t.window)&&void 0!==t&&t.closed?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Of(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,hg.get())};e()}}dg.currentPopupAction=null;const fg=new Map;class pg extends cg{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=fg.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=yg(t),r=gg(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(Ok){e=()=>Promise.reject(Ok)}fg.set(this.auth._key(),e)}return this.bypassAuthState||fg.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function mg(e,t){fg.set(e._key(),t)}function gg(e){return Tp(e._redirectPersistence)}function yg(e){return Cp("pendingRedirect",e.config.apiKey,e.name)}async function vg(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(dr(e.app))return Promise.reject(Mf(e));const r=qp(e),i=og(r,t),o=new pg(r,i,n),s=await o.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}class bg{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Sg(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!Sg(e)){var n;const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Of(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(wg(e))}saveEventToCache(e){this.cachedEventUids.add(wg(e)),this.lastProcessedEventTime=Date.now()}}function wg(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function Sg(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const Eg=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xg=/^https?/;async function Tg(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return ep(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(kg(r))return}catch(n){}Ff(e,"unauthorized-domain")}function kg(e){const t=Hf(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!xg.test(n))return!1;if(Eg.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const _g=new Gf(3e4,6e4);function Cg(){const e=Bm().___jsl;if(null!==e&&void 0!==e&&e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function Ig(e){return new Promise((t,n)=>{var r,i;function o(){Cg(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Cg(),n(Of(e,"network-request-failed"))},timeout:_g.get()})}if(null!==(r=Bm().gapi)&&void 0!==r&&null!==(r=r.iframes)&&void 0!==r&&r.Iframe)t(gapi.iframes.getContext());else{if(null===(i=Bm().gapi)||void 0===i||!i.load){const t=Qp("iframefcb");return Bm()[t]=()=>{gapi.load?o():n(Of(e,"network-request-failed"))},Gp("".concat(Kp.gapiScript,"?onload=").concat(t)).catch(e=>n(e))}o()}}).catch(e=>{throw Ag=null,e})}let Ag=null;const Pg=new Gf(5e3,15e3),Ng={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Dg=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Rg(e){const t=e.config;Uf(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Qf(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:mr},i=Dg.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),"".concat(n,"?").concat(Qt(r).slice(1))}async function Fg(e){const t=await function(e){return Ag=Ag||Ig(e),Ag}(e),n=Bm().gapi;return Uf(n,e,"internal-error"),t.open({where:document.body,url:Rg(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ng,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Of(e,"network-request-failed"),o=Bm().setTimeout(()=>{r(i)},Pg.get());function s(){Bm().clearTimeout(o),n(t)}t.ping(s).then(s,()=>{r(i)})}))}const Og={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Lg{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(Ok){}}}function Mg(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=c(c({},Og),{},{width:r.toString(),height:i.toString(),top:o,left:s}),u=jt().toLowerCase();n&&(a=Dp(u)?"_blank":n),Pp(u)&&(t=t||"http://localhost",l.scrollbars="yes");const h=Object.entries(l).reduce((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")},"");if(function(){var e;return Mp(arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt())&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(u)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new Lg(null);const d=window.open(t||"",a,h);Uf(d,e,"popup-blocked");try{d.focus()}catch(Ok){}return new Lg(d)}const Vg="__/auth/handler",jg="emulator/auth/handler",Ug=encodeURIComponent("fac");async function zg(e,t,n,r,i,o){Uf(e.config.authDomain,e,"auth-domain-config-required"),Uf(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:mr,eventId:i};if(t instanceof gm){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))s[e]=t}if(t instanceof ym){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(s.scopes=e.join(","))}e.tenantId&&(s.tid=e.tenantId);const a=s;for(const c of Object.keys(a))void 0===a[c]&&delete a[c];const l=await e._getAppCheckToken(),u=l?"#".concat(Ug,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Vg);return Qf(t,jg)}(e),"?").concat(Qt(a).slice(1)).concat(u)}const Bg="webStorageSupport";const Hg=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Vm,this._completeRedirectFn=vg,this._overrideRedirectResult=mg}async _openPopup(e,t,n,r){var i;Bf(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return Mg(e,await zg(e,t,n,Hf(),r),Um())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Bm().location.href=e}(await zg(e,t,n,Hf(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Bf(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await Fg(e),n=new bg(e);return t.register("authEvent",t=>{Uf(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Bg,{type:Bg},n=>{var r;const i=null===n||void 0===n||null===(r=n[0])||void 0===r?void 0:r[Bg];void 0!==i&&t(!!i),Ff(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Tg(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return jp()||Np()||Mp()}};var qg="@firebase/auth",Wg="1.11.1";class Kg{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Uf(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Gg=Dt("authIdTokenMaxAge")||300;let Qg=null;var Yg;Kp={loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Of("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},Yg="Browser",cr(new en("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Uf(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:Yg,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Up(Yg)},u=new Hp(r,i,o,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Tp);null!==t&&void 0!==t&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),cr(new en("auth-internal",e=>(e=>new Kg(e))(qp(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),vr(qg,Wg,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Yg)),vr(qg,Wg,"esm2020");const Xg={apiKey:"AIzaSyAp3Otx8ItIiq136vv3RqKWXp-ScbJD8mk",authDomain:"cheering-board.firebaseapp.com",projectId:"cheering-board",storageBucket:"cheering-board.firebasestorage.app",messagingSenderId:"968351563299",appId:"1:968351563299:web:039efb37975a3f3886bb96"};let $g,Jg,Zg,ey;try{Object.values(Xg).every(e=>e&&!e.includes("your_")&&!e.includes("REPLACE"))?($g=gr(Xg),Jg=function(e,t){const n="object"==typeof e?e:yr(),r="string"==typeof e?e:t||ts,i=hr(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const e=(()=>{const e=Pt("firestore");if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error("Invalid host ".concat(e," with no separate hostname and port!"));const n=parseInt(e.substring(t+1),10);return"["===e[0]?[e.substring(1,t-1),n]:[e.substring(0,t),n]})();e&&yd(i,...e)}return i}($g),Zg=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yr();const t=hr(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=hr(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(Kt(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;Ff(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Hg,persistence:[Zm,Rm,Vm]}),r=Dt("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Gg)return;const r=null===t||void 0===t?void 0:t.token;Qg!==r&&(Qg=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){Zt(e).beforeAuthStateChanged(t,n)}(n,t,()=>t(n.currentUser)),function(e,t,n,r){Zt(e).onIdTokenChanged(t,n,r)}(n,e=>t(e))}}var i;const o=Pt("auth");return o&&nm(n,"http://".concat(o)),n}($g),ey=new bm):(Jg=null,$g=null,Zg=null)}catch(Lk){Jg=null,$g=null,Zg=null}var ty=n(579);const ny=(0,r.createContext)(),ry=()=>{const e=(0,r.useContext)(ny);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},iy=e=>{let{children:t}=e;const[n,i]=(0,r.useState)(null),[o,s]=(0,r.useState)(!0);(0,r.useEffect)(()=>{(async function(e,t){return await qp(e)._initializationPromise,vg(e,t,!1)})(Zg).then(()=>{}).catch(()=>{});const e=function(e,t,n,r){return Zt(e).onAuthStateChanged(t,n,r)}(Zg,e=>{i(e),s(!1)});return()=>e()},[]);const a={user:n,loading:o,signOut:async()=>{try{await function(e){return Zt(e).signOut()}(Zg),i(null)}catch(Lk){throw Lk}},isAuthenticated:!!n};return(0,ty.jsx)(ny.Provider,{value:a,children:!o&&t})},oy=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],sy=(()=>new Set(oy))(),ay=e=>180*e/Math.PI,ly=e=>{const t=ay(Math.atan2(e[1],e[0]));return cy(t)},uy={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:ly,rotateZ:ly,skewX:e=>ay(Math.atan(e[1])),skewY:e=>ay(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},cy=e=>((e%=360)<0&&(e+=360),e),hy=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),dy=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),fy={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:hy,scaleY:dy,scale:e=>(hy(e)+dy(e))/2,rotateX:e=>cy(ay(Math.atan2(e[6],e[5]))),rotateY:e=>cy(ay(Math.atan2(-e[2],e[0]))),rotateZ:ly,rotate:ly,skewX:e=>ay(Math.atan(e[4])),skewY:e=>ay(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function py(e){return e.includes("scale")?1:0}function my(e,t){if(!e||"none"===e)return py(t);const n=e.match(/^matrix3d\(([\t-\r ,-\.0-9e\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+)\)$/);let r,i;if(n)r=fy,i=n;else{const t=e.match(/^matrix\(([\t-\r ,-\.0-9e\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+)\)$/);r=uy,i=t}if(!i)return py(t);const o=r[t],s=i[1].split(",").map(gy);return"function"===typeof o?o(s):s[o]}function gy(e){return parseFloat(e.trim())}const yy=e=>t=>"string"===typeof t&&t.startsWith(e),vy=yy("--"),by=yy("var(--"),wy=e=>!!by(e)&&Sy.test(e.split("/*")[0].trim()),Sy=/var\(--(?:[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*|[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*,(?:[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:(?![\t-\r \(\)\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uD800-\uDFFF\uFEFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\((?:(?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|\((?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])*\))*\))+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)\)$/i;function Ey(e){let{top:t,left:n,right:r,bottom:i}=e;return{x:{min:n,max:r},y:{min:t,max:i}}}const xy=(e,t,n)=>e+(t-e)*n;function Ty(e){return void 0===e||1===e}function ky(e){let{scale:t,scaleX:n,scaleY:r}=e;return!Ty(t)||!Ty(n)||!Ty(r)}function _y(e){return ky(e)||Cy(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Cy(e){return Iy(e.x)||Iy(e.y)}function Iy(e){return e&&"0%"!==e}function Ay(e,t,n){return n+t*(e-n)}function Py(e,t,n,r,i){return void 0!==i&&(e=Ay(e,i,r)),Ay(e,n,r)+t}function Ny(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;e.min=Py(e.min,t,n,r,i),e.max=Py(e.max,t,n,r,i)}function Dy(e,t){let{x:n,y:r}=t;Ny(e.x,n.translate,n.scale,n.originPoint),Ny(e.y,r.translate,r.scale,r.originPoint)}const Ry=.999999999999,Fy=1.0000000000001;function Oy(e,t){e.min=e.min+t,e.max=e.max+t}function Ly(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5;Ny(e,t,n,xy(e.min,e.max,i),r)}function My(e,t){Ly(e.x,t.x,t.scaleX,t.scale,t.originX),Ly(e.y,t.y,t.scaleY,t.scale,t.originY)}function Vy(e,t){return Ey(function(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}const jy=new Set(["width","height","top","left","right","bottom",...oy]),Uy=(e,t,n)=>n>t?t:n<e?e:n,zy={test:e=>"number"===typeof e,parse:parseFloat,transform:e=>e},By=c(c({},zy),{},{transform:e=>Uy(0,1,e)}),Hy=c(c({},zy),{},{default:1}),qy=e=>({test:t=>"string"===typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>"".concat(t).concat(e)}),Wy=qy("deg"),Ky=qy("%"),Gy=qy("px"),Qy=qy("vh"),Yy=qy("vw"),Xy=(()=>c(c({},Ky),{},{parse:e=>Ky.parse(e)/100,transform:e=>Ky.transform(100*e)}))(),$y=e=>t=>t.test(e),Jy=[zy,Gy,Ky,Wy,Yy,Qy,{test:e=>"auto"===e,parse:e=>e}],Zy=e=>Jy.find($y(e));const ev=e=>/^-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)$/.test(e),tv=/^var\(--(?:([\x2D0-9A-Z_a-z]+)|([\x2D0-9A-Z_a-z]+), ?([ #%\(\),-\.0-9A-Za-z]+))\)/;function nv(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;'Max CSS variable fallback depth detected in property "'.concat(e,'". This may indicate a circular fallback dependency.');const[r,i]=function(e){const t=tv.exec(e);if(!t)return[,];const[,n,r,i]=t;return["--".concat(null!==n&&void 0!==n?n:r),i]}(e);if(!r)return;const o=window.getComputedStyle(t).getPropertyValue(r);if(o){const e=o.trim();return ev(e)?parseFloat(e):e}return wy(i)?nv(i,t,n+1):i}const rv=e=>e===zy||e===Gy,iv=new Set(["x","y","z"]),ov=oy.filter(e=>!iv.has(e));const sv={width:(e,t)=>{let{x:n}=e,{paddingLeft:r="0",paddingRight:i="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(i)},height:(e,t)=>{let{y:n}=e,{paddingTop:r="0",paddingBottom:i="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(i)},top:(e,t)=>{let{top:n}=t;return parseFloat(n)},left:(e,t)=>{let{left:n}=t;return parseFloat(n)},bottom:(e,t)=>{let{y:n}=e,{top:r}=t;return parseFloat(r)+(n.max-n.min)},right:(e,t)=>{let{x:n}=e,{left:r}=t;return parseFloat(r)+(n.max-n.min)},x:(e,t)=>{let{transform:n}=t;return my(n,"x")},y:(e,t)=>{let{transform:n}=t;return my(n,"y")}};sv.translateX=sv.x,sv.translateY=sv.y;const av=e=>e,lv={},uv=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],cv={value:null,addProjectionMetrics:null};function hv(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,s=uv.reduce((e,n)=>(e[n]=function(e,t){let n=new Set,r=new Set,i=!1,o=!1;const s=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},l=0;function u(t){s.has(t)&&(c.schedule(t),e()),l++,t(a)}const c={schedule:function(e){const t=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&i?n:r;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&s.add(e),t.has(e)||t.add(e),e},cancel:e=>{r.delete(e),s.delete(e)},process:e=>{a=e,i?o=!0:(i=!0,[n,r]=[r,n],n.forEach(u),t&&cv.value&&cv.value.frameloop[t].push(l),l=0,n.clear(),i=!1,o&&(o=!1,c.process(e)))}};return c}(o,t?n:void 0),e),{}),{setup:a,read:l,resolveKeyframes:u,preUpdate:c,update:h,preRender:d,render:f,postRender:p}=s,m=()=>{const o=lv.useManualTiming?i.timestamp:performance.now();n=!1,lv.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(o-i.timestamp,40),1)),i.timestamp=o,i.isProcessing=!0,a.process(i),l.process(i),u.process(i),c.process(i),h.process(i),d.process(i),f.process(i),p.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(m))},g=uv.reduce((t,o)=>{const a=s[o];return t[o]=function(t){let o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n||(n=!0,r=!0,i.isProcessing||e(m)),a.schedule(t,o,s)},t},{});return{schedule:g,cancel:e=>{for(let t=0;t<uv.length;t++)s[uv[t]].cancel(e)},state:i,steps:s}}const{schedule:dv,cancel:fv,state:pv,steps:mv}=hv("undefined"!==typeof requestAnimationFrame?requestAnimationFrame:av,!0),gv=new Set;let yv=!1,vv=!1,bv=!1;function wv(){if(vv){const e=Array.from(gv).filter(e=>e.needsMeasurement),t=new Set(e.map(e=>e.element)),n=new Map;t.forEach(e=>{const t=function(e){const t=[];return ov.forEach(n=>{const r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}(e);t.length&&(n.set(e,t),e.render())}),e.forEach(e=>e.measureInitialState()),t.forEach(e=>{e.render();const t=n.get(e);t&&t.forEach(t=>{var n;let[r,i]=t;null===(n=e.getValue(r))||void 0===n||n.set(i)})}),e.forEach(e=>e.measureEndState()),e.forEach(e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)})}vv=!1,yv=!1,gv.forEach(e=>e.complete(bv)),gv.clear()}function Sv(){gv.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(vv=!0)})}class Ev{constructor(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=r,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(gv.add(this),yv||(yv=!0,dv.read(Sv),dv.resolveKeyframes(wv))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:n,motionValue:r}=this;if(null===e[0]){const i=null===r||void 0===r?void 0:r.get(),o=e[e.length-1];if(void 0!==i)e[0]=i;else if(n&&t){const r=n.readValue(t,o);void 0!==r&&null!==r&&(e[0]=r)}void 0===e[0]&&(e[0]=o),r&&void 0===i&&r.set(e[0])}!function(e){for(let n=1;n<e.length;n++){var t;null!==(t=e[n])&&void 0!==t||(e[n]=e[n-1])}}(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),gv.delete(this)}cancel(){"scheduled"===this.state&&(gv.delete(this),this.state="pending")}resume(){"pending"===this.state&&this.scheduleResolve()}}const xv=e=>/^0(?:[\0-\x08\x0E-\x1F!-\x2D\/-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+$/.test(e);function Tv(e){return"number"===typeof e?0===e:null===e||("none"===e||"0"===e||xv(e))}const kv=e=>Math.round(1e5*e)/1e5,_v=/-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)/g;const Cv=/^(?:#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\))$/i,Iv=(e,t)=>n=>Boolean("string"===typeof n&&Cv.test(n)&&n.startsWith(e)||t&&!function(e){return null==e}(n)&&Object.prototype.hasOwnProperty.call(n,t)),Av=(e,t,n)=>r=>{if("string"!==typeof r)return r;const[i,o,s,a]=r.match(_v);return{[e]:parseFloat(i),[t]:parseFloat(o),[n]:parseFloat(s),alpha:void 0!==a?parseFloat(a):1}},Pv=c(c({},zy),{},{transform:e=>Math.round((e=>Uy(0,255,e))(e))}),Nv={test:Iv("rgb","red"),parse:Av("red","green","blue"),transform:e=>{let{red:t,green:n,blue:r,alpha:i=1}=e;return"rgba("+Pv.transform(t)+", "+Pv.transform(n)+", "+Pv.transform(r)+", "+kv(By.transform(i))+")"}};const Dv={test:Iv("#"),parse:function(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:Nv.transform},Rv={test:Iv("hsl","hue"),parse:Av("hue","saturation","lightness"),transform:e=>{let{hue:t,saturation:n,lightness:r,alpha:i=1}=e;return"hsla("+Math.round(t)+", "+Ky.transform(kv(n))+", "+Ky.transform(kv(r))+", "+kv(By.transform(i))+")"}},Fv={test:e=>Nv.test(e)||Dv.test(e)||Rv.test(e),parse:e=>Nv.test(e)?Nv.parse(e):Rv.test(e)?Rv.parse(e):Dv.parse(e),transform:e=>"string"===typeof e?e:e.hasOwnProperty("red")?Nv.transform(e):Rv.transform(e),getAnimatableNone:e=>{const t=Fv.parse(e);return t.alpha=0,Fv.transform(t)}},Ov=/(?:#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\))/gi;const Lv="number",Mv="color",Vv=/var[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\([\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*--(?:[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*|[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*,(?:[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:(?![\t-\r \(\)\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uD800-\uDFFF\uFEFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\((?:(?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|\((?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])*\))*\))+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)\)|#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\)|-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)/gi;function jv(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let o=0;const s=t.replace(Vv,e=>(Fv.test(e)?(r.color.push(o),i.push(Mv),n.push(Fv.parse(e))):e.startsWith("var(")?(r.var.push(o),i.push("var"),n.push(e)):(r.number.push(o),i.push(Lv),n.push(parseFloat(e))),++o,"${}")).split("${}");return{values:n,split:s,indexes:r,types:i}}function Uv(e){return jv(e).values}function zv(e){const{split:t,types:n}=jv(e),r=t.length;return e=>{let i="";for(let o=0;o<r;o++)if(i+=t[o],void 0!==e[o]){const t=n[o];i+=t===Lv?kv(e[o]):t===Mv?Fv.transform(e[o]):e[o]}return i}}const Bv=e=>"number"===typeof e?0:Fv.test(e)?Fv.getAnimatableNone(e):e;const Hv={test:function(e){var t,n;return isNaN(e)&&"string"===typeof e&&((null===(t=e.match(_v))||void 0===t?void 0:t.length)||0)+((null===(n=e.match(Ov))||void 0===n?void 0:n.length)||0)>0},parse:Uv,createTransformer:zv,getAnimatableNone:function(e){const t=Uv(e);return zv(e)(t.map(Bv))}},qv=new Set(["brightness","contrast","saturate","opacity"]);function Wv(e){const[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[r]=n.match(_v)||[];if(!r)return e;const i=n.replace(r,"");let o=qv.has(t)?1:0;return r!==n&&(o*=100),t+"("+o+i+")"}const Kv=/\b([\x2Da-z]*)\((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\)/g,Gv=c(c({},Hv),{},{getAnimatableNone:e=>{const t=e.match(Kv);return t?t.map(Wv).join(" "):e}}),Qv=c(c({},zy),{},{transform:Math.round}),Yv=c(c({borderWidth:Gy,borderTopWidth:Gy,borderRightWidth:Gy,borderBottomWidth:Gy,borderLeftWidth:Gy,borderRadius:Gy,radius:Gy,borderTopLeftRadius:Gy,borderTopRightRadius:Gy,borderBottomRightRadius:Gy,borderBottomLeftRadius:Gy,width:Gy,maxWidth:Gy,height:Gy,maxHeight:Gy,top:Gy,right:Gy,bottom:Gy,left:Gy,padding:Gy,paddingTop:Gy,paddingRight:Gy,paddingBottom:Gy,paddingLeft:Gy,margin:Gy,marginTop:Gy,marginRight:Gy,marginBottom:Gy,marginLeft:Gy,backgroundPositionX:Gy,backgroundPositionY:Gy},{rotate:Wy,rotateX:Wy,rotateY:Wy,rotateZ:Wy,scale:Hy,scaleX:Hy,scaleY:Hy,scaleZ:Hy,skew:Wy,skewX:Wy,skewY:Wy,distance:Gy,translateX:Gy,translateY:Gy,translateZ:Gy,x:Gy,y:Gy,z:Gy,perspective:Gy,transformPerspective:Gy,opacity:By,originX:Xy,originY:Xy,originZ:Gy}),{},{zIndex:Qv,fillOpacity:By,strokeOpacity:By,numOctaves:Qv}),Xv=c(c({},Yv),{},{color:Fv,backgroundColor:Fv,outlineColor:Fv,fill:Fv,stroke:Fv,borderColor:Fv,borderTopColor:Fv,borderRightColor:Fv,borderBottomColor:Fv,borderLeftColor:Fv,filter:Gv,WebkitFilter:Gv}),$v=e=>Xv[e];function Jv(e,t){let n=$v(e);return n!==Gv&&(n=Hv),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Zv=new Set(["auto","none","0"]);class eb extends Ev{constructor(e,t,n,r,i){super(e,t,n,r,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let a=0;a<e.length;a++){let n=e[a];if("string"===typeof n&&(n=n.trim(),wy(n))){const r=nv(n,t.current);void 0!==r&&(e[a]=r),a===e.length-1&&(this.finalKeyframe=n)}}if(this.resolveNoneKeyframes(),!jy.has(n)||2!==e.length)return;const[r,i]=e,o=Zy(r),s=Zy(i);if(o!==s)if(rv(o)&&rv(s))for(let a=0;a<e.length;a++){const t=e[a];"string"===typeof t&&(e[a]=parseFloat(t))}else sv[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,n=[];for(let r=0;r<e.length;r++)(null===e[r]||Tv(e[r]))&&n.push(r);n.length&&function(e,t,n){let r,i=0;for(;i<e.length&&!r;){const t=e[i];"string"===typeof t&&!Zv.has(t)&&jv(t).values.length&&(r=e[i]),i++}if(r&&n)for(const o of t)e[o]=Jv(n,r)}(e,n,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;"height"===n&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=sv[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const r=t[t.length-1];void 0!==r&&e.getValue(n,r).jump(r,!1)}measureEndState(){var e;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const i=t.getValue(n);i&&i.jump(this.measuredOrigin,!1);const o=r.length-1,s=r[o];r[o]=sv[n](t.measureViewportBox(),window.getComputedStyle(t.current)),null!==s&&void 0===this.finalKeyframe&&(this.finalKeyframe=s),null!==(e=this.removedTransforms)&&void 0!==e&&e.length&&this.removedTransforms.forEach(e=>{let[n,r]=e;t.getValue(n).set(r)}),this.resolveNoneKeyframes()}}const tb=e=>Boolean(e&&e.getVelocity);let nb;function rb(){nb=void 0}const ib={now:()=>(void 0===nb&&ib.set(pv.isProcessing||lv.useManualTiming?pv.timestamp:performance.now()),nb),set:e=>{nb=e,queueMicrotask(rb)}};function ob(e,t){-1===e.indexOf(t)&&e.push(t)}function sb(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class ab{constructor(){this.subscriptions=[]}add(e){return ob(this.subscriptions,e),()=>sb(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(let i=0;i<r;i++){const r=this.subscriptions[i];r&&r(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function lb(e,t){return t?e*(1e3/t):0}const ub={current:void 0};class cb{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.canTrackVelocity=null,this.events={},this.updateAndNotify=e=>{const t=ib.now();var n;if((this.updatedAt!==t&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(e),this.current!==this.prev)&&(null===(n=this.events.change)||void 0===n||n.notify(this.current),this.dependents))for(const r of this.dependents)r.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){var t;this.current=e,this.updatedAt=ib.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=(t=this.current,!isNaN(parseFloat(t))))}setPrevFrameValue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.current;this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new ab);const n=this.events[e].add(t);return"change"===e?()=>{n(),dv.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;null===(e=this.events.change)||void 0===e||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return ub.current&&ub.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=ib.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||e-this.updatedAt>30)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,30);return lb(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,t;null===(e=this.dependents)||void 0===e||e.clear(),null===(t=this.events.destroy)||void 0===t||t.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function hb(e,t){return new cb(e,t)}const db=[...Jy,Fv,Hv],{schedule:fb,cancel:pb}=hv(queueMicrotask,!1),mb={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},gb={};for(const Vk in mb)gb[Vk]={isEnabled:e=>mb[Vk].some(t=>!!e[t])};const yb=()=>({x:{min:0,max:0},y:{min:0,max:0}}),vb="undefined"!==typeof window,bb={current:null},wb={current:!1};const Sb=new WeakMap;function Eb(e){return null!==e&&"object"===typeof e&&"function"===typeof e.start}function xb(e){return"string"===typeof e||Array.isArray(e)}const Tb=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],kb=["initial",...Tb];function _b(e){return Eb(e.animate)||kb.some(t=>xb(e[t]))}function Cb(e){return Boolean(_b(e)||e.variants)}function Ib(e){const t=[{},{}];return null===e||void 0===e||e.values.forEach((e,n)=>{t[0][n]=e.get(),t[1][n]=e.getVelocity()}),t}function Ab(e,t,n,r){if("function"===typeof t){const[i,o]=Ib(r);t=t(void 0!==n?n:e.custom,i,o)}if("string"===typeof t&&(t=e.variants&&e.variants[t]),"function"===typeof t){const[i,o]=Ib(r);t=t(void 0!==n?n:e.custom,i,o)}return t}const Pb=["willChange"],Nb=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Db{scrapeMotionValuesFromProps(e,t,n){return{}}constructor(e){let{parent:t,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:a}=e,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Ev,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const e=ib.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,dv.render(this.render,!1,!0))};const{latestValues:u,renderState:h}=a;this.latestValues=u,this.baseTarget=c({},u),this.initialValues=n.initial?c({},u):{},this.renderState=h,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=Boolean(s),this.isControllingVariants=_b(n),this.isVariantNode=Cb(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);const d=this.scrapeMotionValuesFromProps(n,{},this),{willChange:f}=d,p=o(d,Pb);for(const o in p){const e=p[o];void 0!==u[o]&&tb(e)&&e.set(u[o])}}mount(e){var t;this.current=e,Sb.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,t)=>this.bindToMotionValue(t,e)),wb.current||function(){if(wb.current=!0,vb)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>bb.current=e.matches;e.addEventListener("change",t),t()}else bb.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||bb.current),null===(t=this.parent)||void 0===t||t.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),fv(this.notifyUpdate),fv(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),null===(e=this.parent)||void 0===e||e.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}addChild(e){var t;this.children.add(e),null!==(t=this.enteringChildren)&&void 0!==t||(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=sy.has(e);n&&this.onBindTransform&&this.onBindTransform();const r=t.on("change",t=>{this.latestValues[e]=t,this.props.onUpdate&&dv.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{r(),i&&i(),t.owner&&t.stop()})}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in gb){const t=gb[e];if(!t)continue;const{isEnabled:n,Feature:r}=t;if(!this.features[e]&&r&&n(this.props)&&(this.features[e]=new r(this)),this.features[e]){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<Nb.length;n++){const t=Nb[n];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const r=e["on"+t];r&&(this.propEventSubscriptions[t]=this.on(t,r))}this.prevMotionValues=function(e,t,n){for(const r in t){const i=t[r],o=n[r];if(tb(i))e.addValue(r,i);else if(tb(o))e.addValue(r,hb(i,{owner:e}));else if(o!==i)if(e.hasValue(r)){const t=e.getValue(r);!0===t.liveStyle?t.jump(i):t.hasAnimated||t.set(i)}else{const t=e.getStaticValue(r);e.addValue(r,hb(void 0!==t?t:i,{owner:e}))}}for(const r in n)void 0===t[r]&&e.removeValue(r);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=hb(null===t?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){var n;let r=void 0===this.latestValues[e]&&this.current?null!==(n=this.getBaseTargetFromProps(this.props,e))&&void 0!==n?n:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];var i;return void 0!==r&&null!==r&&("string"===typeof r&&(ev(r)||xv(r))?r=parseFloat(r):(i=r,!db.find($y(i))&&Hv.test(t)&&(r=Jv(e,t))),this.setBaseTarget(e,tb(r)?r.get():r)),tb(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){const{initial:t}=this.props;let n;if("string"===typeof t||"object"===typeof t){var r;const i=Ab(this.props,t,null===(r=this.presenceContext)||void 0===r?void 0:r.custom);i&&(n=i[e])}if(t&&void 0!==n)return n;const i=this.getBaseTargetFromProps(this.props,e);return void 0===i||tb(i)?void 0!==this.initialValues[e]&&void 0===n?void 0:this.baseTarget[e]:i}on(e,t){return this.events[e]||(this.events[e]=new ab),this.events[e].add(t)}notify(e){if(this.events[e]){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.events[e].notify(...n)}}scheduleRenderMicrotask(){fb.render(this.render)}}class Rb extends Db{constructor(){super(...arguments),this.KeyframeResolver=eb}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,t){let{vars:n,style:r}=t;delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;tb(e)&&(this.childSubscription=e.on("change",e=>{this.current&&(this.current.textContent="".concat(e))}))}}const Fb=(e,t)=>t&&"number"===typeof e?t.transform(e):e,Ob={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Lb=oy.length;function Mb(e,t,n){const{style:r,vars:i,transformOrigin:o}=e;let s=!1,a=!1;for(const l in t){const e=t[l];if(sy.has(l))s=!0;else if(vy(l))i[l]=e;else{const t=Fb(e,Yv[l]);l.startsWith("origin")?(a=!0,o[l]=t):r[l]=t}}if(t.transform||(s||n?r.transform=function(e,t,n){let r="",i=!0;for(let o=0;o<Lb;o++){const s=oy[o],a=e[s];if(void 0===a)continue;let l=!0;if(l="number"===typeof a?a===(s.startsWith("scale")?1:0):0===parseFloat(a),!l||n){const e=Fb(a,Yv[s]);l||(i=!1,r+="".concat(Ob[s]||s,"(").concat(e,") ")),n&&(t[s]=e)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}(t,e.transform,n):r.transform&&(r.transform="none")),a){const{originX:e="50%",originY:t="50%",originZ:n=0}=o;r.transformOrigin="".concat(e," ").concat(t," ").concat(n)}}function Vb(e,t,n,r){let{style:i,vars:o}=t;const s=e.style;let a;for(a in i)s[a]=i[a];for(a in null===r||void 0===r||r.applyProjectionStyles(s,n),o)s.setProperty(a,o[a])}const jb={};function Ub(e,t){let{layout:n,layoutId:r}=t;return sy.has(e)||e.startsWith("origin")||(n||void 0!==r)&&(!!jb[e]||"opacity"===e)}function zb(e,t,n){const{style:r}=e,i={};for(const s in r){var o;(tb(r[s])||t.style&&tb(t.style[s])||Ub(s,e)||void 0!==(null===n||void 0===n||null===(o=n.getValue(s))||void 0===o?void 0:o.liveStyle))&&(i[s]=r[s])}return i}class Bb extends Rb{constructor(){super(...arguments),this.type="html",this.renderInstance=Vb}readValueFromInstance(e,t){var n,r;if(sy.has(t))return null!==(n=this.projection)&&void 0!==n&&n.isProjecting?py(t):((e,t)=>{const{transform:n="none"}=getComputedStyle(e);return my(n,t)})(e,t);{const n=(r=e,window.getComputedStyle(r)),i=(vy(t)?n.getPropertyValue(t):n[t])||0;return"string"===typeof i?i.trim():i}}measureInstanceViewportBox(e,t){let{transformPagePoint:n}=t;return Vy(e,n)}build(e,t,n){Mb(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return zb(e,t,n)}}const Hb=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),qb={offset:"stroke-dashoffset",array:"stroke-dasharray"},Wb={offset:"strokeDashoffset",array:"strokeDasharray"};const Kb=["attrX","attrY","attrScale","pathLength","pathSpacing","pathOffset"];function Gb(e,t,n,r,i){let{attrX:s,attrY:a,attrScale:l,pathLength:u,pathSpacing:c=1,pathOffset:h=0}=t;if(Mb(e,o(t,Kb),r),n)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:d,style:f}=e;var p,m;(d.transform&&(f.transform=d.transform,delete d.transform),f.transform||d.transformOrigin)&&(f.transformOrigin=null!==(p=d.transformOrigin)&&void 0!==p?p:"50% 50%",delete d.transformOrigin);f.transform&&(f.transformBox=null!==(m=null===i||void 0===i?void 0:i.transformBox)&&void 0!==m?m:"fill-box",delete d.transformBox);void 0!==s&&(d.x=s),void 0!==a&&(d.y=a),void 0!==l&&(d.scale=l),void 0!==u&&function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.pathLength=1;const o=i?qb:Wb;e[o.offset]=Gy.transform(-r);const s=Gy.transform(t),a=Gy.transform(n);e[o.array]="".concat(s," ").concat(a)}(d,u,c,h,!1)}const Qb=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),Yb=e=>"string"===typeof e&&"svg"===e.toLowerCase();function Xb(e,t,n){const r=zb(e,t,n);for(const i in e)if(tb(e[i])||tb(t[i])){r[-1!==oy.indexOf(i)?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i]=e[i]}return r}class $b extends Rb{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=yb}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(sy.has(t)){const e=$v(t);return e&&e.default||0}return t=Qb.has(t)?t:Hb(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return Xb(e,t,n)}build(e,t,n){Gb(e,t,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,t,n,r){!function(e,t,n,r){Vb(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(Qb.has(i)?i:Hb(i),t.attrs[i])}(e,t,0,r)}mount(e){this.isSVGTag=Yb(e.tagName),super.mount(e)}}const Jb=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Zb(e){return"string"===typeof e&&!e.includes("-")&&!!(Jb.indexOf(e)>-1||/[A-Z]/.test(e))}const ew=(e,t)=>Zb(e)?new $b(t):new Bb(t,{allowProjection:e!==r.Fragment}),tw=(0,r.createContext)({}),nw=(0,r.createContext)({strict:!1}),rw=(0,r.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),iw=(0,r.createContext)({});function ow(e){const{initial:t,animate:n}=function(e,t){if(_b(e)){const{initial:t,animate:n}=e;return{initial:!1===t||xb(t)?t:void 0,animate:xb(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,(0,r.useContext)(iw));return(0,r.useMemo)(()=>({initial:t,animate:n}),[sw(t),sw(n)])}function sw(e){return Array.isArray(e)?e.join(" "):e}const aw=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function lw(e,t,n){for(const r in t)tb(t[r])||Ub(r,n)||(e[r]=t[r])}function uw(e,t){const n={};return lw(n,e.style||{},e),Object.assign(n,function(e,t){let{transformTemplate:n}=e;return(0,r.useMemo)(()=>{const e={style:{},transform:{},transformOrigin:{},vars:{}};return Mb(e,t,n),Object.assign({},e.vars,e.style)},[t])}(e,t)),n}function cw(e,t){const n={},r=uw(e,t);return e.drag&&!1!==e.dragListener&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=!0===e.drag?"none":"pan-".concat("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const hw=()=>c(c({},{style:{},transform:{},transformOrigin:{},vars:{}}),{},{attrs:{}});function dw(e,t,n,i){const o=(0,r.useMemo)(()=>{const n=hw();return Gb(n,t,Yb(i),e.transformTemplate,e.style),c(c({},n.attrs),{},{style:c({},n.style)})},[t]);if(e.style){const t={};lw(t,e.style,e),o.style=c(c({},t),o.style)}return o}const fw=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function pw(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||fw.has(e)}let mw=e=>!pw(e);try{"function"===typeof(gw=require("@emotion/is-prop-valid").default)&&(mw=e=>e.startsWith("on")?!pw(e):gw(e))}catch(Mk){}var gw;function yw(e,t,n,i,o){let{latestValues:s}=i,a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];const l=(Zb(e)?dw:cw)(t,s,o,e),u=function(e,t,n){const r={};for(const i in e)"values"===i&&"object"===typeof e.values||(mw(i)||!0===n&&pw(i)||!t&&!pw(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}(t,"string"===typeof e,a),h=e!==r.Fragment?c(c(c({},u),l),{},{ref:n}):{},{children:d}=t,f=(0,r.useMemo)(()=>tb(d)?d.get():d,[d]);return(0,r.createElement)(e,c(c({},h),{},{children:f}))}const vw=(0,r.createContext)(null);function bw(e){const t=(0,r.useRef)(null);return null===t.current&&(t.current=e()),t.current}function ww(e){return tb(e)?e.get():e}const Sw=["transitionEnd","transition"];function Ew(e,t,n,r){const i={},s=r(e,{});for(const o in s)i[o]=ww(s[o]);let{initial:a,animate:l}=e;const u=_b(e),c=Cb(e);t&&c&&!u&&!1!==e.inherit&&(void 0===a&&(a=t.initial),void 0===l&&(l=t.animate));let h=!!n&&!1===n.initial;h=h||!1===a;const d=h?l:a;if(d&&"boolean"!==typeof d&&!Eb(d)){const t=Array.isArray(d)?d:[d];for(let n=0;n<t.length;n++){const r=Ab(e,t[n]);if(r){const{transitionEnd:e,transition:t}=r,n=o(r,Sw);for(const r in n){let e=n[r];if(Array.isArray(e)){e=e[h?e.length-1:0]}null!==e&&(i[r]=e)}for(const r in e)i[r]=e[r]}}}return i}const xw=e=>(t,n)=>{const i=(0,r.useContext)(iw),o=(0,r.useContext)(vw),s=()=>function(e,t,n,r){let{scrapeMotionValuesFromProps:i,createRenderState:o}=e;return{latestValues:Ew(t,n,r,i),renderState:o()}}(e,t,i,o);return n?s():bw(s)},Tw=xw({scrapeMotionValuesFromProps:zb,createRenderState:aw}),kw=xw({scrapeMotionValuesFromProps:Xb,createRenderState:hw});const _w=Symbol.for("motionComponentSymbol");function Cw(e){return e&&"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function Iw(e,t,n){return(0,r.useCallback)(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&("function"===typeof n?n(r):Cw(n)&&(n.current=r))},[t])}const Aw="data-"+Hb("framerAppearId"),Pw=(0,r.createContext)({}),Nw=vb?r.useLayoutEffect:r.useEffect;function Dw(e,t,n,i,o){var s,a,l,u;const{visualElement:c}=(0,r.useContext)(iw),h=(0,r.useContext)(nw),d=(0,r.useContext)(vw),f=(0,r.useContext)(rw).reducedMotion,p=(0,r.useRef)(null);i=i||h.renderer,!p.current&&i&&(p.current=i(e,{visualState:t,parent:c,props:n,presenceContext:d,blockInitialAnimation:!!d&&!1===d.initial,reducedMotionConfig:f}));const m=p.current,g=(0,r.useContext)(Pw);!m||m.projection||!o||"html"!==m.type&&"svg"!==m.type||function(e,t,n,r){const{layoutId:i,layout:o,drag:s,dragConstraints:a,layoutScroll:l,layoutRoot:u,layoutCrossfade:c}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:Rw(e.parent)),e.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:Boolean(s)||a&&Cw(a),visualElement:e,animationType:"string"===typeof o?o:"both",initialPromotionConfig:r,crossfade:c,layoutScroll:l,layoutRoot:u})}(p.current,n,o,g);const y=(0,r.useRef)(!1);(0,r.useInsertionEffect)(()=>{m&&y.current&&m.update(n,d)});const v=n[Aw],b=(0,r.useRef)(Boolean(v)&&!(null!==(s=(a=window).MotionHandoffIsComplete)&&void 0!==s&&s.call(a,v))&&(null===(l=(u=window).MotionHasOptimisedAnimation)||void 0===l?void 0:l.call(u,v)));return Nw(()=>{m&&(y.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),m.scheduleRenderMicrotask(),b.current&&m.animationState&&m.animationState.animateChanges())}),(0,r.useEffect)(()=>{m&&(!b.current&&m.animationState&&m.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{var e,t;null===(e=(t=window).MotionHandoffMarkAsComplete)||void 0===e||e.call(t,v)}),b.current=!1),m.enteringChildren=void 0)}),m}function Rw(e){if(e)return!1!==e.options.allowProjection?e.projection:Rw(e.parent)}function Fw(e){var t,n;let{forwardMotionProps:i=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0;o&&function(e){for(const t in e)gb[t]=c(c({},gb[t]),e[t])}(o);const a=Zb(e)?kw:Tw;function l(t,n){let o;const l=c(c(c({},(0,r.useContext)(rw)),t),{},{layoutId:Ow(t)}),{isStatic:u}=l,h=ow(t),d=a(t,u);if(!u&&vb){!function(){(0,r.useContext)(nw).strict;0}();const t=function(e){const{drag:t,layout:n}=gb;if(!t&&!n)return{};const r=c(c({},t),n);return{MeasureLayout:null!==t&&void 0!==t&&t.isEnabled(e)||null!==n&&void 0!==n&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}(l);o=t.MeasureLayout,h.visualElement=Dw(e,d,l,s,t.ProjectionNode)}return(0,ty.jsxs)(iw.Provider,{value:h,children:[o&&h.visualElement?(0,ty.jsx)(o,c({visualElement:h.visualElement},l)):null,yw(e,t,Iw(d,h.visualElement,n),d,u,i)]})}l.displayName="motion.".concat("string"===typeof e?e:"create(".concat(null!==(t=null!==(n=e.displayName)&&void 0!==n?n:e.name)&&void 0!==t?t:"",")"));const u=(0,r.forwardRef)(l);return u[_w]=e,u}function Ow(e){let{layoutId:t}=e;const n=(0,r.useContext)(tw).id;return n&&void 0!==t?n+"-"+t:t}function Lw(e,t){if("undefined"===typeof Proxy)return Fw;const n=new Map,r=(n,r)=>Fw(n,r,e,t);return new Proxy((e,t)=>r(e,t),{get:(i,o)=>"create"===o?r:(n.has(o)||n.set(o,Fw(o,void 0,e,t)),n.get(o))})}function Mw(e,t,n){const r=e.getProps();return Ab(r,t,void 0!==n?n:r.custom,e)}function Vw(e,t){var n,r;return null!==(n=null!==(r=null===e||void 0===e?void 0:e[t])&&void 0!==r?r:null===e||void 0===e?void 0:e.default)&&void 0!==n?n:e}const jw=e=>Array.isArray(e),Uw=["transitionEnd","transition"];function zw(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,hb(n))}function Bw(e){return jw(e)?e[e.length-1]||0:e}function Hw(e,t){const n=e.getValue("willChange");if(r=n,Boolean(tb(r)&&r.add))return n.add(t);if(!n&&lv.WillChange){const n=new lv.WillChange("auto");e.addValue("willChange",n),n.add(t)}var r}function qw(e){return e.props[Aw]}function Ww(e){e.duration=0,e.type="keyframes"}const Kw=(e,t)=>n=>t(e(n)),Gw=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(Kw)},Qw=e=>1e3*e,Yw=e=>e/1e3,Xw={layout:0,mainThread:0,waapi:0};function $w(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Jw(e,t){return n=>n>0?t:e}const Zw=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},eS=[Dv,Nv,Rv];function tS(e){const t=(n=e,eS.find(e=>e.test(n)));var n;if(Boolean(t),"'".concat(e,"' is not an animatable color. Use the equivalent color code instead."),!Boolean(t))return!1;let r=t.parse(e);return t===Rv&&(r=function(e){let{hue:t,saturation:n,lightness:r,alpha:i}=e;t/=360,n/=100,r/=100;let o=0,s=0,a=0;if(n){const e=r<.5?r*(1+n):r+n-r*n,i=2*r-e;o=$w(i,e,t+1/3),s=$w(i,e,t),a=$w(i,e,t-1/3)}else o=s=a=r;return{red:Math.round(255*o),green:Math.round(255*s),blue:Math.round(255*a),alpha:i}}(r)),r}const nS=(e,t)=>{const n=tS(e),r=tS(t);if(!n||!r)return Jw(e,t);const i=c({},n);return e=>(i.red=Zw(n.red,r.red,e),i.green=Zw(n.green,r.green,e),i.blue=Zw(n.blue,r.blue,e),i.alpha=xy(n.alpha,r.alpha,e),Nv.transform(i))},rS=new Set(["none","hidden"]);function iS(e,t){return n=>xy(e,t,n)}function oS(e){return"number"===typeof e?iS:"string"===typeof e?wy(e)?Jw:Fv.test(e)?nS:lS:Array.isArray(e)?sS:"object"===typeof e?Fv.test(e)?nS:aS:Jw}function sS(e,t){const n=[...e],r=n.length,i=e.map((e,n)=>oS(e)(e,t[n]));return e=>{for(let t=0;t<r;t++)n[t]=i[t](e);return n}}function aS(e,t){const n=c(c({},e),t),r={};for(const i in n)void 0!==e[i]&&void 0!==t[i]&&(r[i]=oS(e[i])(e[i],t[i]));return e=>{for(const t in r)n[t]=r[t](e);return n}}const lS=(e,t)=>{const n=Hv.createTransformer(t),r=jv(e),i=jv(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?rS.has(e)&&!i.values.length||rS.has(t)&&!r.values.length?function(e,t){return rS.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}(e,t):Gw(sS(function(e,t){const n=[],r={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){var i;const s=t.types[o],a=e.indexes[s][r[s]],l=null!==(i=e.values[a])&&void 0!==i?i:0;n[o]=l,r[s]++}return n}(r,i),i.values),n):("Complex values '".concat(e,"' and '").concat(t,"' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition."),Jw(e,t))};function uS(e,t,n){if("number"===typeof e&&"number"===typeof t&&"number"===typeof n)return xy(e,t,n);return oS(e)(e,t)}const cS=e=>{const t=t=>{let{timestamp:n}=t;return e(n)};return{start:function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return dv.update(t,e)},stop:()=>fv(t),now:()=>pv.isProcessing?pv.timestamp:ib.now()}},hS=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r="";const i=Math.max(Math.round(t/n),2);for(let o=0;o<i;o++)r+=Math.round(1e4*e(o/(i-1)))/1e4+", ";return"linear(".concat(r.substring(0,r.length-2),")")},dS=2e4;function fS(e){let t=0;let n=e.next(t);for(;!n.done&&t<dS;)t+=50,n=e.next(t);return t>=dS?1/0:t}function pS(e,t,n){const r=Math.max(t-5,0);return lb(n-e(r),t-r)}const mS={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},gS=.001;function yS(e){let t,n,{duration:r=mS.duration,bounce:i=mS.bounce,velocity:o=mS.velocity,mass:s=mS.mass}=e;Qw(mS.maxDuration);let a=1-i;a=Uy(mS.minDamping,mS.maxDamping,a),r=Uy(mS.minDuration,mS.maxDuration,Yw(r)),a<1?(t=e=>{const t=e*a,n=t*r,i=t-o,s=bS(e,a),l=Math.exp(-n);return gS-i/s*l},n=e=>{const n=e*a*r,i=n*o+o,s=Math.pow(a,2)*Math.pow(e,2)*r,l=Math.exp(-n),u=bS(Math.pow(e,2),a);return(-t(e)+gS>0?-1:1)*((i-s)*l)/u}):(t=e=>Math.exp(-e*r)*((e-o)*r+1)-.001,n=e=>Math.exp(-e*r)*(r*r*(o-e)));const l=function(e,t,n){let r=n;for(let i=1;i<vS;i++)r-=e(r)/t(r);return r}(t,n,5/r);if(r=Qw(r),isNaN(l))return{stiffness:mS.stiffness,damping:mS.damping,duration:r};{const e=Math.pow(l,2)*s;return{stiffness:e,damping:2*a*Math.sqrt(s*e),duration:r}}}const vS=12;function bS(e,t){return e*Math.sqrt(1-t*t)}const wS=["duration","bounce"],SS=["stiffness","damping","mass"];function ES(e,t){return t.some(t=>void 0!==e[t])}function xS(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mS.visualDuration,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:mS.bounce;const n="object"!==typeof e?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const o=n.keyframes[0],s=n.keyframes[n.keyframes.length-1],a={done:!1,value:o},{stiffness:l,damping:u,mass:h,duration:d,velocity:f,isResolvedFromDuration:p}=function(e){let t=c({velocity:mS.velocity,stiffness:mS.stiffness,damping:mS.damping,mass:mS.mass,isResolvedFromDuration:!1},e);if(!ES(e,SS)&&ES(e,wS))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(1.2*n),i=r*r,o=2*Uy(.05,1,1-(e.bounce||0))*Math.sqrt(i);t=c(c({},t),{},{mass:mS.mass,stiffness:i,damping:o})}else{const n=yS(e);t=c(c(c({},t),n),{},{mass:mS.mass}),t.isResolvedFromDuration=!0}return t}(c(c({},n),{},{velocity:-Yw(n.velocity||0)})),m=f||0,g=u/(2*Math.sqrt(l*h)),y=s-o,v=Yw(Math.sqrt(l/h)),b=Math.abs(y)<5;let w;if(r||(r=b?mS.restSpeed.granular:mS.restSpeed.default),i||(i=b?mS.restDelta.granular:mS.restDelta.default),g<1){const e=bS(v,g);w=t=>{const n=Math.exp(-g*v*t);return s-n*((m+g*v*y)/e*Math.sin(e*t)+y*Math.cos(e*t))}}else if(1===g)w=e=>s-Math.exp(-v*e)*(y+(m+v*y)*e);else{const e=v*Math.sqrt(g*g-1);w=t=>{const n=Math.exp(-g*v*t),r=Math.min(e*t,300);return s-n*((m+g*v*y)*Math.sinh(r)+e*y*Math.cosh(r))/e}}const S={calculatedDuration:p&&d||null,next:e=>{const t=w(e);if(p)a.done=e>=d;else{let n=0===e?m:0;g<1&&(n=0===e?Qw(m):pS(w,e,t));const o=Math.abs(n)<=r,l=Math.abs(s-t)<=i;a.done=o&&l}return a.value=a.done?s:t,a},toString:()=>{const e=Math.min(fS(S),dS),t=hS(t=>S.next(e*t).value,e,30);return e+"ms "+t},toTransition:()=>{}};return S}function TS(e){let{keyframes:t,velocity:n=0,power:r=.8,timeConstant:i=325,bounceDamping:o=10,bounceStiffness:s=500,modifyTarget:a,min:l,max:u,restDelta:c=.5,restSpeed:h}=e;const d=t[0],f={done:!1,value:d},p=e=>void 0===l?u:void 0===u||Math.abs(l-e)<Math.abs(u-e)?l:u;let m=r*n;const g=d+m,y=void 0===a?g:a(g);y!==g&&(m=y-d);const v=e=>-m*Math.exp(-e/i),b=e=>y+v(e),w=e=>{const t=v(e),n=b(e);f.done=Math.abs(t)<=c,f.value=f.done?y:n};let S,E;const x=e=>{var t;(t=f.value,void 0!==l&&t<l||void 0!==u&&t>u)&&(S=e,E=xS({keyframes:[f.value,p(f.value)],velocity:pS(b,e,f.value),damping:o,stiffness:s,restDelta:c,restSpeed:h}))};return x(0),{calculatedDuration:null,next:e=>{let t=!1;return E||void 0!==S||(t=!0,w(e),x(e)),void 0!==S&&e>=S?E.next(e-S):(!t&&w(e),f)}}}xS.applyToOptions=e=>{const t=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;const n=(arguments.length>2?arguments[2]:void 0)(c(c({},e),{},{keyframes:[0,t]})),r=Math.min(fS(n),dS);return{type:"keyframes",ease:e=>n.next(r*e).value/t,duration:Yw(r)}}(e,100,xS);return e.ease=t.ease,e.duration=Qw(t.duration),e.type="keyframes",e};const kS=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e;function _S(e,t,n,r){if(e===t&&n===r)return av;const i=t=>function(e,t,n,r,i){let o,s,a=0;do{s=t+(n-t)/2,o=kS(s,r,i)-e,o>0?n=s:t=s}while(Math.abs(o)>1e-7&&++a<12);return s}(t,0,1,e,n);return e=>0===e||1===e?e:kS(i(e),t,r)}const CS=_S(.42,0,1,1),IS=_S(0,0,.58,1),AS=_S(.42,0,.58,1),PS=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,NS=e=>t=>1-e(1-t),DS=_S(.33,1.53,.69,.99),RS=NS(DS),FS=PS(RS),OS=e=>(e*=2)<1?.5*RS(e):.5*(2-Math.pow(2,-10*(e-1))),LS=e=>1-Math.sin(Math.acos(e)),MS=NS(LS),VS=PS(LS),jS=e=>Array.isArray(e)&&"number"===typeof e[0],US={linear:av,easeIn:CS,easeInOut:AS,easeOut:IS,circIn:LS,circInOut:VS,circOut:MS,backIn:RS,backInOut:FS,backOut:DS,anticipate:OS},zS=e=>{if(jS(e)){e.length;const[t,n,r,i]=e;return _S(t,n,r,i)}return"string"===typeof e?("Invalid easing type '".concat(e,"'"),US[e]):e},BS=(e,t,n)=>{const r=t-e;return 0===r?1:(n-e)/r};function HS(e,t){let{clamp:n=!0,ease:r,mixer:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=e.length;if(t.length,1===o)return()=>t[0];if(2===o&&t[0]===t[1])return()=>t[1];const s=e[0]===e[1];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=function(e,t,n){const r=[],i=n||lv.mix||uS,o=e.length-1;for(let s=0;s<o;s++){let n=i(e[s],e[s+1]);if(t){const e=Array.isArray(t)?t[s]||av:t;n=Gw(e,n)}r.push(n)}return r}(t,r,i),l=a.length,u=n=>{if(s&&n<e[0])return t[0];let r=0;if(l>1)for(;r<e.length-2&&!(n<e[r+1]);r++);const i=BS(e[r],e[r+1],n);return a[r](i)};return n?t=>u(Uy(e[0],e[o-1],t)):u}function qS(e){const t=[0];return function(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=BS(0,t,r);e.push(xy(n,1,i))}}(t,e.length-1),t}function WS(e){let{duration:t=300,keyframes:n,times:r,ease:i="easeInOut"}=e;const o=(e=>Array.isArray(e)&&"number"!==typeof e[0])(i)?i.map(zS):zS(i),s={done:!1,value:n[0]},a=function(e,t){return e.map(e=>e*t)}(r&&r.length===n.length?r:qS(n),t),l=HS(a,n,{ease:Array.isArray(o)?o:(u=n,c=o,u.map(()=>c||AS).splice(0,u.length-1))});var u,c;return{calculatedDuration:t,next:e=>(s.value=l(e),s.done=e>=t,s)}}const KS=e=>null!==e;function GS(e,t,n){let{repeat:r,repeatType:i="loop"}=t,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;const s=e.filter(KS),a=o<0||r&&"loop"!==i&&r%2===1?0:s.length-1;return a&&void 0!==n?n:s[a]}const QS={decay:TS,inertia:TS,tween:WS,keyframes:WS,spring:xS};function YS(e){"string"===typeof e.type&&(e.type=QS[e.type])}class XS{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const $S=e=>e/100;class JS extends XS{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var e,t;const{motionValue:n}=this.options;n&&n.updatedAt!==ib.now()&&this.tick(ib.now()),this.isStopped=!0,"idle"!==this.state&&(this.teardown(),null===(e=(t=this.options).onStop)||void 0===e||e.call(t))},Xw.mainThread++,this.options=e,this.initAnimation(),this.play(),!1===e.autoplay&&this.pause()}initAnimation(){const{options:e}=this;YS(e);const{type:t=WS,repeat:n=0,repeatDelay:r=0,repeatType:i,velocity:o=0}=e;let{keyframes:s}=e;const a=t||WS;a!==WS&&"number"!==typeof s[0]&&(this.mixKeyframes=Gw($S,uS(s[0],s[1])),s=[0,100]);const l=a(c(c({},e),{},{keyframes:s}));"mirror"===i&&(this.mirroredGenerator=a(c(c({},e),{},{keyframes:[...s].reverse(),velocity:-o}))),null===l.calculatedDuration&&(l.calculatedDuration=fS(l));const{calculatedDuration:u}=l;this.calculatedDuration=u,this.resolvedDuration=u+r,this.totalDuration=this.resolvedDuration*(n+1)-r,this.generator=l}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=t}tick(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{generator:n,totalDuration:r,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:s,calculatedDuration:a}=this;if(null===this.startTime)return n.next(0);const{delay:l=0,keyframes:u,repeat:c,repeatType:h,repeatDelay:d,type:f,onUpdate:p,finalKeyframe:m}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const g=this.currentTime-l*(this.playbackSpeed>=0?1:-1),y=this.playbackSpeed>=0?g<0:g>r;this.currentTime=Math.max(g,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=r);let v=this.currentTime,b=n;if(c){const e=Math.min(this.currentTime,r)/s;let t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,t=Math.min(t,c+1);Boolean(t%2)&&("reverse"===h?(n=1-n,d&&(n-=d/s)):"mirror"===h&&(b=o)),v=Uy(0,1,n)*s}const w=y?{done:!1,value:u[0]}:b.next(v);i&&(w.value=i(w.value));let{done:S}=w;y||null===a||(S=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const E=null===this.holdTime&&("finished"===this.state||"running"===this.state&&S);return E&&f!==TS&&(w.value=GS(u,this.options,m,this.speed)),p&&p(w.value),E&&this.finish(),w}then(e,t){return this.finished.then(e,t)}get duration(){return Yw(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Yw(e)}get time(){return Yw(this.currentTime)}set time(e){var t;e=Qw(e),this.currentTime=e,null===this.startTime||null!==this.holdTime||0===this.playbackSpeed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),null===(t=this.driver)||void 0===t||t.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(ib.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Yw(this.currentTime))}play(){var e,t;if(this.isStopped)return;const{driver:n=cS,startTime:r}=this.options;this.driver||(this.driver=n(e=>this.tick(e))),null===(e=(t=this.options).onPlay)||void 0===e||e.call(t);const i=this.driver.now();"finished"===this.state?(this.updateFinished(),this.startTime=i):null!==this.holdTime?this.startTime=i-this.holdTime:this.startTime||(this.startTime=null!==r&&void 0!==r?r:i),"finished"===this.state&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ib.now()),this.holdTime=this.currentTime}complete(){"running"!==this.state&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,t;this.notifyFinished(),this.teardown(),this.state="finished",null===(e=(t=this.options).onComplete)||void 0===e||e.call(t)}cancel(){var e,t;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),null===(e=(t=this.options).onCancel)||void 0===e||e.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null,Xw.mainThread--}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var t;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),null===(t=this.driver)||void 0===t||t.stop(),e.observe(this)}}function ZS(e){let t;return()=>(void 0===t&&(t=e()),t)}const eE=ZS(()=>void 0!==window.ScrollTimeline),tE={};function nE(e,t){const n=ZS(e);return()=>{var e;return null!==(e=tE[t])&&void 0!==e?e:n()}}const rE=nE(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(Ok){return!1}return!0},"linearEasing"),iE=e=>{let[t,n,r,i]=e;return"cubic-bezier(".concat(t,", ").concat(n,", ").concat(r,", ").concat(i,")")},oE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:iE([0,.65,.55,1]),circOut:iE([.55,0,1,.45]),backIn:iE([.31,.01,.66,-.59]),backOut:iE([.33,1.53,.69,.99])};function sE(e,t){return e?"function"===typeof e?rE()?hS(e,t):"ease-out":jS(e)?iE(e):Array.isArray(e)?e.map(e=>sE(e,t)||oE.easeOut):oE[e]:void 0}function aE(e,t,n){let{delay:r=0,duration:i=300,repeat:o=0,repeatType:s="loop",ease:a="easeOut",times:l}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;const c={[t]:n};l&&(c.offset=l);const h=sE(a,i);Array.isArray(h)&&(c.easing=h),cv.value&&Xw.waapi++;const d={delay:r,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:o+1,direction:"reverse"===s?"alternate":"normal"};u&&(d.pseudoElement=u);const f=e.animate(c,d);return cv.value&&f.finished.finally(()=>{Xw.waapi--}),f}function lE(e){return"function"===typeof e&&"applyToOptions"in e}const uE=["type"];class cE extends XS{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:n,keyframes:r,pseudoElement:i,allowFlatten:s=!1,finalKeyframe:a,onComplete:l}=e;this.isPseudoElement=Boolean(i),this.allowFlatten=s,this.options=e,e.type;const u=function(e){let{type:t}=e,n=o(e,uE);return lE(t)&&rE()?t.applyToOptions(n):(null!==(r=n.duration)&&void 0!==r||(n.duration=300),null!==(i=n.ease)&&void 0!==i||(n.ease="easeOut"),n);var r,i}(e);this.animation=aE(t,n,r,u,i),!1===u.autoplay&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const e=GS(r,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(e):function(e,t,n){(e=>e.startsWith("--"))(t)?e.style.setProperty(t,n):e.style[t]=n}(t,n,e),this.animation.cancel()}null===l||void 0===l||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),"finished"===this.state&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,t;null===(e=(t=this.animation).finish)||void 0===e||e.call(t)}cancel(){try{this.animation.cancel()}catch(Ok){}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;"idle"!==e&&"finished"!==e&&(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,t;this.isPseudoElement||(null===(e=(t=this.animation).commitStyles)||void 0===e||e.call(t))}get duration(){var e,t;const n=(null===(e=this.animation.effect)||void 0===e||null===(t=e.getComputedTiming)||void 0===t?void 0:t.call(e).duration)||0;return Yw(Number(n))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Yw(e)}get time(){return Yw(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Qw(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return null!==this.finishedTime?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline(e){let{timeline:t,observe:n}=e;var r;this.allowFlatten&&(null===(r=this.animation.effect)||void 0===r||r.updateTiming({easing:"linear"}));return this.animation.onfinish=null,t&&eE()?(this.animation.timeline=t,av):n(this)}}const hE={anticipate:OS,backInOut:FS,circInOut:VS};function dE(e){"string"===typeof e.ease&&e.ease in hE&&(e.ease=hE[e.ease])}const fE=["motionValue","onUpdate","onComplete","element"];class pE extends cE{constructor(e){dE(e),YS(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){var t;const n=this.options,{motionValue:r,onUpdate:i,onComplete:s,element:a}=n,l=o(n,fE);if(!r)return;if(void 0!==e)return void r.set(e);const u=new JS(c(c({},l),{},{autoplay:!1})),h=Qw(null!==(t=this.finishedTime)&&void 0!==t?t:this.time);r.setWithVelocity(u.sample(h-10).value,u.sample(h).value,10),u.stop()}}const mE=(e,t)=>"zIndex"!==t&&(!("number"!==typeof e&&!Array.isArray(e))||!("string"!==typeof e||!Hv.test(e)&&"0"!==e||e.startsWith("url(")));const gE=new Set(["opacity","clipPath","filter","transform"]),yE=ZS(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));const vE=["autoplay","delay","type","repeat","repeatDelay","repeatType","keyframes","name","motionValue","element"];class bE extends XS{constructor(e){var t;let{autoplay:n=!0,delay:r=0,type:i="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:l="loop",keyframes:u,name:h,motionValue:d,element:f}=e,p=o(e,vE);super(),this.stop=()=>{var e,t;this._animation&&(this._animation.stop(),null===(t=this.stopTimeline)||void 0===t||t.call(this));null===(e=this.keyframeResolver)||void 0===e||e.cancel()},this.createdAt=ib.now();const m=c({autoplay:n,delay:r,type:i,repeat:s,repeatDelay:a,repeatType:l,name:h,motionValue:d,element:f},p),g=(null===f||void 0===f?void 0:f.KeyframeResolver)||Ev;this.keyframeResolver=new g(u,(e,t,n)=>this.onKeyframesResolved(e,t,m,!n),h,d,f),null===(t=this.keyframeResolver)||void 0===t||t.scheduleResolve()}onKeyframesResolved(e,t,n,r){this.keyframeResolver=void 0;const{name:i,type:o,velocity:s,delay:a,isHandoff:l,onUpdate:u}=n;this.resolvedAt=ib.now(),function(e,t,n,r){const i=e[0];if(null===i)return!1;if("display"===t||"visibility"===t)return!0;const o=e[e.length-1],s=mE(i,t),a=mE(o,t);return"You are trying to animate ".concat(t,' from "').concat(i,'" to "').concat(o,'". "').concat(s?o:i,'" is not an animatable value.'),!(!s||!a)&&(function(e){const t=e[0];if(1===e.length)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}(e)||("spring"===n||lE(n))&&r)}(e,i,o,s)||(!lv.instantAnimations&&a||null===u||void 0===u||u(GS(e,n,t)),e[0]=e[e.length-1],Ww(n),n.repeat=0);const h=c(c({startTime:r?this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt:void 0,finalKeyframe:t},n),{},{keyframes:e}),d=!l&&function(e){var t;const{motionValue:n,name:r,repeatDelay:i,repeatType:o,damping:s,type:a}=e;if(!((null===n||void 0===n||null===(t=n.owner)||void 0===t?void 0:t.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=n.owner.getProps();return yE()&&r&&gE.has(r)&&("transform"!==r||!u)&&!l&&!i&&"mirror"!==o&&0!==s&&"inertia"!==a}(h)?new pE(c(c({},h),{},{element:h.motionValue.owner.current})):new JS(h);d.finished.then(()=>this.notifyFinished()).catch(av),this.pendingTimeline&&(this.stopTimeline=d.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=d}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){var e;this._animation||(null===(e=this.keyframeResolver)||void 0===e||e.resume(),bv=!0,Sv(),wv(),bv=!1);return this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),null===(e=this.keyframeResolver)||void 0===e||e.cancel()}}const wE=e=>null!==e;const SE={type:"spring",stiffness:500,damping:25,restSpeed:10},EE={type:"keyframes",duration:.8},xE={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},TE=(e,t)=>{let{keyframes:n}=t;return n.length>2?EE:sy.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===n[1]?2*Math.sqrt(550):30,restSpeed:10}:SE:xE},kE=["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from","elapsed"];const _E=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4?arguments[4]:void 0,s=arguments.length>5?arguments[5]:void 0;return a=>{const l=Vw(r,e)||{},u=l.delay||r.delay||0;let{elapsed:h=0}=r;h-=Qw(u);const d=c(c({keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity()},l),{},{delay:-h,onUpdate:e=>{t.set(e),l.onUpdate&&l.onUpdate(e)},onComplete:()=>{a(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:s?void 0:i});(function(e){let{when:t,delay:n,delayChildren:r,staggerChildren:i,staggerDirection:s,repeat:a,repeatType:l,repeatDelay:u,from:c,elapsed:h}=e,d=o(e,kE);return!!Object.keys(d).length})(l)||Object.assign(d,TE(e,d)),d.duration&&(d.duration=Qw(d.duration)),d.repeatDelay&&(d.repeatDelay=Qw(d.repeatDelay)),void 0!==d.from&&(d.keyframes[0]=d.from);let f=!1;if((!1===d.type||0===d.duration&&!d.repeatDelay)&&(Ww(d),0===d.delay&&(f=!0)),(lv.instantAnimations||lv.skipAnimations)&&(f=!0,Ww(d),d.delay=0),d.allowFlatten=!l.type&&!l.ease,f&&!s&&void 0!==t.get()){const e=function(e,t,n){let{repeat:r,repeatType:i="loop"}=t;const o=e.filter(wE),s=r&&"loop"!==i&&r%2===1?0:o.length-1;return s&&void 0!==n?n:o[s]}(d.keyframes,l);if(void 0!==e)return void dv.update(()=>{d.onUpdate(e),d.onComplete()})}return l.isSync?new JS(d):new bE(d)}},CE=["transition","transitionEnd"];function IE(e,t){let{protectedKeys:n,needsAnimating:r}=e;const i=n.hasOwnProperty(t)&&!0!==r[t];return r[t]=!1,i}function AE(e,t){let{delay:n=0,transitionOverride:r,type:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{transition:s=e.getDefaultTransition(),transitionEnd:a}=t,l=o(t,CE);r&&(s=r);const u=[],h=i&&e.animationState&&e.animationState.getState()[i];for(const o in l){var d;const t=e.getValue(o,null!==(d=e.latestValues[o])&&void 0!==d?d:null),r=l[o];if(void 0===r||h&&IE(h,o))continue;const i=c({delay:n},Vw(s||{},o)),a=t.get();if(void 0!==a&&!t.isAnimating&&!Array.isArray(r)&&r===a&&!i.velocity)continue;let f=!1;if(window.MotionHandoffAnimation){const t=qw(e);if(t){const e=window.MotionHandoffAnimation(t,o,dv);null!==e&&(i.startTime=e,f=!0)}}Hw(e,o),t.start(_E(o,t,r,e.shouldReduceMotion&&jy.has(o)?{type:!1}:i,e,f));const p=t.animation;p&&u.push(p)}return a&&Promise.all(u).then(()=>{dv.update(()=>{a&&function(e,t){let n=Mw(e,t)||{},{transitionEnd:r={},transition:i={}}=n,s=o(n,Uw);s=c(c({},s),r);for(const o in s)zw(e,o,Bw(s[o]))}(e,a)})}),u}function PE(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;const o=Array.from(e).sort((e,t)=>e.sortNodePosition(t)).indexOf(t),s=e.size,a=(s-1)*r;return"function"===typeof n?n(o,s):1===i?o*r:a-o*r}function NE(e,t){var n;let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=Mw(e,t,"exit"===r.type?null===(n=e.presenceContext)||void 0===n?void 0:n.custom:void 0);let{transition:o=e.getDefaultTransition()||{}}=i||{};r.transitionOverride&&(o=r.transitionOverride);const s=i?()=>Promise.all(AE(e,i,r)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{delayChildren:i=0,staggerChildren:s,staggerDirection:a}=o;return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,s=arguments.length>6?arguments[6]:void 0;const a=[];for(const l of e.variantChildren)l.notify("AnimationStart",t),a.push(NE(l,t,c(c({},s),{},{delay:n+("function"===typeof r?0:r)+PE(e.variantChildren,l,r,i,o)})).then(()=>l.notify("AnimationComplete",t)));return Promise.all(a)}(e,t,n,i,s,a,r)}:()=>Promise.resolve(),{when:l}=o;if(l){const[e,t]="beforeChildren"===l?[s,a]:[a,s];return e().then(()=>t())}return Promise.all([s(),a(r.delay)])}function DE(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const RE=kb.length;function FE(e){if(!e)return;if(!e.isControllingVariants){const t=e.parent&&FE(e.parent)||{};return void 0!==e.props.initial&&(t.initial=e.props.initial),t}const t={};for(let n=0;n<RE;n++){const r=kb[n],i=e.props[r];(xb(i)||!1===i)&&(t[r]=i)}return t}const OE=["transition","transitionEnd"],LE=[...Tb].reverse(),ME=Tb.length;function VE(e){return t=>Promise.all(t.map(t=>{let{animation:n,options:r}=t;return function(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.notify("AnimationStart",t),Array.isArray(t)){const i=t.map(t=>NE(e,t,r));n=Promise.all(i)}else if("string"===typeof t)n=NE(e,t,r);else{const i="function"===typeof t?Mw(e,t,r.custom):t;n=Promise.all(AE(e,i,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}(e,n,r)}))}function jE(e){let t=VE(e),n=BE(),r=!0;const i=t=>(n,r)=>{var i;const s=Mw(e,r,"exit"===t?null===(i=e.presenceContext)||void 0===i?void 0:i.custom:void 0);if(s){const{transition:e,transitionEnd:t}=s,r=o(s,OE);n=c(c(c({},n),r),t)}return n};function s(o){const{props:s}=e,a=FE(e.parent)||{},l=[],u=new Set;let h={},d=1/0;for(let t=0;t<ME;t++){const f=LE[t],p=n[f],m=void 0!==s[f]?s[f]:a[f],g=xb(m),y=f===o?p.isActive:null;!1===y&&(d=t);let v=m===a[f]&&m!==s[f]&&g;if(v&&r&&e.manuallyAnimateOnMount&&(v=!1),p.protectedKeys=c({},h),!p.isActive&&null===y||!m&&!p.prevProp||Eb(m)||"boolean"===typeof m)continue;const b=UE(p.prevProp,m);let w=b||f===o&&p.isActive&&!v&&g||t>d&&g,S=!1;const E=Array.isArray(m)?m:[m];let x=E.reduce(i(f),{});!1===y&&(x={});const{prevResolvedValues:T={}}=p,k=c(c({},T),x),_=t=>{w=!0,u.has(t)&&(S=!0,u.delete(t)),p.needsAnimating[t]=!0;const n=e.getValue(t);n&&(n.liveStyle=!1)};for(const e in k){const t=x[e],n=T[e];if(h.hasOwnProperty(e))continue;let r=!1;r=jw(t)&&jw(n)?!DE(t,n):t!==n,r?void 0!==t&&null!==t?_(e):u.add(e):void 0!==t&&u.has(e)?_(e):p.protectedKeys[e]=!0}p.prevProp=m,p.prevResolvedValues=x,p.isActive&&(h=c(c({},h),x)),r&&e.blockInitialAnimation&&(w=!1);const C=v&&b;w&&(!C||S)&&l.push(...E.map(t=>{const n={type:f};if("string"===typeof t&&r&&!C&&e.manuallyAnimateOnMount&&e.parent){const{parent:r}=e,i=Mw(r,t);if(r.enteringChildren&&i){const{delayChildren:t}=i.transition||{};n.delay=PE(r.enteringChildren,e,t)}}return{animation:t,options:n}}))}if(u.size){const t={};if("boolean"!==typeof s.initial){const n=Mw(e,Array.isArray(s.initial)?s.initial[0]:s.initial);n&&n.transition&&(t.transition=n.transition)}u.forEach(n=>{const r=e.getBaseTarget(n),i=e.getValue(n);i&&(i.liveStyle=!0),t[n]=null!==r&&void 0!==r?r:null}),l.push({animation:t})}let f=Boolean(l.length);return!r||!1!==s.initial&&s.initial!==s.animate||e.manuallyAnimateOnMount||(f=!1),r=!1,f?t(l):Promise.resolve()}return{animateChanges:s,setActive:function(t,r){var i;if(n[t].isActive===r)return Promise.resolve();null===(i=e.variantChildren)||void 0===i||i.forEach(e=>{var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,r)}),n[t].isActive=r;const o=s(t);for(const e in n)n[e].protectedKeys={};return o},setAnimateFunction:function(n){t=n(e)},getState:()=>n,reset:()=>{n=BE()}}}function UE(e,t){return"string"===typeof t?t!==e:!!Array.isArray(t)&&!DE(t,e)}function zE(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function BE(){return{animate:zE(!0),whileInView:zE(),whileHover:zE(),whileTap:zE(),whileDrag:zE(),whileFocus:zE(),exit:zE()}}class HE{constructor(e){this.isMounted=!1,this.node=e}update(){}}let qE=0;const WE={animation:{Feature:class extends HE{constructor(e){super(e),e.animationState||(e.animationState=jE(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Eb(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),null===(e=this.unmountControls)||void 0===e||e.call(this)}}},exit:{Feature:class extends HE{constructor(){super(...arguments),this.id=qE++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}}},KE={x:!1,y:!1};function GE(){return KE.x||KE.y}function QE(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const YE=e=>"mouse"===e.pointerType?"number"!==typeof e.button||e.button<=0:!1!==e.isPrimary;function XE(e){return{point:{x:e.pageX,y:e.pageY}}}function $E(e,t,n,r){return QE(e,t,(e=>t=>YE(t)&&e(t,XE(t)))(n),r)}function JE(e){return e.max-e.min}function ZE(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;e.origin=r,e.originPoint=xy(t.min,t.max,e.origin),e.scale=JE(n)/JE(t),e.translate=xy(n.min,n.max,e.origin)-e.originPoint,(e.scale>=.9999&&e.scale<=1.0001||isNaN(e.scale))&&(e.scale=1),(e.translate>=-.01&&e.translate<=.01||isNaN(e.translate))&&(e.translate=0)}function ex(e,t,n,r){ZE(e.x,t.x,n.x,r?r.originX:void 0),ZE(e.y,t.y,n.y,r?r.originY:void 0)}function tx(e,t,n){e.min=n.min+t.min,e.max=e.min+JE(t)}function nx(e,t,n){e.min=t.min-n.min,e.max=e.min+JE(t)}function rx(e,t,n){nx(e.x,t.x,n.x),nx(e.y,t.y,n.y)}function ix(e){return[e("x"),e("y")]}const ox=e=>{let{current:t}=e;return t?t.ownerDocument.defaultView:null},sx=(e,t)=>Math.abs(e-t);class ax{constructor(e,t){let{transformPagePoint:n,contextWindow:r=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=cx(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){const n=sx(e.x,t.x),r=sx(e.y,t.y);return Math.sqrt(n**2+r**2)}(e.offset,{x:0,y:0})>=this.distanceThreshold;if(!t&&!n)return;const{point:r}=e,{timestamp:i}=pv;this.history.push(c(c({},r),{},{timestamp:i}));const{onStart:o,onMove:s}=this.handlers;t||(o&&o(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),s&&s(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=lx(t,this.transformPagePoint),dv.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:n,onSessionEnd:r,resumeAnimation:i}=this.handlers;if(this.dragSnapToOrigin&&i&&i(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const o=cx("pointercancel"===e.type?this.lastMoveEventInfo:lx(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,o),r&&r(e,o)},!YE(e))return;this.dragSnapToOrigin=i,this.handlers=t,this.transformPagePoint=n,this.distanceThreshold=o,this.contextWindow=r||window;const s=lx(XE(e),this.transformPagePoint),{point:a}=s,{timestamp:l}=pv;this.history=[c(c({},a),{},{timestamp:l})];const{onSessionStart:u}=t;u&&u(e,cx(s,this.history)),this.removeListeners=Gw($E(this.contextWindow,"pointermove",this.handlePointerMove),$E(this.contextWindow,"pointerup",this.handlePointerUp),$E(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),fv(this.updatePoint)}}function lx(e,t){return t?{point:t(e.point)}:e}function ux(e,t){return{x:e.x-t.x,y:e.y-t.y}}function cx(e,t){let{point:n}=e;return{point:n,delta:ux(n,dx(t)),offset:ux(n,hx(t)),velocity:fx(t,.1)}}function hx(e){return e[0]}function dx(e){return e[e.length-1]}function fx(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=dx(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>Qw(t)));)n--;if(!r)return{x:0,y:0};const o=Yw(i.timestamp-r.timestamp);if(0===o)return{x:0,y:0};const s={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function px(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function mx(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}const gx=.35;function yx(e,t,n){return{min:vx(e,t),max:vx(e,n)}}function vx(e,t){return"number"===typeof e?e:e[t]||0}const bx=new WeakMap;class wx{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e){let{snapToCursor:t=!1,distanceThreshold:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{presenceContext:r}=this.visualElement;if(r&&!1===r.isPresent)return;const{dragSnapToOrigin:i}=this.getProps();this.panSession=new ax(e,{onSessionStart:e=>{const{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(XE(e).point)},onStart:(e,t)=>{const{drag:n,dragPropagation:r,onDragStart:i}=this.getProps();if(n&&!r&&(this.openDragLock&&this.openDragLock(),this.openDragLock="x"===(o=n)||"y"===o?KE[o]?null:(KE[o]=!0,()=>{KE[o]=!1}):KE.x||KE.y?null:(KE.x=KE.y=!0,()=>{KE.x=KE.y=!1}),!this.openDragLock))return;var o;this.latestPointerEvent=e,this.latestPanInfo=t,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ix(e=>{let t=this.getAxisMotionValue(e).get()||0;if(Ky.test(t)){const{projection:n}=this.visualElement;if(n&&n.layout){const r=n.layout.layoutBox[e];if(r){t=JE(r)*(parseFloat(t)/100)}}}this.originPoint[e]=t}),i&&dv.postRender(()=>i(e,t)),Hw(this.visualElement,"transform");const{animationState:s}=this.visualElement;s&&s.setActive("whileDrag",!0)},onMove:(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t;const{dragPropagation:n,dragDirectionLock:r,onDirectionLock:i,onDrag:o}=this.getProps();if(!n&&!this.openDragLock)return;const{offset:s}=t;if(r&&null===this.currentDirection)return this.currentDirection=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(s),void(null!==this.currentDirection&&i&&i(this.currentDirection));this.updateAxis("x",t.point,s),this.updateAxis("y",t.point,s),this.visualElement.render(),o&&o(e,t)},onSessionEnd:(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t,this.stop(e,t),this.latestPointerEvent=null,this.latestPanInfo=null},resumeAnimation:()=>ix(e=>{var t;return"paused"===this.getAnimationState(e)&&(null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.play())})},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:i,distanceThreshold:n,contextWindow:ox(this.visualElement)})}stop(e,t){const n=e||this.latestPointerEvent,r=t||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!r||!n)return;const{velocity:o}=r;this.startAnimation(o);const{onDragEnd:s}=this.getProps();s&&dv.postRender(()=>s(n,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:r}=this.getProps();if(!n||!Sx(e,r,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(o=function(e,t,n){let{min:r,max:i}=t;return void 0!==r&&e<r?e=n?xy(r,e,n.min):Math.max(e,r):void 0!==i&&e>i&&(e=n?xy(i,e,n.max):Math.min(e,i)),e}(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(e=this.visualElement.projection)||void 0===e?void 0:e.layout,i=this.constraints;t&&Cw(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!r)&&function(e,t){let{top:n,left:r,bottom:i,right:o}=t;return{x:px(e.x,r,o),y:px(e.y,n,i)}}(r.layoutBox,t),this.elastic=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gx;return!1===e?e=0:!0===e&&(e=gx),{x:yx(e,"left","right"),y:yx(e,"top","bottom")}}(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&ix(e=>{!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(r.layoutBox[e],this.constraints[e]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Cw(e))return!1;const n=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=function(e,t,n){const r=Vy(e,n),{scroll:i}=t;return i&&(Oy(r.x,i.offset.x),Oy(r.y,i.offset.y)),r}(n,r.root,this.visualElement.getTransformPagePoint());let o=function(e,t){return{x:mx(e.x,t.x),y:mx(e.y,t.y)}}(r.layout.layoutBox,i);if(t){const e=t(function(e){let{x:t,y:n}=e;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}(o));this.hasMutatedConstraints=!!e,e&&(o=Ey(e))}return o}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:r,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:s}=this.getProps(),a=this.constraints||{},l=ix(s=>{if(!Sx(s,t,this.currentDirection))return;let l=a&&a[s]||{};o&&(l={min:0,max:0});const u=r?200:1e6,h=r?40:1e7,d=c(c({type:"inertia",velocity:n?e[s]:0,bounceStiffness:u,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10},i),l);return this.startAxisValueAnimation(s,d)});return Promise.all(l).then(s)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return Hw(this.visualElement,e),n.start(_E(e,n,0,t,this.visualElement,!1))}stopAnimation(){ix(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ix(e=>{var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.pause()})}getAnimationState(e){var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.state}getAxisMotionValue(e){const t="_drag".concat(e.toUpperCase()),n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){ix(t=>{const{drag:n}=this.getProps();if(!Sx(t,n,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(t);if(r&&r.layout){const{min:n,max:o}=r.layout.layoutBox[t];i.set(e[t]-xy(n,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!Cw(t)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};ix(e=>{const t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){const n=t.get();r[e]=function(e,t){let n=.5;const r=JE(e),i=JE(t);return i>r?n=BS(t.min,t.max-r,e.min):r>i&&(n=BS(e.min,e.max-i,t.min)),Uy(0,1,n)}({min:n,max:n},this.constraints[e])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),ix(t=>{if(!Sx(t,e,null))return;const n=this.getAxisMotionValue(t),{min:i,max:o}=this.constraints[t];n.set(xy(i,o,r[t]))})}addListeners(){if(!this.visualElement.current)return;bx.set(this.visualElement,this);const e=$E(this.visualElement.current,"pointerdown",e=>{const{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)}),t=()=>{const{dragConstraints:e}=this.getProps();Cw(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,r=n.addEventListener("measure",t);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),dv.read(t);const i=QE(window,"resize",()=>this.scalePositionWithinConstraints()),o=n.addEventListener("didUpdate",e=>{let{delta:t,hasLayoutChanged:n}=e;this.isDragging&&n&&(ix(e=>{const n=this.getAxisMotionValue(e);n&&(this.originPoint[e]+=t[e].translate,n.set(n.get()+t[e].translate))}),this.visualElement.render())});return()=>{i(),e(),r(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:o=gx,dragMomentum:s=!0}=e;return c(c({},e),{},{drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:i,dragElastic:o,dragMomentum:s})}}function Sx(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}const Ex=e=>(t,n)=>{e&&dv.postRender(()=>e(t,n))};function xx(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=(0,r.useContext)(vw);if(null===t)return[!0,null];const{isPresent:n,onExitComplete:i,register:o}=t,s=(0,r.useId)();(0,r.useEffect)(()=>{if(e)return o(s)},[e]);const a=(0,r.useCallback)(()=>e&&i&&i(s),[s,i,e]);return!n&&i?[!1,a]:[!0]}const Tx={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function kx(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const _x={correct:(e,t)=>{if(!t.target)return e;if("string"===typeof e){if(!Gy.test(e))return e;e=parseFloat(e)}const n=kx(e,t.target.x),r=kx(e,t.target.y);return"".concat(n,"% ").concat(r,"%")}},Cx={correct:(e,t)=>{let{treeScale:n,projectionDelta:r}=t;const i=e,o=Hv.parse(e);if(o.length>5)return i;const s=Hv.createTransformer(e),a="number"!==typeof o[0]?1:0,l=r.x.scale*n.x,u=r.y.scale*n.y;o[0+a]/=l,o[1+a]/=u;const c=xy(l,u,.5);return"number"===typeof o[2+a]&&(o[2+a]/=c),"number"===typeof o[3+a]&&(o[3+a]/=c),s(o)}};let Ix=!1;class Ax extends r.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:i}=e;!function(e){for(const t in e)jb[t]=e[t],vy(t)&&(jb[t].isCSSVariable=!0)}(Nx),i&&(t.group&&t.group.add(i),n&&n.register&&r&&n.register(i),Ix&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions(c(c({},i.options),{},{onExitComplete:()=>this.safeToRemove()}))),Tx.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:r,isPresent:i}=this.props,{projection:o}=n;return o?(o.isPresent=i,Ix=!0,r||e.layoutDependency!==t||void 0===t||e.isPresent!==i?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||dv.postRender(()=>{const e=o.getStack();e&&e.members.length||this.safeToRemove()})),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),fb.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;Ix=!0,r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Px(e){const[t,n]=xx(),i=(0,r.useContext)(tw);return(0,ty.jsx)(Ax,c(c({},e),{},{layoutGroup:i,switchLayoutGroup:(0,r.useContext)(Pw),isPresent:t,safeToRemove:n}))}const Nx={borderRadius:c(c({},_x),{},{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:_x,borderTopRightRadius:_x,borderBottomLeftRadius:_x,borderBottomRightRadius:_x,boxShadow:Cx};function Dx(e){return"object"===typeof e&&null!==e}function Rx(e){return Dx(e)&&"ownerSVGElement"in e}const Fx=(e,t)=>e.depth-t.depth;class Ox{constructor(){this.children=[],this.isDirty=!1}add(e){ob(this.children,e),this.isDirty=!0}remove(e){sb(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Fx),this.isDirty=!1,this.children.forEach(e)}}function Lx(e,t){const n=ib.now(),r=i=>{let{timestamp:o}=i;const s=o-n;s>=t&&(fv(r),e(s-t))};return dv.setup(r,!0),()=>fv(r)}const Mx=["TopLeft","TopRight","BottomLeft","BottomRight"],Vx=Mx.length,jx=e=>"string"===typeof e?parseFloat(e):e,Ux=e=>"number"===typeof e||Gy.test(e);function zx(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const Bx=qx(0,.5,MS),Hx=qx(.5,.95,av);function qx(e,t,n){return r=>r<e?0:r>t?1:n(BS(e,t,r))}function Wx(e,t){e.min=t.min,e.max=t.max}function Kx(e,t){Wx(e.x,t.x),Wx(e.y,t.y)}function Gx(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Qx(e,t,n,r,i){return e=Ay(e-=t,1/n,r),void 0!==i&&(e=Ay(e,1/i,r)),e}function Yx(e,t,n,r,i){let[o,s,a]=n;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=arguments.length>4?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e;Ky.test(t)&&(t=parseFloat(t),t=xy(s.min,s.max,t/100)-s.min);if("number"!==typeof t)return;let a=xy(o.min,o.max,r);e===o&&(a-=t),e.min=Qx(e.min,t,n,a,i),e.max=Qx(e.max,t,n,a,i)}(e,t[o],t[s],t[a],t.scale,r,i)}const Xx=["x","scaleX","originX"],$x=["y","scaleY","originY"];function Jx(e,t,n,r){Yx(e.x,t,Xx,n?n.x:void 0,r?r.x:void 0),Yx(e.y,t,$x,n?n.y:void 0,r?r.y:void 0)}function Zx(e){return 0===e.translate&&1===e.scale}function eT(e){return Zx(e.x)&&Zx(e.y)}function tT(e,t){return e.min===t.min&&e.max===t.max}function nT(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function rT(e,t){return nT(e.x,t.x)&&nT(e.y,t.y)}function iT(e){return JE(e.x)/JE(e.y)}function oT(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class sT{constructor(){this.members=[]}add(e){ob(this.members,e),e.scheduleRender()}remove(e){if(sb(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex(t=>e===t);if(0===t)return!1;let n;for(let r=t;r>=0;r--){const e=this.members[r];if(!1!==e.isPresent){n=e;break}}return!!n&&(this.promote(n),!0)}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;!1===r&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const aT={nodes:0,calculatedTargetDeltas:0,calculatedProjections:0},lT=["","X","Y","Z"];let uT=0;function cT(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function hT(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=qw(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:t,layoutId:r}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",dv,!(t||r))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&hT(r)}function dT(e){let{attachResizeListener:t,defaultParent:n,measureScroll:r,checkIsScrollRoot:i,resetTransform:o}=e;return class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===n||void 0===n?void 0:n();this.id=uT++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,cv.value&&(aT.nodes=aT.calculatedTargetDeltas=aT.calculatedProjections=0),this.nodes.forEach(mT),this.nodes.forEach(ET),this.nodes.forEach(xT),this.nodes.forEach(gT),cv.addProjectionMetrics&&cv.addProjectionMetrics(aT)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=t?t.root||t:this,this.path=t?[...t.path,t]:[],this.parent=t,this.depth=t?t.depth+1:0;for(let n=0;n<this.path.length;n++)this.path[n].shouldResetTransform=!0;this.root===this&&(this.nodes=new Ox)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new ab),this.eventHandlers.get(e).add(t)}notifyListeners(e){const t=this.eventHandlers.get(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t&&t.notify(...r)}hasListeners(e){return this.eventHandlers.has(e)}mount(e){if(this.instance)return;var n;this.isSVG=Rx(e)&&!(Rx(n=e)&&"svg"===n.tagName),this.instance=e;const{layoutId:r,layout:i,visualElement:o}=this.options;if(o&&!o.current&&o.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(i||r)&&(this.isLayoutDirty=!0),t){let n,r=0;const i=()=>this.root.updateBlockedByResize=!1;dv.read(()=>{r=window.innerWidth}),t(e,()=>{const e=window.innerWidth;e!==r&&(r=e,this.root.updateBlockedByResize=!0,n&&n(),n=Lx(i,250),Tx.hasAnimatedSinceResize&&(Tx.hasAnimatedSinceResize=!1,this.nodes.forEach(ST)))})}r&&this.root.registerSharedNode(r,this),!1!==this.options.animate&&o&&(r||i)&&this.addEventListener("didUpdate",e=>{let{delta:t,hasLayoutChanged:n,hasRelativeLayoutChanged:r,layout:i}=e;if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const s=this.options.transition||o.getDefaultTransition()||AT,{onLayoutAnimationStart:a,onLayoutAnimationComplete:l}=o.getProps(),u=!this.targetLayout||!rT(this.targetLayout,i),h=!n&&r;if(this.options.layoutRoot||this.resumeFrom||h||n&&(u||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const e=c(c({},Vw(s,"layout")),{},{onPlay:a,onComplete:l});(o.shouldReduceMotion||this.options.layoutRoot)&&(e.delay=0,e.type=!1),this.startAnimation(e),this.setAnimationOrigin(t,h)}else n||ST(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=i})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),fv(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(TT),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&hT(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let i=0;i<this.path.length;i++){const e=this.path[i];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;const r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(vT);if(this.animationId<=this.animationCommitId)return void this.nodes.forEach(bT);this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(wT),this.nodes.forEach(fT),this.nodes.forEach(pT)):this.nodes.forEach(bT),this.clearAllSnapshots();const e=ib.now();pv.delta=Uy(0,1e3/60,e-pv.timestamp),pv.timestamp=e,pv.isProcessing=!0,mv.update.process(pv),mv.preRender.process(pv),mv.render.process(pv),pv.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,fb.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(yT),this.sharedNodes.forEach(kT)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,dv.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){dv.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure(),!this.snapshot||JE(this.snapshot.measuredBox.x)||JE(this.snapshot.measuredBox.y)||(this.snapshot=void 0))}updateLayout(){if(!this.instance)return;if(this.updateScroll(),(!this.options.alwaysMeasureLayout||!this.isLead())&&!this.isLayoutDirty)return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",t=Boolean(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&this.instance){const t=i(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!o)return;const e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!eT(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,i=r!==this.prevTransformTemplateValue;e&&this.instance&&(t||_y(this.latestValues)||i)&&(o(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.measurePageBox();let n=this.removeElementScroll(t);var r;return e&&(n=this.removeTransform(n)),DT((r=n).x),DT(r.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){var e;const{visualElement:t}=this.options;if(!t)return{x:{min:0,max:0},y:{min:0,max:0}};const n=t.measureViewportBox();if(!((null===(e=this.scroll)||void 0===e?void 0:e.wasRoot)||this.path.some(FT))){const{scroll:e}=this.root;e&&(Oy(n.x,e.offset.x),Oy(n.y,e.offset.y))}return n}removeElementScroll(e){var t;const n={x:{min:0,max:0},y:{min:0,max:0}};if(Kx(n,e),null!==(t=this.scroll)&&void 0!==t&&t.wasRoot)return n;for(let r=0;r<this.path.length;r++){const t=this.path[r],{scroll:i,options:o}=t;t!==this.root&&i&&o.layoutScroll&&(i.wasRoot&&Kx(n,e),Oy(n.x,i.offset.x),Oy(n.y,i.offset.y))}return n}applyTransform(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n={x:{min:0,max:0},y:{min:0,max:0}};Kx(n,e);for(let r=0;r<this.path.length;r++){const e=this.path[r];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&My(n,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),_y(e.latestValues)&&My(n,e.latestValues)}return _y(this.latestValues)&&My(n,this.latestValues),n}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};Kx(t,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];if(!e.instance)continue;if(!_y(e.latestValues))continue;ky(e.latestValues)&&e.updateSnapshot();const r=yb();Kx(r,e.measurePageBox()),Jx(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,r)}return _y(this.latestValues)&&Jx(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options=c(c(c({},this.options),e),{},{crossfade:void 0===e.crossfade||e.crossfade})}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==pv.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(){var e;let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);const r=Boolean(this.resumingFrom)||this!==n;if(!(t||r&&this.isSharedProjectionDirty||this.isProjectionDirty||null!==(e=this.parent)&&void 0!==e&&e.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:i,layoutId:o}=this.options;if(this.layout&&(i||o)){if(this.resolvedRelativeTargetAt=pv.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},rx(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),Kx(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var s,a,l;if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),s=this.target,a=this.relativeTarget,l=this.relativeParent.target,tx(s.x,a.x,l.x),tx(s.y,a.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):Kx(this.target,this.layout.layoutBox),Dy(this.target,this.targetDelta)):Kx(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},rx(this.relativeTargetOrigin,this.target,e.target),Kx(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}cv.value&&aT.calculatedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!ky(this.parent.latestValues)&&!Cy(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;const t=this.getLead(),n=Boolean(this.resumingFrom)||this!==t;let r=!0;if((this.isProjectionDirty||null!==(e=this.parent)&&void 0!==e&&e.isProjectionDirty)&&(r=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===pv.timestamp&&(r=!1),r)return;const{layout:i,layoutId:o}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!i&&!o)return;Kx(this.layoutCorrected,this.layout.layoutBox);const s=this.treeScale.x,a=this.treeScale.y;!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=n.length;if(!i)return;let o,s;t.x=t.y=1;for(let a=0;a<i;a++){o=n[a],s=o.projectionDelta;const{visualElement:i}=o.options;i&&i.props.style&&"contents"===i.props.style.display||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&My(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,Dy(e,s)),r&&_y(o.latestValues)&&My(e,o.latestValues))}t.x<Fy&&t.x>Ry&&(t.x=1),t.y<Fy&&t.y>Ry&&(t.y=1)}(this.layoutCorrected,this.treeScale,this.path,n),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox,t.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}});const{target:l}=t;l?(this.projectionDelta&&this.prevProjectionDelta?(Gx(this.prevProjectionDelta.x,this.projectionDelta.x),Gx(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),ex(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.treeScale.x===s&&this.treeScale.y===a&&oT(this.projectionDelta.x,this.prevProjectionDelta.x)&&oT(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),cv.value&&aT.calculatedProjections++):this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender())}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(){var e;let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(null===(e=this.options.visualElement)||void 0===e||e.scheduleRender(),t){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}}setAnimationOrigin(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.snapshot,r=n?n.latestValues:{},i=c({},this.latestValues),o={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const s={x:{min:0,max:0},y:{min:0,max:0}},a=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),u=!l||l.members.length<=1,h=Boolean(a&&!u&&!0===this.options.crossfade&&!this.path.some(IT));let d;this.animationProgress=0,this.mixTargetDelta=t=>{const n=t/1e3;var l,c;_T(o.x,e.x,n),_T(o.y,e.y,n),this.setTargetDelta(o),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(rx(s,this.layout.layoutBox,this.relativeParent.layout.layoutBox),function(e,t,n,r){CT(e.x,t.x,n.x,r),CT(e.y,t.y,n.y,r)}(this.relativeTarget,this.relativeTargetOrigin,s,n),d&&(l=this.relativeTarget,c=d,tT(l.x,c.x)&&tT(l.y,c.y))&&(this.isProjectionDirty=!1),d||(d={x:{min:0,max:0},y:{min:0,max:0}}),Kx(d,this.relativeTarget)),a&&(this.animationValues=i,function(e,t,n,r,i,o){var s,a;if(i)e.opacity=xy(0,null!==(s=n.opacity)&&void 0!==s?s:1,Bx(r)),e.opacityExit=xy(null!==(a=t.opacity)&&void 0!==a?a:1,0,Hx(r));else if(o){var l,u;e.opacity=xy(null!==(l=t.opacity)&&void 0!==l?l:1,null!==(u=n.opacity)&&void 0!==u?u:1,r)}for(let c=0;c<Vx;c++){const i="border".concat(Mx[c],"Radius");let o=zx(t,i),s=zx(n,i);void 0===o&&void 0===s||(o||(o=0),s||(s=0),0===o||0===s||Ux(o)===Ux(s)?(e[i]=Math.max(xy(jx(o),jx(s),r),0),(Ky.test(s)||Ky.test(o))&&(e[i]+="%")):e[i]=s)}(t.rotate||n.rotate)&&(e.rotate=xy(t.rotate||0,n.rotate||0,r))}(i,r,this.latestValues,n,h,u)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){var t,n;this.notifyListeners("animationStart"),null===(t=this.currentAnimation)||void 0===t||t.stop(),null===(n=this.resumingFrom)||void 0===n||null===(n=n.currentAnimation)||void 0===n||n.stop(),this.pendingAnimation&&(fv(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=dv.update(()=>{Tx.hasAnimatedSinceResize=!0,Xw.layout++,this.motionValue||(this.motionValue=hb(0)),this.currentAnimation=function(e,t,n){const r=tb(e)?e:hb(e);return r.start(_E("",r,t,n)),r.animation}(this.motionValue,[0,1e3],c(c({},e),{},{velocity:0,isSync:!0,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onStop:()=>{Xw.layout--},onComplete:()=>{Xw.layout--,e.onComplete&&e.onComplete(),this.completeAnimation()}})),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:n,layout:r,latestValues:i}=e;if(t&&n&&r){if(this!==e&&this.layout&&r&&RT(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=JE(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;const r=JE(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+r}Kx(t,n),My(t,i),ex(this.projectionDeltaWithTransform,this.layoutCorrected,t,i)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new sT);this.sharedNodes.get(e).add(t);const n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){var e;const{layoutId:t}=this.options;return t&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;const{layoutId:t}=this.options;return t?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote(){let{needsReset:e,transition:t,preserveFollowOpacity:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=this.getStack();r&&r.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:n}=e;if((n.z||n.rotate||n.rotateX||n.rotateY||n.rotateZ||n.skewX||n.skewY)&&(t=!0),!t)return;const r={};n.z&&cT("z",e,r,this.animationValues);for(let i=0;i<lT.length;i++)cT("rotate".concat(lT[i]),e,r,this.animationValues),cT("skew".concat(lT[i]),e,r,this.animationValues);e.render();for(const i in r)e.setStaticValue(i,r[i]),this.animationValues&&(this.animationValues[i]=r[i]);e.scheduleRender()}applyProjectionStyles(e,t){if(!this.instance||this.isSVG)return;if(!this.isVisible)return void(e.visibility="hidden");const n=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,e.visibility="",e.opacity="",e.pointerEvents=ww(null===t||void 0===t?void 0:t.pointerEvents)||"",void(e.transform=n?n(this.latestValues,""):"none");const r=this.getLead();if(!this.projectionDelta||!this.layout||!r.target)return this.options.layoutId&&(e.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,e.pointerEvents=ww(null===t||void 0===t?void 0:t.pointerEvents)||""),void(this.hasProjected&&!_y(this.latestValues)&&(e.transform=n?n({},""):"none",this.hasProjected=!1));e.visibility="";const i=r.animationValues||r.latestValues;this.applyTransformsToTarget();let o=function(e,t,n){let r="";const i=e.x.translate/t.x,o=e.y.translate/t.y,s=(null===n||void 0===n?void 0:n.z)||0;if((i||o||s)&&(r="translate3d(".concat(i,"px, ").concat(o,"px, ").concat(s,"px) ")),1===t.x&&1===t.y||(r+="scale(".concat(1/t.x,", ").concat(1/t.y,") ")),n){const{transformPerspective:e,rotate:t,rotateX:i,rotateY:o,skewX:s,skewY:a}=n;e&&(r="perspective(".concat(e,"px) ").concat(r)),t&&(r+="rotate(".concat(t,"deg) ")),i&&(r+="rotateX(".concat(i,"deg) ")),o&&(r+="rotateY(".concat(o,"deg) ")),s&&(r+="skewX(".concat(s,"deg) ")),a&&(r+="skewY(".concat(a,"deg) "))}const a=e.x.scale*t.x,l=e.y.scale*t.y;return 1===a&&1===l||(r+="scale(".concat(a,", ").concat(l,")")),r||"none"}(this.projectionDeltaWithTransform,this.treeScale,i);n&&(o=n(i,o)),e.transform=o;const{x:s,y:a}=this.projectionDelta;var l,u;(e.transformOrigin="".concat(100*s.origin,"% ").concat(100*a.origin,"% 0"),r.animationValues)?e.opacity=r===this?null!==(l=null!==(u=i.opacity)&&void 0!==u?u:this.latestValues.opacity)&&void 0!==l?l:1:this.preserveOpacity?this.latestValues.opacity:i.opacityExit:e.opacity=r===this?void 0!==i.opacity?i.opacity:"":void 0!==i.opacityExit?i.opacityExit:0;for(const c in jb){if(void 0===i[c])continue;const{correct:t,applyTo:n,isCSSVariable:s}=jb[c],a="none"===o?i[c]:t(i[c],r);if(n){const t=n.length;for(let r=0;r<t;r++)e[n[r]]=a}else s?this.options.visualElement.renderState.vars[c]=a:e[c]=a}this.options.layoutId&&(e.pointerEvents=r===this?ww(null===t||void 0===t?void 0:t.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(e=>{var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()}),this.root.nodes.forEach(vT),this.root.sharedNodes.clear()}}}function fT(e){e.updateLayout()}function pT(e){var t;const n=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:r}=e.layout,{animationType:i}=e.options,o=n.source!==e.layout.source;"size"===i?ix(e=>{const r=o?n.measuredBox[e]:n.layoutBox[e],i=JE(r);r.min=t[e].min,r.max=r.min+i}):RT(i,n.layoutBox,t)&&ix(r=>{const i=o?n.measuredBox[r]:n.layoutBox[r],s=JE(t[r]);i.max=i.min+s,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+s)});const s={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};ex(s,t,n.layoutBox);const a={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};o?ex(a,e.applyTransform(r,!0),n.measuredBox):ex(a,t,n.layoutBox);const l=!eT(s);let u=!1;if(!e.resumeFrom){const r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){const{snapshot:i,layout:o}=r;if(i&&o){const s={x:{min:0,max:0},y:{min:0,max:0}};rx(s,n.layoutBox,i.layoutBox);const a={x:{min:0,max:0},y:{min:0,max:0}};rx(a,t,o.layoutBox),rT(s,a)||(u=!0),r.options.layoutRoot&&(e.relativeTarget=a,e.relativeTargetOrigin=s,e.relativeParent=r)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:n,delta:a,layoutDelta:s,hasLayoutChanged:l,hasRelativeLayoutChanged:u})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function mT(e){cv.value&&aT.nodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function gT(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function yT(e){e.clearSnapshot()}function vT(e){e.clearMeasurements()}function bT(e){e.isLayoutDirty=!1}function wT(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function ST(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function ET(e){e.resolveTargetDelta()}function xT(e){e.calcProjection()}function TT(e){e.resetSkewAndRotation()}function kT(e){e.removeLeadSnapshot()}function _T(e,t,n){e.translate=xy(t.translate,0,n),e.scale=xy(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function CT(e,t,n,r){e.min=xy(t.min,n.min,r),e.max=xy(t.max,n.max,r)}function IT(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const AT={duration:.45,ease:[.4,0,.1,1]},PT=e=>"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),NT=PT("applewebkit/")&&!PT("chrome/")?Math.round:av;function DT(e){e.min=NT(e.min),e.max=NT(e.max)}function RT(e,t,n){return"position"===e||"preserve-aspect"===e&&(r=iT(t),i=iT(n),o=.2,!(Math.abs(r-i)<=o));var r,i,o}function FT(e){var t;return e!==e.root&&(null===(t=e.scroll)||void 0===t?void 0:t.wasRoot)}const OT=dT({attachResizeListener:(e,t)=>QE(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),LT={current:void 0},MT=dT({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!LT.current){const e=new OT({});e.mount(window),e.setOptions({layoutScroll:!0}),LT.current=e}return LT.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),VT={pan:{Feature:class extends HE{constructor(){super(...arguments),this.removePointerDownListener=av}onPointerDown(e){this.session=new ax(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:ox(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:Ex(e),onStart:Ex(t),onMove:n,onEnd:(e,t)=>{delete this.session,r&&dv.postRender(()=>r(e,t))}}}mount(){this.removePointerDownListener=$E(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends HE{constructor(e){super(e),this.removeGroupControls=av,this.removeListeners=av,this.controls=new wx(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||av}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:MT,MeasureLayout:Px}};function jT(e,t){const n=function(e,t,n){if(e instanceof EventTarget)return[e];if("string"===typeof e){var r;let i=document;t&&(i=t.current);const o=null!==(r=null===n||void 0===n?void 0:n[e])&&void 0!==r?r:i.querySelectorAll(e);return o?Array.from(o):[]}return Array.from(e)}(e),r=new AbortController;return[n,c(c({passive:!0},t),{},{signal:r.signal}),()=>r.abort()]}function UT(e){return!("touch"===e.pointerType||GE())}function zT(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover","Start"===n);const i=r["onHover"+n];i&&dv.postRender(()=>i(t,XE(t)))}function BT(e){return Dx(e)&&"offsetHeight"in e}const HT=(e,t)=>!!t&&(e===t||HT(e,t.parentElement)),qT=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);const WT=new WeakSet;function KT(e){return t=>{"Enter"===t.key&&e(t)}}function GT(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}function QT(e){return YE(e)&&!GE()}function YT(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[r,i,o]=jT(e,n),s=e=>{const r=e.currentTarget;if(!QT(e))return;WT.add(r);const o=t(r,e),s=(e,t)=>{window.removeEventListener("pointerup",a),window.removeEventListener("pointercancel",l),WT.has(r)&&WT.delete(r),QT(e)&&"function"===typeof o&&o(e,{success:t})},a=e=>{s(e,r===window||r===document||n.useGlobalTarget||HT(r,e.target))},l=e=>{s(e,!1)};window.addEventListener("pointerup",a,i),window.addEventListener("pointercancel",l,i)};return r.forEach(e=>{var t;(n.useGlobalTarget?window:e).addEventListener("pointerdown",s,i),BT(e)&&(e.addEventListener("focus",e=>((e,t)=>{const n=e.currentTarget;if(!n)return;const r=KT(()=>{if(WT.has(n))return;GT(n,"down");const e=KT(()=>{GT(n,"up")});n.addEventListener("keyup",e,t),n.addEventListener("blur",()=>GT(n,"cancel"),t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)})(e,i)),t=e,qT.has(t.tagName)||-1!==t.tabIndex||e.hasAttribute("tabindex")||(e.tabIndex=0))}),o}function XT(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap","Start"===n);const i=r["onTap"+("End"===n?"":n)];i&&dv.postRender(()=>i(t,XE(t)))}const $T=["root"],JT=new WeakMap,ZT=new WeakMap,ek=e=>{const t=JT.get(e.target);t&&t(e)},tk=e=>{e.forEach(ek)};function nk(e,t,n){const r=function(e){let{root:t}=e,n=o(e,$T);const r=t||document;ZT.has(r)||ZT.set(r,{});const i=ZT.get(r),s=JSON.stringify(n);return i[s]||(i[s]=new IntersectionObserver(tk,c({root:t},n))),i[s]}(t);return JT.set(e,n),r.observe(e),()=>{JT.delete(e),r.unobserve(e)}}const rk={some:0,all:1};const ik={inView:{Feature:class extends HE{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r="some",once:i}=e,o={root:t?t.current:void 0,rootMargin:n,threshold:"number"===typeof r?r:rk[r]};return nk(this.node.current,o,e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,i&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),o=t?n:r;o&&o(e)})}mount(){this.startObserver()}update(){if("undefined"===typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node,n=["amount","margin","root"].some(function(e){let{viewport:t={}}=e,{viewport:n={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=>t[e]!==n[e]}(e,t));n&&this.startObserver()}unmount(){}}},tap:{Feature:class extends HE{mount(){const{current:e}=this.node;e&&(this.unmount=YT(e,(e,t)=>(XT(this.node,t,"Start"),(e,t)=>{let{success:n}=t;return XT(this.node,e,n?"End":"Cancel")}),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}},focus:{Feature:class extends HE{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(Ok){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Gw(QE(this.node.current,"focus",()=>this.onFocus()),QE(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}},hover:{Feature:class extends HE{mount(){const{current:e}=this.node;e&&(this.unmount=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[r,i,o]=jT(e,n),s=e=>{if(!UT(e))return;const{target:n}=e,r=t(n,e);if("function"!==typeof r||!n)return;const o=e=>{UT(e)&&(r(e),n.removeEventListener("pointerleave",o))};n.addEventListener("pointerleave",o,i)};return r.forEach(e=>{e.addEventListener("pointerenter",s,i)}),o}(e,(e,t)=>(zT(this.node,t,"Start"),e=>zT(this.node,e,"End"))))}unmount(){}}}},ok={layout:{ProjectionNode:MT,MeasureLayout:Px}},sk=Lw(c(c(c(c({},WE),ik),VT),ok),ew),ak={randomUUID:"undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let lk;const uk=new Uint8Array(16);const ck=[];for(let Vk=0;Vk<256;++Vk)ck.push((Vk+256).toString(16).slice(1));function hk(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(ck[e[t+0]]+ck[e[t+1]]+ck[e[t+2]]+ck[e[t+3]]+"-"+ck[e[t+4]]+ck[e[t+5]]+"-"+ck[e[t+6]]+ck[e[t+7]]+"-"+ck[e[t+8]]+ck[e[t+9]]+"-"+ck[e[t+10]]+ck[e[t+11]]+ck[e[t+12]]+ck[e[t+13]]+ck[e[t+14]]+ck[e[t+15]]).toLowerCase()}function dk(e,t,n){var r,i,o,s;const a=null!==(r=null!==(i=(e=e||{}).random)&&void 0!==i?i:null===(o=(s=e).rng)||void 0===o?void 0:o.call(s))&&void 0!==r?r:function(){if(!lk){if("undefined"===typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");lk=crypto.getRandomValues.bind(crypto)}return lk(uk)}();if(a.length<16)throw new Error("Random bytes length must be >= 16");if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t){if((n=n||0)<0||n+16>t.length)throw new RangeError("UUID byte range ".concat(n,":").concat(n+15," is out of buffer bounds"));for(let e=0;e<16;++e)t[n+e]=a[e];return t}return hk(a)}const fk=function(e,t,n){return!ak.randomUUID||t||e?dk(e,t,n):ak.randomUUID()},pk=()=>{var e;const{user:t,isAuthenticated:n,signOut:i}=ry(),[o,s]=(0,r.useState)(!1),[a,l]=(0,r.useState)(!1),[u,c]=(0,r.useState)(null),h=me();(0,r.useEffect)(()=>{(async()=>{if(n&&t&&Jg){l(!0);try{const n=sf(Sd(Jg,"boards"),function(e,t,n){const r=t,i=tf("where",e);return af._create(i,r,n)}("ownerId","==",t.uid),(Fi("limit",e=1),cf._create("limit",e,"F"))),r=await function(e){e=Ri(e,vd);const t=Ri(e.firestore,Cd),n=Id(t),r=new Sf(t);return nf(e._query),cd(n,e._query).then(n=>new bf(t,r,e,n))}(n);if(r.empty)c(null);else{const e=r.docs[0];c(e.id)}}catch(Lk){c(null)}finally{l(!1)}var e}})()},[n,t]);const d=async e=>{if(e.preventDefault(),!n||!t)return void h("/login");if(u)return void h("/board/".concat(u));if(!Jg){return void alert("\u274c Firebase\uac00 \uc5f0\uacb0\ub418\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4.\n\n\ud655\uc778 \uc0ac\ud56d:\n1. .env \ud30c\uc77c\uc774 \ud504\ub85c\uc81d\ud2b8 \ub8e8\ud2b8\uc5d0 \uc788\ub294\uc9c0 \ud655\uc778\n2. .env \ud30c\uc77c\uc758 \ubaa8\ub4e0 \uac12\uc774 \uc2e4\uc81c Firebase \uc124\uc815 \uac12\uc73c\ub85c \uc785\ub825\ub418\uc5c8\ub294\uc9c0 \ud655\uc778\n3. \uac1c\ubc1c \uc11c\ubc84\ub97c \uc7ac\uc2dc\uc791\ud588\ub294\uc9c0 \ud655\uc778 (npm start)")}s(!0);let r=null;try{var i;r=fk().slice(0,8);const e=Ed(Jg,"boards",r),n=new Date;n.setMonth(10),n.setDate(13);const o={owner:t.displayName||(null===(i=t.email)||void 0===i?void 0:i.split("@")[0])||"\uc775\uba85",ownerId:t.uid,ownerEmail:t.email||null,ownerPhotoURL:t.photoURL||null,ddayTarget:n.toISOString().slice(0,10),createdAt:kf()};await function(e,t,n){e=Ri(e,bd);const r=Ri(e.firestore,Cd),i=mf(e.converter,t,n);return xf(r,[zd(Ud(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Xa.none())])}(e,o),setTimeout(()=>{h("/board/".concat(r))},100)}catch(Lk){let t="\ubcf4\ub4dc \uc0dd\uc131\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.\n\n";"permission-denied"===Lk.code?t+="\u274c \uad8c\ud55c\uc774 \uac70\ubd80\ub418\uc5c8\uc2b5\ub2c8\ub2e4.\n\n":"unavailable"===Lk.code?t+="\u274c \uc11c\ube44\uc2a4\uc5d0 \uc5f0\uacb0\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.\n\uc778\ud130\ub137 \uc5f0\uacb0\uc744 \ud655\uc778\ud574\uc8fc\uc138\uc694.":t+="\u274c\uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4",alert(t),s(!1)}};return(0,ty.jsx)("div",{className:"min-h-screen flex items-center justify-center p-4 md:p-8",style:{backgroundColor:"#FFFDF7"},children:(0,ty.jsx)("div",{className:"max-w-2xl w-full",children:(0,ty.jsxs)(sk.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,ease:[.22,1,.36,1]},className:"bg-white rounded-3xl p-8 md:p-16 shadow-sm",style:{boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},children:[(0,ty.jsxs)(sk.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1,duration:.5},className:"text-center mb-12",children:[(0,ty.jsxs)("h1",{className:"text-5xl md:text-7xl font-bold mb-6 leading-tight",style:{color:"#333333"},children:["\ub108\uc758 \uc218\ub2a5\uc744",(0,ty.jsx)("br",{}),"\uc751\uc6d0\ud574!"]}),(0,ty.jsx)("p",{className:"text-xl md:text-2xl font-medium mb-2",style:{color:"#666666"},children:"\uce5c\uad6c\ub4e4\uc774 \uc751\uc6d0 \uba54\uc2dc\uc9c0\ub97c \ub0a8\uae38 \uc218 \uc788\ub294"}),(0,ty.jsx)("p",{className:"text-lg",style:{color:"#999999"},children:"\ub098\ub9cc\uc758 \ud2b9\ubcc4\ud55c \ud654\uc774\ud2b8\ubcf4\ub4dc\ub97c \ub9cc\ub4e4\uc5b4\ubcf4\uc138\uc694"})]}),n&&t?(0,ty.jsxs)("div",{className:"space-y-8",children:[(0,ty.jsx)("div",{className:"rounded-2xl p-6",style:{backgroundColor:"#FFFDF7",border:"1px solid rgba(0, 0, 0, 0.1)"},children:(0,ty.jsxs)("div",{className:"flex items-center gap-4",children:[t.photoURL&&(0,ty.jsx)("img",{src:t.photoURL,alt:"\ud504\ub85c\ud544",className:"w-14 h-14 rounded-full"}),(0,ty.jsxs)("div",{children:[(0,ty.jsxs)("p",{className:"font-semibold text-lg",style:{color:"#333333"},children:[t.displayName||(null===(e=t.email)||void 0===e?void 0:e.split("@")[0])||"\uc0ac\uc6a9\uc790","\ub2d8"]}),(0,ty.jsx)("p",{className:"text-sm",style:{color:"#999999"},children:t.email})]})]})}),(0,ty.jsx)(sk.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:async()=>{try{await i()}catch(Lk){}},className:"w-full px-5 py-3 rounded-xl font-semibold text-sm transition-all",style:{backgroundColor:"#FFFDF7",color:"#666666",border:"2px solid rgba(0, 0, 0, 0.1)",minHeight:"48px",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.05)"},onMouseEnter:e=>{e.target.style.backgroundColor="#F6BD60",e.target.style.color="#333333",e.target.style.borderColor="#FFB703",e.target.style.boxShadow="0 4px 8px rgba(0, 0, 0, 0.1)"},onMouseLeave:e=>{e.target.style.backgroundColor="#FFFDF7",e.target.style.color="#666666",e.target.style.borderColor="rgba(0, 0, 0, 0.1)",e.target.style.boxShadow="0 2px 4px rgba(0, 0, 0, 0.05)"},children:"\ub85c\uadf8\uc544\uc6c3"}),a?(0,ty.jsx)(sk.button,{disabled:!0,className:"w-full py-5 text-white rounded-2xl font-semibold text-lg transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",style:{background:"linear-gradient(135deg, #FFB703 0%, #FB8500 100%)",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},children:(0,ty.jsxs)("span",{className:"flex items-center justify-center gap-2",children:[(0,ty.jsxs)("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[(0,ty.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),(0,ty.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"\ud655\uc778 \uc911..."]})}):u?(0,ty.jsx)(sk.button,{onClick:d,whileHover:{scale:1.01},whileTap:{scale:.99},className:"w-full py-5 text-white rounded-2xl font-semibold text-lg transition-all duration-200",style:{background:"linear-gradient(135deg, #FFB703 0%, #FB8500 100%)",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},children:"\ub0b4 \ubcf4\ub4dc\ub85c \uac00\uae30"}):(0,ty.jsx)(sk.button,{onClick:d,disabled:o,whileHover:{scale:1.01},whileTap:{scale:.99},className:"w-full py-5 text-white rounded-2xl font-semibold text-lg transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",style:{background:"linear-gradient(135deg, #FFB703 0%, #FB8500 100%)",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},children:o?(0,ty.jsxs)("span",{className:"flex items-center justify-center gap-2",children:[(0,ty.jsxs)("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[(0,ty.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),(0,ty.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"\ubcf4\ub4dc \uc0dd\uc131 \uc911..."]}):"\ubcf4\ub4dc \ub9cc\ub4e4\uae30"})]}):(0,ty.jsxs)("div",{className:"space-y-6",children:[(0,ty.jsx)(sk.button,{onClick:()=>h("/login"),whileHover:{scale:1.01},whileTap:{scale:.99},className:"w-full py-5 text-white rounded-2xl font-semibold text-lg transition-all duration-200",style:{background:"linear-gradient(135deg, #FFB703 0%, #FB8500 100%)",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},children:"\ub85c\uadf8\uc778\ud558\uace0 \uc2dc\uc791\ud558\uae30"}),(0,ty.jsx)("p",{className:"text-sm text-center",style:{color:"#999999"},children:"\ub85c\uadf8\uc778 \ud6c4 \ubcf4\ub4dc\ub97c \ub9cc\ub4e4 \uc218 \uc788\uc2b5\ub2c8\ub2e4"})]}),(0,ty.jsx)(sk.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"mt-12 p-6 rounded-2xl",style:{backgroundColor:"#FFFDF7",border:"1px solid rgba(0, 0, 0, 0.1)"},children:(0,ty.jsxs)("p",{className:"text-sm text-center leading-relaxed",style:{color:"#666666"},children:["\ubcf4\ub4dc\ub97c \ub9cc\ub4e4\uba74 \uace0\uc720\ud55c URL\uc774 \uc0dd\uc131\ub429\ub2c8\ub2e4.",(0,ty.jsx)("br",{}),"\uce5c\uad6c\ub4e4\uc5d0\uac8c \ub9c1\ud06c\ub97c \uacf5\uc720\ud574\uc11c \ub530\ub73b\ud55c \uc751\uc6d0 \uba54\uc2dc\uc9c0\ub97c \ubc1b\uc544\ubcf4\uc138\uc694."]})})]})})})},mk=e=>{let{post:t,isOwner:n=!1,onClick:i,postCount:o=1}=e;const[s,a]=(0,r.useState)({width:160,minHeight:130,fontSize:"text-xs"});(0,r.useEffect)(()=>{const e=()=>{const e=window.innerWidth<768,n=window.innerWidth>=768&&window.innerWidth<1024,r=t.message?t.message.length:0,i=Math.min(8*r,226);let s=Math.max(120,i+24);s=Math.min(s,250);const l=Math.floor((s-24)/8),u=l>0?Math.ceil(r/l):1;let c=Math.max(100,20*u+60),h=s,d=c,f="text-xs",p=12;o<=1?(h=Math.max(s,e?140:n?180:200),d=Math.max(c,e?120:n?150:170),f=e?"text-xs":"text-sm",p=e?14:16):o<=3?(h=Math.max(s,e?120:n?150:170),d=Math.max(c,e?100:n?130:150),f="text-xs",p=e?12:14):o<=5?(h=Math.max(s,e?110:n?130:150),d=Math.max(c,e?90:n?110:130),f="text-xs",p=12):(h=Math.max(s,e?100:n?120:140),d=Math.max(c,e?80:n?100:120),f="text-xs",p=10),a({width:h,minHeight:d,fontSize:f,padding:p})};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[o,t.message]);const l=t.rotation||0;return(0,ty.jsxs)(sk.div,{initial:{opacity:0,scale:.5,rotate:l-5},animate:{opacity:1,scale:1,rotate:l,x:0,y:0},whileHover:{scale:1.1,rotate:l+2,y:-8,zIndex:10},transition:{type:"spring",stiffness:300,damping:20},className:"absolute shadow-sm rounded-xl border border-white/30 flex flex-col items-center justify-center text-center ".concat(n?"cursor-pointer":"cursor-default"),style:{left:"".concat(t.x,"%"),top:"".concat(t.y,"%"),background:t.color,width:s.width,minHeight:s.minHeight,padding:s.padding,boxShadow:"0 2px 8px rgba(0, 0, 0, 0.08)",transformOrigin:"center center",transform:"translate(-50%, -50%)"},onClick:()=>n&&i&&i(t),children:[(0,ty.jsx)("div",{className:"font-extrabold mb-2 w-full border-b-2 border-black/10 pb-1 px-1 ".concat(s.fontSize),style:{color:"#333333"},children:t.nickname}),n?(0,ty.jsx)("div",{className:"".concat(s.fontSize," break-words leading-relaxed px-1"),style:{color:"#333333",wordBreak:"break-word",overflowWrap:"break-word"},children:t.message}):(0,ty.jsx)("div",{className:"".concat(s.fontSize," leading-relaxed px-1 flex items-center justify-center"),style:{color:"#999999"},children:(0,ty.jsxs)("div",{className:"text-center",children:[(0,ty.jsx)("div",{className:"".concat(o<=1?"text-3xl":o<=3?"text-2xl":"text-xl"," mb-1"),children:"\ud83d\udd12"}),(0,ty.jsx)("div",{className:"".concat(o<=1?"text-xs":"text-[10px]"," font-semibold"),children:"\uc8fc\uc778\ub9cc \ud655\uc778 \uac00\ub2a5"})]})})]})};function gk(e,t){if("function"===typeof e)return e(t);null!==e&&void 0!==e&&(e.current=t)}function yk(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.useCallback(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{let n=!1;const r=t.map(t=>{const r=gk(t,e);return n||"function"!==typeof r||(n=!0),r});if(n)return()=>{for(let e=0;e<r.length;e++){const n=r[e];"function"===typeof n?n():gk(t[e],null)}}}}(...t),t)}class vk extends r.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=t.offsetParent,n=BT(e)&&e.offsetWidth||0,r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft,r.right=n-r.width-r.left}return null}componentDidUpdate(){}render(){return this.props.children}}function bk(e){let{children:t,isPresent:n,anchorX:i,root:o}=e;const s=(0,r.useId)(),a=(0,r.useRef)(null),l=(0,r.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:u}=(0,r.useContext)(rw),c=yk(a,null===t||void 0===t?void 0:t.ref);return(0,r.useInsertionEffect)(()=>{const{width:e,height:t,top:r,left:c,right:h}=l.current;if(n||!a.current||!e||!t)return;const d="left"===i?"left: ".concat(c):"right: ".concat(h);a.current.dataset.motionPopId=s;const f=document.createElement("style");u&&(f.nonce=u);const p=null!==o&&void 0!==o?o:document.head;return p.appendChild(f),f.sheet&&f.sheet.insertRule('\n          [data-motion-pop-id="'.concat(s,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            ").concat(d,"px !important;\n            top: ").concat(r,"px !important;\n          }\n        ")),()=>{p.contains(f)&&p.removeChild(f)}},[n]),(0,ty.jsx)(vk,{isPresent:n,childRef:a,sizeRef:l,children:r.cloneElement(t,{ref:c})})}const wk=e=>{let{children:t,initial:n,isPresent:i,onExitComplete:o,custom:s,presenceAffectsLayout:a,mode:l,anchorX:u,root:h}=e;const d=bw(Sk),f=(0,r.useId)();let p=!0,m=(0,r.useMemo)(()=>(p=!1,{id:f,initial:n,isPresent:i,custom:s,onExitComplete:e=>{d.set(e,!0);for(const t of d.values())if(!t)return;o&&o()},register:e=>(d.set(e,!1),()=>d.delete(e))}),[i,d,o]);return a&&p&&(m=c({},m)),(0,r.useMemo)(()=>{d.forEach((e,t)=>d.set(t,!1))},[i]),r.useEffect(()=>{!i&&!d.size&&o&&o()},[i]),"popLayout"===l&&(t=(0,ty.jsx)(bk,{isPresent:i,anchorX:u,root:h,children:t})),(0,ty.jsx)(vw.Provider,{value:m,children:t})};function Sk(){return new Map}const Ek=e=>e.key||"";function xk(e){const t=[];return r.Children.forEach(e,e=>{(0,r.isValidElement)(e)&&t.push(e)}),t}const Tk=e=>{let{children:t,custom:n,initial:i=!0,onExitComplete:o,presenceAffectsLayout:s=!0,mode:a="sync",propagate:l=!1,anchorX:u="left",root:c}=e;const[h,d]=xx(l),f=(0,r.useMemo)(()=>xk(t),[t]),p=l&&!h?[]:f.map(Ek),m=(0,r.useRef)(!0),g=(0,r.useRef)(f),y=bw(()=>new Map),[v,b]=(0,r.useState)(f),[w,S]=(0,r.useState)(f);Nw(()=>{m.current=!1,g.current=f;for(let e=0;e<w.length;e++){const t=Ek(w[e]);p.includes(t)?y.delete(t):!0!==y.get(t)&&y.set(t,!1)}},[w,p.length,p.join("-")]);const E=[];if(f!==v){let e=[...f];for(let t=0;t<w.length;t++){const n=w[t],r=Ek(n);p.includes(r)||(e.splice(t,0,n),E.push(n))}return"wait"===a&&E.length&&(e=E),S(xk(e)),b(f),null}const{forceRender:x}=(0,r.useContext)(tw);return(0,ty.jsx)(ty.Fragment,{children:w.map(e=>{const t=Ek(e),r=!(l&&!h)&&(f===w||p.includes(t));return(0,ty.jsx)(wk,{isPresent:r,initial:!(m.current&&!i)&&void 0,custom:n,presenceAffectsLayout:s,mode:a,root:c,onExitComplete:r?void 0:()=>{if(!y.has(t))return;y.set(t,!0);let e=!0;y.forEach(t=>{t||(e=!1)}),e&&(null===x||void 0===x||x(),S(g.current),l&&(null===d||void 0===d||d()),o&&o())},anchorX:u,children:e},t)})})},kk=e=>{let{isOpen:t,onClose:n,children:r}=e;return(0,ty.jsx)(Tk,{children:t&&(0,ty.jsxs)(ty.Fragment,{children:[(0,ty.jsx)(sk.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"modal-overlay",onClick:n,style:{zIndex:40}}),(0,ty.jsx)(sk.div,{initial:{opacity:0,scale:.8,y:50},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:50},transition:{type:"spring",stiffness:300,damping:30},className:"fixed inset-0 flex items-center justify-center p-3 sm:p-4",style:{zIndex:50,pointerEvents:"none",overflowY:"auto"},onClick:e=>e.stopPropagation(),children:(0,ty.jsx)("div",{style:{pointerEvents:"auto",width:"100%",maxWidth:"100%"},children:r})})]})})},_k=e=>{var t;let{post:n,isOpen:r,onClose:i,onDelete:o,isOwner:s}=e;if(!n)return null;const a=null!==(t=n.createdAt)&&void 0!==t&&t.toDate?n.createdAt.toDate():new Date(n.createdAt||Date.now());return(0,ty.jsx)(kk,{isOpen:r,onClose:i,children:(0,ty.jsxs)("div",{className:"bg-white rounded-3xl shadow-sm p-8 max-w-md w-full relative",style:{background:n.color},children:[(0,ty.jsx)(sk.button,{onClick:i,whileHover:{scale:1.1},whileTap:{scale:.9},className:"absolute top-5 right-5 w-8 h-8 flex items-center justify-center bg-white/90 hover:bg-white rounded-full text-xl font-semibold transition-all",style:{color:"#999999"},onMouseEnter:e=>e.currentTarget.style.color="#333333",onMouseLeave:e=>e.currentTarget.style.color="#999999","aria-label":"\ub2eb\uae30",children:"\xd7"}),(0,ty.jsxs)("div",{className:"mb-6 text-center",children:[(0,ty.jsx)("h3",{className:"text-2xl font-bold mb-3 border-b border-black/10 pb-3 mx-auto",style:{color:"#333333"},children:n.nickname}),(0,ty.jsx)("p",{className:"text-sm flex items-center justify-center gap-2",style:{color:"#999999"},children:a.toLocaleString("ko-KR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),(0,ty.jsx)("div",{className:"text-base leading-relaxed whitespace-pre-wrap break-words font-medium text-center mb-6",style:{color:"#333333",minHeight:"120px"},children:n.message}),s&&o&&(0,ty.jsx)("div",{className:"flex justify-center",children:(0,ty.jsxs)(sk.button,{onClick:()=>{o&&o()},whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-6 py-3 rounded-xl font-semibold text-sm transition-all flex items-center gap-2",style:{backgroundColor:"#f44336",color:"#FFFFFF",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="#da190b",e.currentTarget.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.15)"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="#f44336",e.currentTarget.style.boxShadow="0 2px 8px rgba(0, 0, 0, 0.1)"},children:[(0,ty.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ty.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),(0,ty.jsx)("span",{children:"\uc0ad\uc81c\ud558\uae30"})]})})]})})},Ck=e=>{let{isOpen:t,onClose:n,onSubmit:i}=e;const[o,s]=(0,r.useState)(""),[a,l]=(0,r.useState)(""),u=()=>{s(""),l(""),n()};return(0,ty.jsx)(kk,{isOpen:t,onClose:u,children:(0,ty.jsxs)(sk.div,{className:"bg-white rounded-2xl sm:rounded-3xl shadow-sm p-6 sm:p-7 md:p-8 max-w-md sm:max-w-lg md:max-w-xl w-full mx-3 sm:mx-4",initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.3,ease:[.22,1,.36,1]},style:{maxHeight:"90vh",overflowY:"auto"},children:[(0,ty.jsxs)("div",{className:"text-center mb-6 sm:mb-7 md:mb-8",children:[(0,ty.jsx)("h3",{className:"text-xl sm:text-2xl md:text-3xl font-bold mb-2 sm:mb-3",style:{color:"#333333"},children:"\uc751\uc6d0 \uba54\uc2dc\uc9c0 \ub0a8\uae30\uae30"}),(0,ty.jsx)("p",{className:"text-sm sm:text-base md:text-lg",style:{color:"#999999"},children:"\ub530\ub73b\ud55c \ub9c8\uc74c\uc744 \uc804\ud574\uc8fc\uc138\uc694"})]}),(0,ty.jsxs)("form",{onSubmit:e=>{e.preventDefault(),o.trim()&&a.trim()?(i(o.trim(),a.trim()),s(""),l(""),n()):alert("\ub2c9\ub124\uc784\uacfc \uc751\uc6d0 \ubb38\uad6c\ub97c \ubaa8\ub450 \uc785\ub825\ud574\uc8fc\uc138\uc694!")},children:[(0,ty.jsxs)("div",{className:"mb-5 sm:mb-6 md:mb-7",children:[(0,ty.jsx)("label",{className:"block text-sm sm:text-base md:text-lg font-semibold mb-2 sm:mb-3",style:{color:"#666666"},children:"\ub2c9\ub124\uc784"}),(0,ty.jsx)("input",{type:"text",className:"w-full px-4 sm:px-5 py-3.5 sm:py-4 rounded-xl transition-all text-base sm:text-lg",style:{border:"2px solid rgba(0, 0, 0, 0.1)",backgroundColor:"#FFFDF7",color:"#333333"},onFocus:e=>{e.target.style.borderColor="#FFB703",e.target.style.boxShadow="0 0 0 3px rgba(255, 183, 3, 0.2)",e.target.style.backgroundColor="white"},onBlur:e=>{e.target.style.borderColor="rgba(0, 0, 0, 0.1)",e.target.style.boxShadow="none",e.target.style.backgroundColor="#FFFDF7"},onMouseEnter:e=>{document.activeElement!==e.target&&(e.target.style.backgroundColor="white",e.target.style.borderColor="#F6BD60")},onMouseLeave:e=>{document.activeElement!==e.target&&(e.target.style.backgroundColor="#FFFDF7",e.target.style.borderColor="rgba(0, 0, 0, 0.1)")},placeholder:"\uc774\ub984\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694 (\ucd5c\ub300 10\uc790)",value:o,onChange:e=>s(e.target.value),maxLength:10,autoFocus:!0})]}),(0,ty.jsxs)("div",{className:"mb-6 sm:mb-7 md:mb-8",children:[(0,ty.jsx)("label",{className:"block text-sm sm:text-base md:text-lg font-semibold mb-2 sm:mb-3",style:{color:"#666666"},children:"\uc751\uc6d0 \ubb38\uad6c"}),(0,ty.jsx)("textarea",{className:"w-full px-4 sm:px-5 py-3.5 sm:py-4 rounded-xl resize-none transition-all text-base sm:text-lg",style:{border:"2px solid rgba(0, 0, 0, 0.1)",backgroundColor:"#FFFDF7",color:"#333333",minHeight:"120px"},onFocus:e=>{e.target.style.borderColor="#FFB703",e.target.style.boxShadow="0 0 0 3px rgba(255, 183, 3, 0.2)",e.target.style.backgroundColor="white"},onBlur:e=>{e.target.style.borderColor="rgba(0, 0, 0, 0.1)",e.target.style.boxShadow="none",e.target.style.backgroundColor="#FFFDF7"},onMouseEnter:e=>{document.activeElement!==e.target&&(e.target.style.backgroundColor="white",e.target.style.borderColor="#F6BD60")},onMouseLeave:e=>{document.activeElement!==e.target&&(e.target.style.backgroundColor="#FFFDF7",e.target.style.borderColor="rgba(0, 0, 0, 0.1)")},placeholder:"\uc218\ub2a5 \ud654\uc774\ud305! \ud30c\uc774\ud305! \uc751\uc6d0\ud569\ub2c8\ub2e4!",rows:6,value:a,onChange:e=>l(e.target.value),maxLength:100}),(0,ty.jsxs)("p",{className:"text-xs sm:text-sm mt-2 text-right",style:{color:"#999999"},children:[a.length,"/100"]})]}),(0,ty.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center",children:[(0,ty.jsx)(sk.button,{type:"button",onClick:u,whileHover:{scale:1.01},whileTap:{scale:.99},className:"px-6 sm:px-8 py-3.5 sm:py-4 rounded-xl transition-all font-semibold text-base sm:text-lg touch-manipulation w-full sm:w-auto",style:{border:"2px solid rgba(0, 0, 0, 0.1)",color:"#666666",backgroundColor:"white",minHeight:"52px"},onMouseEnter:e=>e.currentTarget.style.backgroundColor="#FFFDF7",onMouseLeave:e=>e.currentTarget.style.backgroundColor="white",children:"\ucde8\uc18c"}),(0,ty.jsx)(sk.button,{type:"submit",whileHover:{scale:1.01},whileTap:{scale:.99},className:"px-8 sm:px-10 py-3.5 sm:py-4 text-white rounded-xl transition-all shadow-sm font-semibold text-base sm:text-lg touch-manipulation w-full sm:w-auto",style:{background:"linear-gradient(135deg, #FFB703 0%, #FB8500 100%)",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)",minHeight:"52px"},onMouseEnter:e=>e.currentTarget.style.boxShadow="0 4px 16px rgba(0, 0, 0, 0.15)",onMouseLeave:e=>e.currentTarget.style.boxShadow="0 2px 8px rgba(0, 0, 0, 0.1)",children:"\uc751\uc6d0\ud558\uae30"})]})]})]})})},Ik=["#FFD166","#F6BD60","#F28482","#84A59D","#FFE066","#F7C678","#F5A097","#9DB5B2","#FFD93D","#F4B942","#E89A8A","#7A9A94"],Ak=-8,Pk=8;function Nk(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const t=Math.min(8*e,226),n=Math.max(120,t+24),r=Math.floor((n-24)/8),i=r>0?Math.ceil(e/r):1,o=Math.max(100,20*i+60);return{width:Math.min(n,250),height:o}}const Dk=()=>{const{id:e}=ge(),t=me(),{user:n,signOut:i}=ry(),[o,s]=(0,r.useState)(null),[a,l]=(0,r.useState)([]),[u,h]=(0,r.useState)(null),[d,f]=(0,r.useState)(!1),[p,m]=(0,r.useState)(!1),[g,y]=(0,r.useState)(!1),[v,b]=(0,r.useState)(window.innerWidth<640),[w,S]=(0,r.useState)(0),E=(0,r.useRef)(null);(0,r.useEffect)(()=>{const e=()=>{b(window.innerWidth<640)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,r.useEffect)(()=>{if(!e)return;const r=Ef(Ed(Jg,"boards",e),e=>{if(e.exists()){const t=e.data();s(t),n&&t.ownerId===n.uid?m(!0):m(!1)}else alert("\uc874\uc7ac\ud558\uc9c0 \uc54a\ub294 \ubcf4\ub4dc\uc785\ub2c8\ub2e4."),t("/")});return()=>r()},[e,n,t]),(0,r.useEffect)(()=>{if(!e)return;const t=Ef(sf(Sd(Jg,"boards",e,"notes"),function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=tf("orderBy",e);return uf._create(n,t)}("createdAt","asc")),e=>{const t=[];if(e.forEach(e=>{t.push(c({id:e.id},e.data()))}),l(t),t.length>0){const e=t[t.length-1];void 0!==e.page&&S(e.page)}});return()=>t()},[e]);const x=()=>({width:v?window.innerWidth-24:1400,height:v?.7*window.innerHeight:800}),T=(0,r.useMemo)(()=>{const e=[...a].sort((e,t)=>{var n,r,i,o,s,a;return((null===(n=e.createdAt)||void 0===n||null===(r=n.toMillis)||void 0===r?void 0:r.call(n))||(null===(i=e.createdAt)||void 0===i?void 0:i.seconds)||0)-((null===(o=t.createdAt)||void 0===o||null===(s=o.toMillis)||void 0===s?void 0:s.call(o))||(null===(a=t.createdAt)||void 0===a?void 0:a.seconds)||0)}).map((e,t)=>{const n=void 0!==e.page?e.page:Math.floor(t/20);return c(c({},e),{},{calculatedPage:n})}),t={};let n=0;return e.forEach(e=>{const r=e.calculatedPage;t[r]||(t[r]=[]),t[r].push(e),n=Math.max(n,r)}),{postsByPage:t,maxPage:n,postsPerPage:20}},[a]),k=T.postsByPage[w]||[],_=Math.max(1,T.maxPage+1),C=async t=>{var n;if(e&&t&&window.confirm("\uc774 \uc751\uc6d0 \uba54\uc2dc\uc9c0\ub97c \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?"))try{const r=Ed(Jg,"boards",e,"notes",t);await(n=r,xf(Ri(n.firestore,Cd),[new ul(n._key,Xa.none())])),h(null)}catch(Lk){alert("\ud3ec\uc2a4\ud2b8\uc787 \uc0ad\uc81c\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.")}},I=window.location.href,A="".concat((null===o||void 0===o?void 0:o.owner)||"\uc775\uba85","\ub2d8\uc758 \uc751\uc6d0 \ubcf4\ub4dc"),P="".concat((null===o||void 0===o?void 0:o.owner)||"\uc775\uba85","\ub2d8\uc758 \uc218\ub2a5 \uc751\uc6d0 \ubcf4\ub4dc\uc5d0 \uc751\uc6d0 \uba54\uc2dc\uc9c0\ub97c \ub0a8\uaca8\uc8fc\uc138\uc694!"),N=async()=>{if(navigator.share)try{await navigator.share({title:A,text:P,url:I})}catch(Lk){}else D()},D=async()=>{try{await navigator.clipboard.writeText(I),y(!0),setTimeout(()=>y(!1),2e3)}catch(Lk){const n=document.createElement("textarea");n.value=I,n.style.position="fixed",n.style.opacity="0",document.body.appendChild(n),n.select();try{document.execCommand("copy"),y(!0),setTimeout(()=>y(!1),2e3)}catch(e){alert("\ub9c1\ud06c \ubcf5\uc0ac\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4. \ub9c1\ud06c\ub97c \uc9c1\uc811 \ubcf5\uc0ac\ud574\uc8fc\uc138\uc694.")}document.body.removeChild(n)}},R=o?function(e){if(!e)return null;const t=new Date,n=new Date(e+"T00:00:00"),r=Math.ceil((n-new Date(t.toDateString()))/864e5);return 0===r?"D-Day!":r>0?"D-".concat(r):"D+".concat(Math.abs(r))}(o.ddayTarget):null;return(0,ty.jsxs)("div",{className:"min-h-screen p-3 sm:p-4 md:p-6 flex flex-col items-center",style:{backgroundColor:"#FFFDF7",overflowY:"auto"},children:[(0,ty.jsxs)("div",{className:"w-full mb-2",style:{display:"flex",flexDirection:"column",alignItems:"center",width:"100%"},children:[(0,ty.jsx)(sk.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5,ease:[.22,1,.36,1]},className:"mb-8 sm:mb-10 md:mb-12 w-full",style:{maxWidth:"1200px",margin:"0 auto",width:"100%"},children:(0,ty.jsxs)("div",{className:"flex flex-col items-center gap-4 sm:gap-5 bg-white rounded-2xl p-4 sm:p-5 md:p-6 shadow-sm",style:{boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},children:[(0,ty.jsx)("div",{className:"text-center w-full",children:(0,ty.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3 justify-center mb-3 flex-wrap",children:[(0,ty.jsxs)("h2",{className:"text-lg sm:text-xl md:text-2xl lg:text-3xl font-bold break-words",style:{color:"#333333"},children:[(null===o||void 0===o?void 0:o.owner)||"\uc775\uba85","\ub2d8\uc758 \uc751\uc6d0 \ubcf4\ub4dc"]}),(0,ty.jsx)(sk.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:N,className:"p-2 sm:p-2.5 rounded-lg transition-all flex-shrink-0 touch-manipulation",style:{color:"#999999",minWidth:"44px",minHeight:"44px",display:"flex",alignItems:"center",justifyContent:"center"},onMouseEnter:e=>{e.currentTarget.style.color="#FFB703",e.currentTarget.style.backgroundColor="#FFFDF7"},onMouseLeave:e=>{e.currentTarget.style.color="#999999",e.currentTarget.style.backgroundColor="transparent"},title:"\uacf5\uc720\ud558\uae30",children:(0,ty.jsx)("svg",{className:"w-5 h-5 sm:w-6 sm:h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ty.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"})})})]})}),(0,ty.jsxs)("div",{className:"flex flex-col items-center gap-3 sm:gap-4 w-full",children:[R&&(0,ty.jsx)(sk.div,{whileHover:{scale:1.02},className:"text-center px-4 sm:px-6 md:px-8 py-2.5 sm:py-3 md:py-4 rounded-xl shadow-sm w-full sm:w-auto",style:{background:"linear-gradient(135deg, #FFB703 0%, #FB8500 100%)",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},children:(0,ty.jsx)("div",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-white",children:R})}),(0,ty.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-3 justify-center w-full sm:w-auto",children:[!n&&(0,ty.jsx)(sk.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>t("/login"),className:"px-5 sm:px-6 py-3.5 text-white rounded-xl transition-all text-sm sm:text-base font-semibold shadow-sm hover:shadow-md whitespace-nowrap touch-manipulation w-full sm:w-auto",style:{background:"linear-gradient(135deg, #FFB703 0%, #FB8500 100%)",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)",minHeight:"48px"},children:"\ub098\ub3c4 \ubcf4\ub4dc \ub9cc\ub4e4\uae30"}),(0,ty.jsx)(sk.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>t("/"),className:"px-5 sm:px-6 py-3.5 rounded-xl transition-all text-sm sm:text-base font-semibold whitespace-nowrap touch-manipulation w-full sm:w-auto",style:{backgroundColor:"#FFFDF7",color:"#666666",border:"2px solid rgba(0, 0, 0, 0.1)",minHeight:"48px",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.05)"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="#F6BD60",e.currentTarget.style.color="#333333",e.currentTarget.style.borderColor="#FFB703",e.currentTarget.style.boxShadow="0 4px 8px rgba(0, 0, 0, 0.1)"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="#FFFDF7",e.currentTarget.style.color="#666666",e.currentTarget.style.borderColor="rgba(0, 0, 0, 0.1)",e.currentTarget.style.boxShadow="0 2px 4px rgba(0, 0, 0, 0.05)"},children:"\ud648\uc73c\ub85c"}),(0,ty.jsxs)(sk.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:N,className:"px-5 sm:px-6 py-3.5 rounded-xl transition-all text-sm sm:text-base font-semibold whitespace-nowrap touch-manipulation w-full sm:w-auto flex items-center justify-center gap-2",style:{background:"linear-gradient(135deg, #FFB703 0%, #FB8500 100%)",color:"#FFFFFF",minHeight:"48px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},onMouseEnter:e=>e.currentTarget.style.boxShadow="0 4px 16px rgba(0, 0, 0, 0.15)",onMouseLeave:e=>e.currentTarget.style.boxShadow="0 2px 8px rgba(0, 0, 0, 0.1)",children:[(0,ty.jsx)("svg",{className:"w-5 h-5 sm:w-6 sm:h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ty.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"})}),(0,ty.jsx)("span",{children:"\uacf5\uc720\ud558\uae30"})]}),(0,ty.jsx)(sk.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:D,className:"px-5 sm:px-6 py-3.5 rounded-xl transition-all text-sm sm:text-base font-semibold whitespace-nowrap touch-manipulation w-full sm:w-auto flex items-center justify-center gap-2",style:g?{backgroundColor:"#84A59D",color:"white",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)",minHeight:"48px"}:{backgroundColor:"#FFFDF7",color:"#666666",border:"2px solid rgba(0, 0, 0, 0.1)",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.05)",minHeight:"48px"},onMouseEnter:e=>{g||(e.currentTarget.style.backgroundColor="#F6BD60",e.currentTarget.style.color="#333333")},onMouseLeave:e=>{g||(e.currentTarget.style.backgroundColor="#FFFDF7",e.currentTarget.style.color="#666666")},children:g?(0,ty.jsxs)(ty.Fragment,{children:[(0,ty.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ty.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),(0,ty.jsx)("span",{children:"\ubcf5\uc0ac\ub428!"})]}):(0,ty.jsxs)(ty.Fragment,{children:[(0,ty.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ty.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),(0,ty.jsx)("span",{children:"\ub9c1\ud06c \ubcf5\uc0ac"})]})}),n&&(0,ty.jsx)(sk.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:async()=>{try{await i(),t("/")}catch(Lk){}},className:"px-5 sm:px-6 py-3.5 rounded-xl transition-all text-sm sm:text-base font-semibold whitespace-nowrap touch-manipulation w-full sm:w-auto",style:{backgroundColor:"#FFFDF7",color:"#666666",border:"2px solid rgba(0, 0, 0, 0.1)",minHeight:"48px",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.05)"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="#F6BD60",e.currentTarget.style.color="#333333",e.currentTarget.style.borderColor="#FFB703",e.currentTarget.style.boxShadow="0 4px 8px rgba(0, 0, 0, 0.1)"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="#FFFDF7",e.currentTarget.style.color="#666666",e.currentTarget.style.borderColor="rgba(0, 0, 0, 0.1)",e.currentTarget.style.boxShadow="0 2px 4px rgba(0, 0, 0, 0.05)"},children:"\ub85c\uadf8\uc544\uc6c3"})]})]})]})}),(0,ty.jsxs)("div",{style:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center",marginTop:"16px",gap:"16px"},children:[_>1&&(0,ty.jsxs)("div",{className:"flex items-center gap-2 sm:gap-4",children:[(0,ty.jsx)(sk.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>S(Math.max(0,w-1)),disabled:0===w,className:"px-3 sm:px-4 py-2 rounded-lg font-semibold text-sm sm:text-base touch-manipulation disabled:opacity-50 disabled:cursor-not-allowed",style:{backgroundColor:0===w?"#e0e0e0":"#FFB703",color:0===w?"#999":"#fff",minWidth:"80px"},children:"\uc774\uc804"}),(0,ty.jsxs)("div",{className:"text-sm sm:text-base font-semibold px-4 py-2 rounded-lg",style:{backgroundColor:"#FFFDF7",border:"2px solid rgba(0, 0, 0, 0.1)"},children:[w+1," / ",_]}),(0,ty.jsx)(sk.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>S(Math.min(_-1,w+1)),disabled:w>=_-1,className:"px-3 sm:px-4 py-2 rounded-lg font-semibold text-sm sm:text-base touch-manipulation disabled:opacity-50 disabled:cursor-not-allowed",style:{backgroundColor:w>=_-1?"#e0e0e0":"#FFB703",color:w>=_-1?"#999":"#fff",minWidth:"80px"},children:"\ub2e4\uc74c"})]}),(0,ty.jsxs)(sk.div,{ref:E,initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"relative rounded-2xl sm:rounded-3xl",style:{width:"".concat(x().width,"px"),height:"".concat(x().height,"px"),maxWidth:v?"calc(100% - 24px)":"95vw",maxHeight:v?"70vh":"80vh",backgroundColor:"#FFFDF7",boxShadow:"0 8px 16px rgba(0, 0, 0, 0.1)",border:"2px solid rgba(0, 0, 0, 0.1)",overflow:"hidden",position:"relative"},children:[k.map(e=>(0,ty.jsx)(mk,{post:e,isOwner:p,onClick:p?h:()=>{},postCount:k.length},e.id)),(0,ty.jsx)(sk.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>f(!0),className:"absolute text-white font-semibold rounded-2xl transition-all z-10 flex items-center gap-2 touch-manipulation",style:{top:v?"1rem":"1.5rem",left:"50%",padding:v?"14px 38px":"16px 32px",fontSize:v?"16px":"18px",background:"linear-gradient(135deg, #FFB703 0%, #FB8500 100%)",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)",minHeight:"48px",minWidth:"140px"},initial:{x:"-50%"},animate:{x:"-50%"},onMouseEnter:e=>e.currentTarget.style.boxShadow="0 4px 16px rgba(0, 0, 0, 0.15)",onMouseLeave:e=>e.currentTarget.style.boxShadow="0 2px 8px rgba(0, 0, 0, 0.1)",children:(0,ty.jsx)("span",{children:"\uc751\uc6d0 \ud558\uae30"})}),0===k.length&&(0,ty.jsx)("div",{className:"absolute inset-0 flex items-center justify-center px-4",children:(0,ty.jsxs)(sk.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center",children:[(0,ty.jsx)("div",{className:"text-4xl sm:text-5xl md:text-6xl mb-3 sm:mb-4",children:"\ud83d\udcdd"}),(0,ty.jsx)("p",{className:"text-lg sm:text-xl md:text-2xl font-bold text-gray-400 mb-2",children:0===a.length?"\uc544\uc9c1 \uc751\uc6d0 \uba54\uc2dc\uc9c0\uac00 \uc5c6\uc5b4\uc694":"\uc774 \ud398\uc774\uc9c0\uc5d0\ub294 \ud3ec\uc2a4\ud2b8\uc787\uc774 \uc5c6\uc5b4\uc694"}),(0,ty.jsx)("p",{className:"text-sm sm:text-base text-gray-500",children:0===a.length?"\uccab \ubc88\uc9f8 \uc751\uc6d0 \uba54\uc2dc\uc9c0\ub97c \ub0a8\uaca8\ubcf4\uc138\uc694! \u2728":"\ub2e4\ub978 \ud398\uc774\uc9c0\ub97c \ud655\uc778\ud574\ubcf4\uc138\uc694!"})]})})]})]}),(0,ty.jsxs)(sk.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},className:"mt-4 sm:mt-6 bg-white rounded-2xl p-4 sm:p-6 mx-auto w-full",style:{boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)",maxWidth:"1200px"},children:[p&&(0,ty.jsxs)("div",{className:"mb-4 rounded-xl p-4",style:{backgroundColor:"#E8F5E9",border:"1px solid #C8E6C9"},children:[(0,ty.jsx)("p",{className:"text-sm text-center font-semibold",style:{color:"#2E7D32"},children:"\ubcf4\ub4dc \uc8fc\uc778\uc73c\ub85c \ub85c\uadf8\uc778\ub418\uc5b4 \uc788\uc2b5\ub2c8\ub2e4"}),(0,ty.jsx)("p",{className:"text-xs text-center mt-1",style:{color:"#4CAF50"},children:"\ubaa8\ub4e0 \uc751\uc6d0 \uba54\uc2dc\uc9c0\ub97c \ud655\uc778\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4"})]}),!p&&n&&(0,ty.jsxs)("div",{className:"mb-4 rounded-xl p-4",style:{backgroundColor:"#FFF9E6",border:"1px solid #FFE5B4"},children:[(0,ty.jsx)("p",{className:"text-sm text-center font-semibold",style:{color:"#FB8500"},children:"\uc774 \ubcf4\ub4dc\uc758 \uc8fc\uc778\uc774 \uc544\ub2d9\ub2c8\ub2e4"}),(0,ty.jsx)("p",{className:"text-xs text-center mt-1",style:{color:"#FFB703"},children:"\uc751\uc6d0 \uba54\uc2dc\uc9c0\ub294 \uc791\uc131\ud560 \uc218 \uc788\uc9c0\ub9cc, \ub0b4\uc6a9\uc740 \ubcf4\ub4dc \uc8fc\uc778\ub9cc \ud655\uc778\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4"})]})]})]}),(0,ty.jsx)(_k,{post:u,isOpen:!!u&&p,onClose:()=>h(null),onDelete:u?()=>C(u.id):null,isOwner:p}),(0,ty.jsx)(Ck,{isOpen:d,onClose:()=>f(!1),onSubmit:async(t,n)=>{if(e)try{const r=x(),i=r.width,o=r.height,s=T.maxPage,l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1400,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:800,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;const i=30,o=15,s=Nk(arguments.length>3&&void 0!==arguments[3]?arguments[3]:0),a=s.width,l=s.height,u=[...e].sort((e,t)=>{var n,r,i,o,s,a;return((null===(n=e.createdAt)||void 0===n||null===(r=n.toMillis)||void 0===r?void 0:r.call(n))||(null===(i=e.createdAt)||void 0===i?void 0:i.seconds)||0)-((null===(o=t.createdAt)||void 0===o||null===(s=o.toMillis)||void 0===s?void 0:s.call(o))||(null===(a=t.createdAt)||void 0===a?void 0:a.seconds)||0)}).filter((e,t)=>(void 0!==e.page?e.page:Math.floor(t/20))===r);if(0===u.length)return{x:(i+a/2)/t*100,y:(i+l/2)/n*100,page:r,needsExpansion:!1};const h=u.map(e=>{const r=Nk(e.message?e.message.length:0),i=e.x/100*t,o=e.y/100*n,s=i-r.width/2,a=o-r.height/2;return c(c({},e),{},{pixelX:s,pixelY:a,width:r.width,height:r.height})}),d=l+o,f=[];for(const c of h){let e=!1;for(const t of f)if(Math.abs(t[0].pixelY-c.pixelY)<d){t.push(c),e=!0;break}e||f.push([c])}f.forEach(e=>{e.sort((e,t)=>e.pixelX-t.pixelX)}),f.sort((e,t)=>e[0].pixelY-t[0].pixelY);const p=(e,t,n,r)=>{const i=e+n,s=t+r;for(const a of h){const n=a.pixelX+a.width,r=a.pixelY+a.height;if(!(i+o<a.pixelX-o||e-o>n+o||s+o<a.pixelY-o||t-o>r+o))return!0}return!1};let m=i,g=i,y=!1;for(let c=0;c<f.length;c++){const e=f[c],n=e[0].pixelY;for(let c=0;c<e.length;c++){const r=e[c],s=r.pixelX+r.width+o,u=n;if(s+a>t-i)break;if(!p(s,u,a,l)){m=s,g=u,y=!0;break}}if(y)break;const r=e[e.length-1],s=r.pixelX+r.width+o,u=n;if(s+a<=t-i&&!p(s,u,a,l)){m=s,g=u,y=!0;break}}if(!y&&f.length>0){const e=f[f.length-1],t=e[e.length-1];m=i,g=t.pixelY+t.height+o}const v=t-i-a,b=n-i-l;if(m=Math.max(i,Math.min(m,v)),g=Math.max(i,Math.min(g,b)),m+a<=t-i&&g+l<=n-i&&!p(m,g,a,l)){const e=(m+a/2)/t*100,i=(g+l/2)/n*100,o=a/2/t*100,s=l/2/n*100;return{x:Math.max(o,Math.min(e,100-o)),y:Math.max(s,Math.min(i,100-s)),page:r,needsExpansion:!1}}for(let c=i;c+l<=n-i;c+=20)for(let e=i;e+a<=t-i;e+=20)if(!p(e,c,a,l)){const i=(e+a/2)/t*100,o=(c+l/2)/n*100,s=a/2/t*100,u=l/2/n*100;return{x:Math.max(s,Math.min(i,100-s)),y:Math.max(u,Math.min(o,100-u)),page:r,needsExpansion:!1}}const w=r+1,S=(i+a/2)/t*100,E=(i+l/2)/n*100,x=a/2/t*100,T=l/2/n*100;return{x:Math.max(x,Math.min(S,100-x)),y:Math.max(T,Math.min(E,100-T)),page:w,needsExpansion:!1}}(a,i,o,n.length,s),u=Math.floor(Math.random()*(Pk-Ak+1))+Ak,h=Ik[Math.floor(Math.random()*Ik.length)],d=Sd(Jg,"boards",e,"notes");await function(e,t){const n=Ri(e.firestore,Cd),r=Ed(e),i=mf(e.converter,t);return xf(n,[zd(Ud(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Xa.exists(!1))]).then(()=>r)}(d,{nickname:t,message:n,x:l.x,y:l.y,rotation:u,color:h,page:l.page,createdAt:kf()}),void 0!==l.page&&S(l.page)}catch(Lk){alert("\uc751\uc6d0 \uba54\uc2dc\uc9c0 \ucd94\uac00\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4. \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694.")}}})]})},Rk=()=>{const e=me(),{user:t,isAuthenticated:n}=ry(),[i,o]=(0,r.useState)(!1),[s,a]=(0,r.useState)(null);(0,r.useEffect)(()=>{n&&t&&e("/")},[n,t,e]);return(0,ty.jsx)("div",{className:"min-h-screen flex items-center justify-center p-4 md:p-8",style:{backgroundColor:"#FFFDF7"},children:(0,ty.jsx)("div",{className:"max-w-md w-full",children:(0,ty.jsxs)(sk.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,ease:[.22,1,.36,1]},className:"bg-white rounded-3xl p-8 md:p-12 shadow-sm",style:{boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},children:[(0,ty.jsxs)(sk.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1,duration:.5},className:"text-center mb-12",children:[(0,ty.jsx)("h1",{className:"text-4xl md:text-5xl font-bold mb-4",style:{color:"#333333"},children:"\ub85c\uadf8\uc778"}),(0,ty.jsx)("p",{className:"text-lg mb-2",style:{color:"#666666"},children:"\ubcf4\ub4dc\ub97c \ub9cc\ub4e4\ub824\uba74 \ub85c\uadf8\uc778\uc774 \ud544\uc694\ud569\ub2c8\ub2e4"}),(0,ty.jsx)("p",{className:"text-base",style:{color:"#999999"},children:"\uad6c\uae00 \uacc4\uc815\uc73c\ub85c \uac04\ud3b8\ud558\uac8c \ub85c\uadf8\uc778\ud558\uc138\uc694"})]}),s&&(0,ty.jsx)(sk.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-8 p-4 rounded-xl text-sm",style:{backgroundColor:"#FFF4F4",border:"1px solid #FFE5E5",color:"#F04452"},children:s}),(0,ty.jsx)("div",{className:"space-y-6",children:(0,ty.jsx)(sk.button,{whileHover:{scale:1.01},whileTap:{scale:.99},onClick:async()=>{o(!0),a(null);try{await async function(e,t,n){if(dr(e.app))return Promise.reject(Of(e,"operation-not-supported-in-this-environment"));const r=qp(e);Vf(e,t,gm);const i=og(r,n);return new dg(r,"signInViaPopup",t,i).executeNotNull()}(Zg,ey),e("/")}catch(s){a("\uad6c\uae00 \ub85c\uadf8\uc778\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4. \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694.")}finally{o(!1)}},disabled:i,className:"w-full py-4 px-6 bg-white rounded-2xl font-semibold transition-all shadow-sm disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-3",style:{border:"1px solid rgba(0, 0, 0, 0.1)",color:"#333333",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"},onMouseEnter:e=>e.currentTarget.style.backgroundColor="#FFFDF7",onMouseLeave:e=>e.currentTarget.style.backgroundColor="white",children:i?(0,ty.jsxs)(ty.Fragment,{children:[(0,ty.jsxs)("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[(0,ty.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),(0,ty.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,ty.jsx)("span",{children:"\ub85c\uadf8\uc778 \uc911..."})]}):(0,ty.jsxs)(ty.Fragment,{children:[(0,ty.jsxs)("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",children:[(0,ty.jsx)("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),(0,ty.jsx)("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),(0,ty.jsx)("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),(0,ty.jsx)("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),(0,ty.jsx)("span",{children:"\uad6c\uae00\ub85c \ub85c\uadf8\uc778"})]})})}),(0,ty.jsx)("div",{className:"mt-10 text-center",children:(0,ty.jsx)(sk.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>e("/"),className:"text-sm transition-colors font-medium",style:{color:"#999999"},onMouseEnter:e=>e.target.style.color="#666666",onMouseLeave:e=>e.target.style.color="#999999",children:"\u2190 \ud648\uc73c\ub85c \ub3cc\uc544\uac00\uae30"})}),(0,ty.jsx)(sk.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"mt-12 p-6 rounded-2xl",style:{backgroundColor:"#FFFDF7",border:"1px solid rgba(0, 0, 0, 0.1)"},children:(0,ty.jsxs)("p",{className:"text-sm text-center leading-relaxed",style:{color:"#666666"},children:["\ub85c\uadf8\uc778 \ud6c4 \ubcf4\ub4dc\ub97c \ub9cc\ub4e4\uace0",(0,ty.jsx)("br",{}),"\uce5c\uad6c\ub4e4\uc5d0\uac8c \ub9c1\ud06c\ub97c \uacf5\uc720\ud574\uc11c \ub530\ub73b\ud55c \uc751\uc6d0 \uba54\uc2dc\uc9c0\ub97c \ubc1b\uc544\ubcf4\uc138\uc694."]})})]})})})};const Fk=function(){return(0,ty.jsx)(iy,{children:(0,ty.jsx)(pt,{children:(0,ty.jsxs)(Oe,{children:[(0,ty.jsx)(Re,{path:"/",element:(0,ty.jsx)(pk,{})}),(0,ty.jsx)(Re,{path:"/login",element:(0,ty.jsx)(Rk,{})}),(0,ty.jsx)(Re,{path:"/board/:id",element:(0,ty.jsx)(Dk,{})})]})})})};i.createRoot(document.getElementById("root")).render((0,ty.jsx)(r.StrictMode,{children:(0,ty.jsx)(Fk,{})}))})();
//# sourceMappingURL=main.8e33cbaf.js.map